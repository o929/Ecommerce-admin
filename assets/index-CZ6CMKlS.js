(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const o of document.querySelectorAll('link[rel="modulepreload"]'))s(o);new MutationObserver(o=>{for(const h of o)if(h.type==="childList")for(const d of h.addedNodes)d.tagName==="LINK"&&d.rel==="modulepreload"&&s(d)}).observe(document,{childList:!0,subtree:!0});function i(o){const h={};return o.integrity&&(h.integrity=o.integrity),o.referrerPolicy&&(h.referrerPolicy=o.referrerPolicy),o.crossOrigin==="use-credentials"?h.credentials="include":o.crossOrigin==="anonymous"?h.credentials="omit":h.credentials="same-origin",h}function s(o){if(o.ep)return;o.ep=!0;const h=i(o);fetch(o.href,h)}})();function i1(r){return r&&r.__esModule&&Object.prototype.hasOwnProperty.call(r,"default")?r.default:r}var Zf={exports:{}},wt={};/**
 * @license React
 * react.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Ly;function r1(){if(Ly)return wt;Ly=1;var r=Symbol.for("react.transitional.element"),e=Symbol.for("react.portal"),i=Symbol.for("react.fragment"),s=Symbol.for("react.strict_mode"),o=Symbol.for("react.profiler"),h=Symbol.for("react.consumer"),d=Symbol.for("react.context"),p=Symbol.for("react.forward_ref"),g=Symbol.for("react.suspense"),y=Symbol.for("react.memo"),E=Symbol.for("react.lazy"),S=Symbol.iterator;function R(N){return N===null||typeof N!="object"?null:(N=S&&N[S]||N["@@iterator"],typeof N=="function"?N:null)}var L={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},G=Object.assign,$={};function H(N,Z,at){this.props=N,this.context=Z,this.refs=$,this.updater=at||L}H.prototype.isReactComponent={},H.prototype.setState=function(N,Z){if(typeof N!="object"&&typeof N!="function"&&N!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,N,Z,"setState")},H.prototype.forceUpdate=function(N){this.updater.enqueueForceUpdate(this,N,"forceUpdate")};function nt(){}nt.prototype=H.prototype;function tt(N,Z,at){this.props=N,this.context=Z,this.refs=$,this.updater=at||L}var it=tt.prototype=new nt;it.constructor=tt,G(it,H.prototype),it.isPureReactComponent=!0;var ft=Array.isArray,ot={H:null,A:null,T:null,S:null,V:null},St=Object.prototype.hasOwnProperty;function M(N,Z,at,rt,dt,Dt){return at=Dt.ref,{$$typeof:r,type:N,key:Z,ref:at!==void 0?at:null,props:Dt}}function b(N,Z){return M(N.type,Z,void 0,void 0,void 0,N.props)}function w(N){return typeof N=="object"&&N!==null&&N.$$typeof===r}function O(N){var Z={"=":"=0",":":"=2"};return"$"+N.replace(/[=:]/g,function(at){return Z[at]})}var x=/\/+/g;function I(N,Z){return typeof N=="object"&&N!==null&&N.key!=null?O(""+N.key):Z.toString(36)}function C(){}function Jt(N){switch(N.status){case"fulfilled":return N.value;case"rejected":throw N.reason;default:switch(typeof N.status=="string"?N.then(C,C):(N.status="pending",N.then(function(Z){N.status==="pending"&&(N.status="fulfilled",N.value=Z)},function(Z){N.status==="pending"&&(N.status="rejected",N.reason=Z)})),N.status){case"fulfilled":return N.value;case"rejected":throw N.reason}}throw N}function qt(N,Z,at,rt,dt){var Dt=typeof N;(Dt==="undefined"||Dt==="boolean")&&(N=null);var At=!1;if(N===null)At=!0;else switch(Dt){case"bigint":case"string":case"number":At=!0;break;case"object":switch(N.$$typeof){case r:case e:At=!0;break;case E:return At=N._init,qt(At(N._payload),Z,at,rt,dt)}}if(At)return dt=dt(N),At=rt===""?"."+I(N,0):rt,ft(dt)?(at="",At!=null&&(at=At.replace(x,"$&/")+"/"),qt(dt,Z,at,"",function(zn){return zn})):dt!=null&&(w(dt)&&(dt=b(dt,at+(dt.key==null||N&&N.key===dt.key?"":(""+dt.key).replace(x,"$&/")+"/")+At)),Z.push(dt)),1;At=0;var De=rt===""?".":rt+":";if(ft(N))for(var Wt=0;Wt<N.length;Wt++)rt=N[Wt],Dt=De+I(rt,Wt),At+=qt(rt,Z,at,Dt,dt);else if(Wt=R(N),typeof Wt=="function")for(N=Wt.call(N),Wt=0;!(rt=N.next()).done;)rt=rt.value,Dt=De+I(rt,Wt++),At+=qt(rt,Z,at,Dt,dt);else if(Dt==="object"){if(typeof N.then=="function")return qt(Jt(N),Z,at,rt,dt);throw Z=String(N),Error("Objects are not valid as a React child (found: "+(Z==="[object Object]"?"object with keys {"+Object.keys(N).join(", ")+"}":Z)+"). If you meant to render a collection of children, use an array instead.")}return At}function Y(N,Z,at){if(N==null)return N;var rt=[],dt=0;return qt(N,rt,"","",function(Dt){return Z.call(at,Dt,dt++)}),rt}function lt(N){if(N._status===-1){var Z=N._result;Z=Z(),Z.then(function(at){(N._status===0||N._status===-1)&&(N._status=1,N._result=at)},function(at){(N._status===0||N._status===-1)&&(N._status=2,N._result=at)}),N._status===-1&&(N._status=0,N._result=Z)}if(N._status===1)return N._result.default;throw N._result}var pt=typeof reportError=="function"?reportError:function(N){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var Z=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof N=="object"&&N!==null&&typeof N.message=="string"?String(N.message):String(N),error:N});if(!window.dispatchEvent(Z))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",N);return}console.error(N)};function ht(){}return wt.Children={map:Y,forEach:function(N,Z,at){Y(N,function(){Z.apply(this,arguments)},at)},count:function(N){var Z=0;return Y(N,function(){Z++}),Z},toArray:function(N){return Y(N,function(Z){return Z})||[]},only:function(N){if(!w(N))throw Error("React.Children.only expected to receive a single React element child.");return N}},wt.Component=H,wt.Fragment=i,wt.Profiler=o,wt.PureComponent=tt,wt.StrictMode=s,wt.Suspense=g,wt.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=ot,wt.__COMPILER_RUNTIME={__proto__:null,c:function(N){return ot.H.useMemoCache(N)}},wt.cache=function(N){return function(){return N.apply(null,arguments)}},wt.cloneElement=function(N,Z,at){if(N==null)throw Error("The argument must be a React element, but you passed "+N+".");var rt=G({},N.props),dt=N.key,Dt=void 0;if(Z!=null)for(At in Z.ref!==void 0&&(Dt=void 0),Z.key!==void 0&&(dt=""+Z.key),Z)!St.call(Z,At)||At==="key"||At==="__self"||At==="__source"||At==="ref"&&Z.ref===void 0||(rt[At]=Z[At]);var At=arguments.length-2;if(At===1)rt.children=at;else if(1<At){for(var De=Array(At),Wt=0;Wt<At;Wt++)De[Wt]=arguments[Wt+2];rt.children=De}return M(N.type,dt,void 0,void 0,Dt,rt)},wt.createContext=function(N){return N={$$typeof:d,_currentValue:N,_currentValue2:N,_threadCount:0,Provider:null,Consumer:null},N.Provider=N,N.Consumer={$$typeof:h,_context:N},N},wt.createElement=function(N,Z,at){var rt,dt={},Dt=null;if(Z!=null)for(rt in Z.key!==void 0&&(Dt=""+Z.key),Z)St.call(Z,rt)&&rt!=="key"&&rt!=="__self"&&rt!=="__source"&&(dt[rt]=Z[rt]);var At=arguments.length-2;if(At===1)dt.children=at;else if(1<At){for(var De=Array(At),Wt=0;Wt<At;Wt++)De[Wt]=arguments[Wt+2];dt.children=De}if(N&&N.defaultProps)for(rt in At=N.defaultProps,At)dt[rt]===void 0&&(dt[rt]=At[rt]);return M(N,Dt,void 0,void 0,null,dt)},wt.createRef=function(){return{current:null}},wt.forwardRef=function(N){return{$$typeof:p,render:N}},wt.isValidElement=w,wt.lazy=function(N){return{$$typeof:E,_payload:{_status:-1,_result:N},_init:lt}},wt.memo=function(N,Z){return{$$typeof:y,type:N,compare:Z===void 0?null:Z}},wt.startTransition=function(N){var Z=ot.T,at={};ot.T=at;try{var rt=N(),dt=ot.S;dt!==null&&dt(at,rt),typeof rt=="object"&&rt!==null&&typeof rt.then=="function"&&rt.then(ht,pt)}catch(Dt){pt(Dt)}finally{ot.T=Z}},wt.unstable_useCacheRefresh=function(){return ot.H.useCacheRefresh()},wt.use=function(N){return ot.H.use(N)},wt.useActionState=function(N,Z,at){return ot.H.useActionState(N,Z,at)},wt.useCallback=function(N,Z){return ot.H.useCallback(N,Z)},wt.useContext=function(N){return ot.H.useContext(N)},wt.useDebugValue=function(){},wt.useDeferredValue=function(N,Z){return ot.H.useDeferredValue(N,Z)},wt.useEffect=function(N,Z,at){var rt=ot.H;if(typeof at=="function")throw Error("useEffect CRUD overload is not enabled in this build of React.");return rt.useEffect(N,Z)},wt.useId=function(){return ot.H.useId()},wt.useImperativeHandle=function(N,Z,at){return ot.H.useImperativeHandle(N,Z,at)},wt.useInsertionEffect=function(N,Z){return ot.H.useInsertionEffect(N,Z)},wt.useLayoutEffect=function(N,Z){return ot.H.useLayoutEffect(N,Z)},wt.useMemo=function(N,Z){return ot.H.useMemo(N,Z)},wt.useOptimistic=function(N,Z){return ot.H.useOptimistic(N,Z)},wt.useReducer=function(N,Z,at){return ot.H.useReducer(N,Z,at)},wt.useRef=function(N){return ot.H.useRef(N)},wt.useState=function(N){return ot.H.useState(N)},wt.useSyncExternalStore=function(N,Z,at){return ot.H.useSyncExternalStore(N,Z,at)},wt.useTransition=function(){return ot.H.useTransition()},wt.version="19.1.1",wt}var Py;function kd(){return Py||(Py=1,Zf.exports=r1()),Zf.exports}var q=kd();const B=i1(q);var Jf={exports:{}},Jl={},Wf={exports:{}},td={};/**
 * @license React
 * scheduler.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var ky;function a1(){return ky||(ky=1,(function(r){function e(Y,lt){var pt=Y.length;Y.push(lt);t:for(;0<pt;){var ht=pt-1>>>1,N=Y[ht];if(0<o(N,lt))Y[ht]=lt,Y[pt]=N,pt=ht;else break t}}function i(Y){return Y.length===0?null:Y[0]}function s(Y){if(Y.length===0)return null;var lt=Y[0],pt=Y.pop();if(pt!==lt){Y[0]=pt;t:for(var ht=0,N=Y.length,Z=N>>>1;ht<Z;){var at=2*(ht+1)-1,rt=Y[at],dt=at+1,Dt=Y[dt];if(0>o(rt,pt))dt<N&&0>o(Dt,rt)?(Y[ht]=Dt,Y[dt]=pt,ht=dt):(Y[ht]=rt,Y[at]=pt,ht=at);else if(dt<N&&0>o(Dt,pt))Y[ht]=Dt,Y[dt]=pt,ht=dt;else break t}}return lt}function o(Y,lt){var pt=Y.sortIndex-lt.sortIndex;return pt!==0?pt:Y.id-lt.id}if(r.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var h=performance;r.unstable_now=function(){return h.now()}}else{var d=Date,p=d.now();r.unstable_now=function(){return d.now()-p}}var g=[],y=[],E=1,S=null,R=3,L=!1,G=!1,$=!1,H=!1,nt=typeof setTimeout=="function"?setTimeout:null,tt=typeof clearTimeout=="function"?clearTimeout:null,it=typeof setImmediate<"u"?setImmediate:null;function ft(Y){for(var lt=i(y);lt!==null;){if(lt.callback===null)s(y);else if(lt.startTime<=Y)s(y),lt.sortIndex=lt.expirationTime,e(g,lt);else break;lt=i(y)}}function ot(Y){if($=!1,ft(Y),!G)if(i(g)!==null)G=!0,St||(St=!0,I());else{var lt=i(y);lt!==null&&qt(ot,lt.startTime-Y)}}var St=!1,M=-1,b=5,w=-1;function O(){return H?!0:!(r.unstable_now()-w<b)}function x(){if(H=!1,St){var Y=r.unstable_now();w=Y;var lt=!0;try{t:{G=!1,$&&($=!1,tt(M),M=-1),L=!0;var pt=R;try{e:{for(ft(Y),S=i(g);S!==null&&!(S.expirationTime>Y&&O());){var ht=S.callback;if(typeof ht=="function"){S.callback=null,R=S.priorityLevel;var N=ht(S.expirationTime<=Y);if(Y=r.unstable_now(),typeof N=="function"){S.callback=N,ft(Y),lt=!0;break e}S===i(g)&&s(g),ft(Y)}else s(g);S=i(g)}if(S!==null)lt=!0;else{var Z=i(y);Z!==null&&qt(ot,Z.startTime-Y),lt=!1}}break t}finally{S=null,R=pt,L=!1}lt=void 0}}finally{lt?I():St=!1}}}var I;if(typeof it=="function")I=function(){it(x)};else if(typeof MessageChannel<"u"){var C=new MessageChannel,Jt=C.port2;C.port1.onmessage=x,I=function(){Jt.postMessage(null)}}else I=function(){nt(x,0)};function qt(Y,lt){M=nt(function(){Y(r.unstable_now())},lt)}r.unstable_IdlePriority=5,r.unstable_ImmediatePriority=1,r.unstable_LowPriority=4,r.unstable_NormalPriority=3,r.unstable_Profiling=null,r.unstable_UserBlockingPriority=2,r.unstable_cancelCallback=function(Y){Y.callback=null},r.unstable_forceFrameRate=function(Y){0>Y||125<Y?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):b=0<Y?Math.floor(1e3/Y):5},r.unstable_getCurrentPriorityLevel=function(){return R},r.unstable_next=function(Y){switch(R){case 1:case 2:case 3:var lt=3;break;default:lt=R}var pt=R;R=lt;try{return Y()}finally{R=pt}},r.unstable_requestPaint=function(){H=!0},r.unstable_runWithPriority=function(Y,lt){switch(Y){case 1:case 2:case 3:case 4:case 5:break;default:Y=3}var pt=R;R=Y;try{return lt()}finally{R=pt}},r.unstable_scheduleCallback=function(Y,lt,pt){var ht=r.unstable_now();switch(typeof pt=="object"&&pt!==null?(pt=pt.delay,pt=typeof pt=="number"&&0<pt?ht+pt:ht):pt=ht,Y){case 1:var N=-1;break;case 2:N=250;break;case 5:N=1073741823;break;case 4:N=1e4;break;default:N=5e3}return N=pt+N,Y={id:E++,callback:lt,priorityLevel:Y,startTime:pt,expirationTime:N,sortIndex:-1},pt>ht?(Y.sortIndex=pt,e(y,Y),i(g)===null&&Y===i(y)&&($?(tt(M),M=-1):$=!0,qt(ot,pt-ht))):(Y.sortIndex=N,e(g,Y),G||L||(G=!0,St||(St=!0,I()))),Y},r.unstable_shouldYield=O,r.unstable_wrapCallback=function(Y){var lt=R;return function(){var pt=R;R=lt;try{return Y.apply(this,arguments)}finally{R=pt}}}})(td)),td}var zy;function s1(){return zy||(zy=1,Wf.exports=a1()),Wf.exports}var ed={exports:{}},Qe={};/**
 * @license React
 * react-dom.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var By;function l1(){if(By)return Qe;By=1;var r=kd();function e(g){var y="https://react.dev/errors/"+g;if(1<arguments.length){y+="?args[]="+encodeURIComponent(arguments[1]);for(var E=2;E<arguments.length;E++)y+="&args[]="+encodeURIComponent(arguments[E])}return"Minified React error #"+g+"; visit "+y+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function i(){}var s={d:{f:i,r:function(){throw Error(e(522))},D:i,C:i,L:i,m:i,X:i,S:i,M:i},p:0,findDOMNode:null},o=Symbol.for("react.portal");function h(g,y,E){var S=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:o,key:S==null?null:""+S,children:g,containerInfo:y,implementation:E}}var d=r.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function p(g,y){if(g==="font")return"";if(typeof y=="string")return y==="use-credentials"?y:""}return Qe.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=s,Qe.createPortal=function(g,y){var E=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!y||y.nodeType!==1&&y.nodeType!==9&&y.nodeType!==11)throw Error(e(299));return h(g,y,null,E)},Qe.flushSync=function(g){var y=d.T,E=s.p;try{if(d.T=null,s.p=2,g)return g()}finally{d.T=y,s.p=E,s.d.f()}},Qe.preconnect=function(g,y){typeof g=="string"&&(y?(y=y.crossOrigin,y=typeof y=="string"?y==="use-credentials"?y:"":void 0):y=null,s.d.C(g,y))},Qe.prefetchDNS=function(g){typeof g=="string"&&s.d.D(g)},Qe.preinit=function(g,y){if(typeof g=="string"&&y&&typeof y.as=="string"){var E=y.as,S=p(E,y.crossOrigin),R=typeof y.integrity=="string"?y.integrity:void 0,L=typeof y.fetchPriority=="string"?y.fetchPriority:void 0;E==="style"?s.d.S(g,typeof y.precedence=="string"?y.precedence:void 0,{crossOrigin:S,integrity:R,fetchPriority:L}):E==="script"&&s.d.X(g,{crossOrigin:S,integrity:R,fetchPriority:L,nonce:typeof y.nonce=="string"?y.nonce:void 0})}},Qe.preinitModule=function(g,y){if(typeof g=="string")if(typeof y=="object"&&y!==null){if(y.as==null||y.as==="script"){var E=p(y.as,y.crossOrigin);s.d.M(g,{crossOrigin:E,integrity:typeof y.integrity=="string"?y.integrity:void 0,nonce:typeof y.nonce=="string"?y.nonce:void 0})}}else y==null&&s.d.M(g)},Qe.preload=function(g,y){if(typeof g=="string"&&typeof y=="object"&&y!==null&&typeof y.as=="string"){var E=y.as,S=p(E,y.crossOrigin);s.d.L(g,E,{crossOrigin:S,integrity:typeof y.integrity=="string"?y.integrity:void 0,nonce:typeof y.nonce=="string"?y.nonce:void 0,type:typeof y.type=="string"?y.type:void 0,fetchPriority:typeof y.fetchPriority=="string"?y.fetchPriority:void 0,referrerPolicy:typeof y.referrerPolicy=="string"?y.referrerPolicy:void 0,imageSrcSet:typeof y.imageSrcSet=="string"?y.imageSrcSet:void 0,imageSizes:typeof y.imageSizes=="string"?y.imageSizes:void 0,media:typeof y.media=="string"?y.media:void 0})}},Qe.preloadModule=function(g,y){if(typeof g=="string")if(y){var E=p(y.as,y.crossOrigin);s.d.m(g,{as:typeof y.as=="string"&&y.as!=="script"?y.as:void 0,crossOrigin:E,integrity:typeof y.integrity=="string"?y.integrity:void 0})}else s.d.m(g)},Qe.requestFormReset=function(g){s.d.r(g)},Qe.unstable_batchedUpdates=function(g,y){return g(y)},Qe.useFormState=function(g,y,E){return d.H.useFormState(g,y,E)},Qe.useFormStatus=function(){return d.H.useHostTransitionStatus()},Qe.version="19.1.1",Qe}var qy;function o1(){if(qy)return ed.exports;qy=1;function r(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(r)}catch(e){console.error(e)}}return r(),ed.exports=l1(),ed.exports}/**
 * @license React
 * react-dom-client.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Hy;function u1(){if(Hy)return Jl;Hy=1;var r=s1(),e=kd(),i=o1();function s(t){var n="https://react.dev/errors/"+t;if(1<arguments.length){n+="?args[]="+encodeURIComponent(arguments[1]);for(var a=2;a<arguments.length;a++)n+="&args[]="+encodeURIComponent(arguments[a])}return"Minified React error #"+t+"; visit "+n+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function o(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)}function h(t){var n=t,a=t;if(t.alternate)for(;n.return;)n=n.return;else{t=n;do n=t,(n.flags&4098)!==0&&(a=n.return),t=n.return;while(t)}return n.tag===3?a:null}function d(t){if(t.tag===13){var n=t.memoizedState;if(n===null&&(t=t.alternate,t!==null&&(n=t.memoizedState)),n!==null)return n.dehydrated}return null}function p(t){if(h(t)!==t)throw Error(s(188))}function g(t){var n=t.alternate;if(!n){if(n=h(t),n===null)throw Error(s(188));return n!==t?null:t}for(var a=t,l=n;;){var c=a.return;if(c===null)break;var f=c.alternate;if(f===null){if(l=c.return,l!==null){a=l;continue}break}if(c.child===f.child){for(f=c.child;f;){if(f===a)return p(c),t;if(f===l)return p(c),n;f=f.sibling}throw Error(s(188))}if(a.return!==l.return)a=c,l=f;else{for(var v=!1,T=c.child;T;){if(T===a){v=!0,a=c,l=f;break}if(T===l){v=!0,l=c,a=f;break}T=T.sibling}if(!v){for(T=f.child;T;){if(T===a){v=!0,a=f,l=c;break}if(T===l){v=!0,l=f,a=c;break}T=T.sibling}if(!v)throw Error(s(189))}}if(a.alternate!==l)throw Error(s(190))}if(a.tag!==3)throw Error(s(188));return a.stateNode.current===a?t:n}function y(t){var n=t.tag;if(n===5||n===26||n===27||n===6)return t;for(t=t.child;t!==null;){if(n=y(t),n!==null)return n;t=t.sibling}return null}var E=Object.assign,S=Symbol.for("react.element"),R=Symbol.for("react.transitional.element"),L=Symbol.for("react.portal"),G=Symbol.for("react.fragment"),$=Symbol.for("react.strict_mode"),H=Symbol.for("react.profiler"),nt=Symbol.for("react.provider"),tt=Symbol.for("react.consumer"),it=Symbol.for("react.context"),ft=Symbol.for("react.forward_ref"),ot=Symbol.for("react.suspense"),St=Symbol.for("react.suspense_list"),M=Symbol.for("react.memo"),b=Symbol.for("react.lazy"),w=Symbol.for("react.activity"),O=Symbol.for("react.memo_cache_sentinel"),x=Symbol.iterator;function I(t){return t===null||typeof t!="object"?null:(t=x&&t[x]||t["@@iterator"],typeof t=="function"?t:null)}var C=Symbol.for("react.client.reference");function Jt(t){if(t==null)return null;if(typeof t=="function")return t.$$typeof===C?null:t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case G:return"Fragment";case H:return"Profiler";case $:return"StrictMode";case ot:return"Suspense";case St:return"SuspenseList";case w:return"Activity"}if(typeof t=="object")switch(t.$$typeof){case L:return"Portal";case it:return(t.displayName||"Context")+".Provider";case tt:return(t._context.displayName||"Context")+".Consumer";case ft:var n=t.render;return t=t.displayName,t||(t=n.displayName||n.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case M:return n=t.displayName||null,n!==null?n:Jt(t.type)||"Memo";case b:n=t._payload,t=t._init;try{return Jt(t(n))}catch{}}return null}var qt=Array.isArray,Y=e.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,lt=i.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,pt={pending:!1,data:null,method:null,action:null},ht=[],N=-1;function Z(t){return{current:t}}function at(t){0>N||(t.current=ht[N],ht[N]=null,N--)}function rt(t,n){N++,ht[N]=t.current,t.current=n}var dt=Z(null),Dt=Z(null),At=Z(null),De=Z(null);function Wt(t,n){switch(rt(At,n),rt(Dt,t),rt(dt,null),n.nodeType){case 9:case 11:t=(t=n.documentElement)&&(t=t.namespaceURI)?cy(t):0;break;default:if(t=n.tagName,n=n.namespaceURI)n=cy(n),t=hy(n,t);else switch(t){case"svg":t=1;break;case"math":t=2;break;default:t=0}}at(dt),rt(dt,t)}function zn(){at(dt),at(Dt),at(At)}function Fi(t){t.memoizedState!==null&&rt(De,t);var n=dt.current,a=hy(n,t.type);n!==a&&(rt(Dt,t),rt(dt,a))}function di(t){Dt.current===t&&(at(dt),at(Dt)),De.current===t&&(at(De),Yl._currentValue=pt)}var Ur=Object.prototype.hasOwnProperty,Lr=r.unstable_scheduleCallback,Pr=r.unstable_cancelCallback,Fs=r.unstable_shouldYield,Do=r.unstable_requestPaint,mn=r.unstable_now,$c=r.unstable_getCurrentPriorityLevel,Gs=r.unstable_ImmediatePriority,Va=r.unstable_UserBlockingPriority,kr=r.unstable_NormalPriority,Zc=r.unstable_LowPriority,Oa=r.unstable_IdlePriority,Qs=r.log,No=r.unstable_setDisableYieldValue,oe=null,Ft=null;function an(t){if(typeof Qs=="function"&&No(t),Ft&&typeof Ft.setStrictMode=="function")try{Ft.setStrictMode(oe,t)}catch{}}var Fe=Math.clz32?Math.clz32:zr,Io=Math.log,Jc=Math.LN2;function zr(t){return t>>>=0,t===0?32:31-(Io(t)/Jc|0)|0}var Br=256,qr=4194304;function Nn(t){var n=t&42;if(n!==0)return n;switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t&4194048;case 4194304:case 8388608:case 16777216:case 33554432:return t&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return t}}function Ma(t,n,a){var l=t.pendingLanes;if(l===0)return 0;var c=0,f=t.suspendedLanes,v=t.pingedLanes;t=t.warmLanes;var T=l&134217727;return T!==0?(l=T&~f,l!==0?c=Nn(l):(v&=T,v!==0?c=Nn(v):a||(a=T&~t,a!==0&&(c=Nn(a))))):(T=l&~f,T!==0?c=Nn(T):v!==0?c=Nn(v):a||(a=l&~t,a!==0&&(c=Nn(a)))),c===0?0:n!==0&&n!==c&&(n&f)===0&&(f=c&-c,a=n&-n,f>=a||f===32&&(a&4194048)!==0)?n:c}function Hr(t,n){return(t.pendingLanes&~(t.suspendedLanes&~t.pingedLanes)&n)===0}function Ys(t,n){switch(t){case 1:case 2:case 4:case 8:case 64:return n+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return n+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Ks(){var t=Br;return Br<<=1,(Br&4194048)===0&&(Br=256),t}function Xs(){var t=qr;return qr<<=1,(qr&62914560)===0&&(qr=4194304),t}function mi(t){for(var n=[],a=0;31>a;a++)n.push(t);return n}function pi(t,n){t.pendingLanes|=n,n!==268435456&&(t.suspendedLanes=0,t.pingedLanes=0,t.warmLanes=0)}function $s(t,n,a,l,c,f){var v=t.pendingLanes;t.pendingLanes=a,t.suspendedLanes=0,t.pingedLanes=0,t.warmLanes=0,t.expiredLanes&=a,t.entangledLanes&=a,t.errorRecoveryDisabledLanes&=a,t.shellSuspendCounter=0;var T=t.entanglements,D=t.expirationTimes,z=t.hiddenUpdates;for(a=v&~a;0<a;){var K=31-Fe(a),J=1<<K;T[K]=0,D[K]=-1;var j=z[K];if(j!==null)for(z[K]=null,K=0;K<j.length;K++){var F=j[K];F!==null&&(F.lane&=-536870913)}a&=~J}l!==0&&Bn(t,l,0),f!==0&&c===0&&t.tag!==0&&(t.suspendedLanes|=f&~(v&~n))}function Bn(t,n,a){t.pendingLanes|=n,t.suspendedLanes&=~n;var l=31-Fe(n);t.entangledLanes|=n,t.entanglements[l]=t.entanglements[l]|1073741824|a&4194090}function Zs(t,n){var a=t.entangledLanes|=n;for(t=t.entanglements;a;){var l=31-Fe(a),c=1<<l;c&n|t[l]&n&&(t[l]|=n),a&=~c}}function Gi(t){switch(t){case 2:t=1;break;case 8:t=4;break;case 32:t=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:t=128;break;case 268435456:t=134217728;break;default:t=0}return t}function xa(t){return t&=-t,2<t?8<t?(t&134217727)!==0?32:268435456:8:2}function Qi(){var t=lt.p;return t!==0?t:(t=window.event,t===void 0?32:Iy(t.type))}function Vo(t,n){var a=lt.p;try{return lt.p=t,n()}finally{lt.p=a}}var ie=Math.random().toString(36).slice(2),Te="__reactFiber$"+ie,pe="__reactProps$"+ie,pn="__reactContainer$"+ie,Js="__reactEvents$"+ie,Wc="__reactListeners$"+ie,Yi="__reactHandles$"+ie,Oo="__reactResources$"+ie,jr="__reactMarker$"+ie;function Ki(t){delete t[Te],delete t[pe],delete t[Js],delete t[Wc],delete t[Yi]}function gi(t){var n=t[Te];if(n)return n;for(var a=t.parentNode;a;){if(n=a[pn]||a[Te]){if(a=n.alternate,n.child!==null||a!==null&&a.child!==null)for(t=py(t);t!==null;){if(a=t[Te])return a;t=py(t)}return n}t=a,a=t.parentNode}return null}function qn(t){if(t=t[Te]||t[pn]){var n=t.tag;if(n===5||n===6||n===13||n===26||n===27||n===3)return t}return null}function Hn(t){var n=t.tag;if(n===5||n===26||n===27||n===6)return t.stateNode;throw Error(s(33))}function $e(t){var n=t[Oo];return n||(n=t[Oo]={hoistableStyles:new Map,hoistableScripts:new Map}),n}function he(t){t[jr]=!0}var Ws=new Set,Ua={};function In(t,n){yi(t,n),yi(t+"Capture",n)}function yi(t,n){for(Ua[t]=n,t=0;t<n.length;t++)Ws.add(n[t])}var Mo=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),xo={},Fr={};function Uo(t){return Ur.call(Fr,t)?!0:Ur.call(xo,t)?!1:Mo.test(t)?Fr[t]=!0:(xo[t]=!0,!1)}function Xi(t,n,a){if(Uo(n))if(a===null)t.removeAttribute(n);else{switch(typeof a){case"undefined":case"function":case"symbol":t.removeAttribute(n);return;case"boolean":var l=n.toLowerCase().slice(0,5);if(l!=="data-"&&l!=="aria-"){t.removeAttribute(n);return}}t.setAttribute(n,""+a)}}function jn(t,n,a){if(a===null)t.removeAttribute(n);else{switch(typeof a){case"undefined":case"function":case"symbol":case"boolean":t.removeAttribute(n);return}t.setAttribute(n,""+a)}}function Le(t,n,a,l){if(l===null)t.removeAttribute(a);else{switch(typeof l){case"undefined":case"function":case"symbol":case"boolean":t.removeAttribute(a);return}t.setAttributeNS(n,a,""+l)}}var Gr,Lo;function _i(t){if(Gr===void 0)try{throw Error()}catch(a){var n=a.stack.trim().match(/\n( *(at )?)/);Gr=n&&n[1]||"",Lo=-1<a.stack.indexOf(`
    at`)?" (<anonymous>)":-1<a.stack.indexOf("@")?"@unknown:0:0":""}return`
`+Gr+t+Lo}var La=!1;function Pa(t,n){if(!t||La)return"";La=!0;var a=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var l={DetermineComponentFrameRoot:function(){try{if(n){var J=function(){throw Error()};if(Object.defineProperty(J.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(J,[])}catch(F){var j=F}Reflect.construct(t,[],J)}else{try{J.call()}catch(F){j=F}t.call(J.prototype)}}else{try{throw Error()}catch(F){j=F}(J=t())&&typeof J.catch=="function"&&J.catch(function(){})}}catch(F){if(F&&j&&typeof F.stack=="string")return[F.stack,j.stack]}return[null,null]}};l.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var c=Object.getOwnPropertyDescriptor(l.DetermineComponentFrameRoot,"name");c&&c.configurable&&Object.defineProperty(l.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var f=l.DetermineComponentFrameRoot(),v=f[0],T=f[1];if(v&&T){var D=v.split(`
`),z=T.split(`
`);for(c=l=0;l<D.length&&!D[l].includes("DetermineComponentFrameRoot");)l++;for(;c<z.length&&!z[c].includes("DetermineComponentFrameRoot");)c++;if(l===D.length||c===z.length)for(l=D.length-1,c=z.length-1;1<=l&&0<=c&&D[l]!==z[c];)c--;for(;1<=l&&0<=c;l--,c--)if(D[l]!==z[c]){if(l!==1||c!==1)do if(l--,c--,0>c||D[l]!==z[c]){var K=`
`+D[l].replace(" at new "," at ");return t.displayName&&K.includes("<anonymous>")&&(K=K.replace("<anonymous>",t.displayName)),K}while(1<=l&&0<=c);break}}}finally{La=!1,Error.prepareStackTrace=a}return(a=t?t.displayName||t.name:"")?_i(a):""}function tl(t){switch(t.tag){case 26:case 27:case 5:return _i(t.type);case 16:return _i("Lazy");case 13:return _i("Suspense");case 19:return _i("SuspenseList");case 0:case 15:return Pa(t.type,!1);case 11:return Pa(t.type.render,!1);case 1:return Pa(t.type,!0);case 31:return _i("Activity");default:return""}}function ka(t){try{var n="";do n+=tl(t),t=t.return;while(t);return n}catch(a){return`
Error generating stack: `+a.message+`
`+a.stack}}function Ze(t){switch(typeof t){case"bigint":case"boolean":case"number":case"string":case"undefined":return t;case"object":return t;default:return""}}function el(t){var n=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(n==="checkbox"||n==="radio")}function th(t){var n=el(t)?"checked":"value",a=Object.getOwnPropertyDescriptor(t.constructor.prototype,n),l=""+t[n];if(!t.hasOwnProperty(n)&&typeof a<"u"&&typeof a.get=="function"&&typeof a.set=="function"){var c=a.get,f=a.set;return Object.defineProperty(t,n,{configurable:!0,get:function(){return c.call(this)},set:function(v){l=""+v,f.call(this,v)}}),Object.defineProperty(t,n,{enumerable:a.enumerable}),{getValue:function(){return l},setValue:function(v){l=""+v},stopTracking:function(){t._valueTracker=null,delete t[n]}}}}function za(t){t._valueTracker||(t._valueTracker=th(t))}function nl(t){if(!t)return!1;var n=t._valueTracker;if(!n)return!0;var a=n.getValue(),l="";return t&&(l=el(t)?t.checked?"true":"false":t.value),t=l,t!==a?(n.setValue(t),!0):!1}function Qr(t){if(t=t||(typeof document<"u"?document:void 0),typeof t>"u")return null;try{return t.activeElement||t.body}catch{return t.body}}var eh=/[\n"\\]/g;function ge(t){return t.replace(eh,function(n){return"\\"+n.charCodeAt(0).toString(16)+" "})}function sn(t,n,a,l,c,f,v,T){t.name="",v!=null&&typeof v!="function"&&typeof v!="symbol"&&typeof v!="boolean"?t.type=v:t.removeAttribute("type"),n!=null?v==="number"?(n===0&&t.value===""||t.value!=n)&&(t.value=""+Ze(n)):t.value!==""+Ze(n)&&(t.value=""+Ze(n)):v!=="submit"&&v!=="reset"||t.removeAttribute("value"),n!=null?$i(t,v,Ze(n)):a!=null?$i(t,v,Ze(a)):l!=null&&t.removeAttribute("value"),c==null&&f!=null&&(t.defaultChecked=!!f),c!=null&&(t.checked=c&&typeof c!="function"&&typeof c!="symbol"),T!=null&&typeof T!="function"&&typeof T!="symbol"&&typeof T!="boolean"?t.name=""+Ze(T):t.removeAttribute("name")}function Yr(t,n,a,l,c,f,v,T){if(f!=null&&typeof f!="function"&&typeof f!="symbol"&&typeof f!="boolean"&&(t.type=f),n!=null||a!=null){if(!(f!=="submit"&&f!=="reset"||n!=null))return;a=a!=null?""+Ze(a):"",n=n!=null?""+Ze(n):a,T||n===t.value||(t.value=n),t.defaultValue=n}l=l??c,l=typeof l!="function"&&typeof l!="symbol"&&!!l,t.checked=T?t.checked:!!l,t.defaultChecked=!!l,v!=null&&typeof v!="function"&&typeof v!="symbol"&&typeof v!="boolean"&&(t.name=v)}function $i(t,n,a){n==="number"&&Qr(t.ownerDocument)===t||t.defaultValue===""+a||(t.defaultValue=""+a)}function vi(t,n,a,l){if(t=t.options,n){n={};for(var c=0;c<a.length;c++)n["$"+a[c]]=!0;for(a=0;a<t.length;a++)c=n.hasOwnProperty("$"+t[a].value),t[a].selected!==c&&(t[a].selected=c),c&&l&&(t[a].defaultSelected=!0)}else{for(a=""+Ze(a),n=null,c=0;c<t.length;c++){if(t[c].value===a){t[c].selected=!0,l&&(t[c].defaultSelected=!0);return}n!==null||t[c].disabled||(n=t[c])}n!==null&&(n.selected=!0)}}function Yt(t,n,a){if(n!=null&&(n=""+Ze(n),n!==t.value&&(t.value=n),a==null)){t.defaultValue!==n&&(t.defaultValue=n);return}t.defaultValue=a!=null?""+Ze(a):""}function Kr(t,n,a,l){if(n==null){if(l!=null){if(a!=null)throw Error(s(92));if(qt(l)){if(1<l.length)throw Error(s(93));l=l[0]}a=l}a==null&&(a=""),n=a}a=Ze(n),t.defaultValue=a,l=t.textContent,l===a&&l!==""&&l!==null&&(t.value=l)}function gn(t,n){if(n){var a=t.firstChild;if(a&&a===t.lastChild&&a.nodeType===3){a.nodeValue=n;return}}t.textContent=n}var Xr=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function Po(t,n,a){var l=n.indexOf("--")===0;a==null||typeof a=="boolean"||a===""?l?t.setProperty(n,""):n==="float"?t.cssFloat="":t[n]="":l?t.setProperty(n,a):typeof a!="number"||a===0||Xr.has(n)?n==="float"?t.cssFloat=a:t[n]=(""+a).trim():t[n]=a+"px"}function il(t,n,a){if(n!=null&&typeof n!="object")throw Error(s(62));if(t=t.style,a!=null){for(var l in a)!a.hasOwnProperty(l)||n!=null&&n.hasOwnProperty(l)||(l.indexOf("--")===0?t.setProperty(l,""):l==="float"?t.cssFloat="":t[l]="");for(var c in n)l=n[c],n.hasOwnProperty(c)&&a[c]!==l&&Po(t,c,l)}else for(var f in n)n.hasOwnProperty(f)&&Po(t,f,n[f])}function rl(t){if(t.indexOf("-")===-1)return!1;switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var nh=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),ih=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function Ba(t){return ih.test(""+t)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":t}var Ei=null;function yn(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var Ti=null,Ai=null;function al(t){var n=qn(t);if(n&&(t=n.stateNode)){var a=t[pe]||null;t:switch(t=n.stateNode,n.type){case"input":if(sn(t,a.value,a.defaultValue,a.defaultValue,a.checked,a.defaultChecked,a.type,a.name),n=a.name,a.type==="radio"&&n!=null){for(a=t;a.parentNode;)a=a.parentNode;for(a=a.querySelectorAll('input[name="'+ge(""+n)+'"][type="radio"]'),n=0;n<a.length;n++){var l=a[n];if(l!==t&&l.form===t.form){var c=l[pe]||null;if(!c)throw Error(s(90));sn(l,c.value,c.defaultValue,c.defaultValue,c.checked,c.defaultChecked,c.type,c.name)}}for(n=0;n<a.length;n++)l=a[n],l.form===t.form&&nl(l)}break t;case"textarea":Yt(t,a.value,a.defaultValue);break t;case"select":n=a.value,n!=null&&vi(t,!!a.multiple,n,!1)}}}var Fn=!1;function ko(t,n,a){if(Fn)return t(n,a);Fn=!0;try{var l=t(n);return l}finally{if(Fn=!1,(Ti!==null||Ai!==null)&&(Vu(),Ti&&(n=Ti,t=Ai,Ai=Ti=null,al(n),t)))for(n=0;n<t.length;n++)al(t[n])}}function $r(t,n){var a=t.stateNode;if(a===null)return null;var l=a[pe]||null;if(l===null)return null;a=l[n];t:switch(n){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(l=!l.disabled)||(t=t.type,l=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!l;break t;default:t=!1}if(t)return null;if(a&&typeof a!="function")throw Error(s(231,n,typeof a));return a}var Vn=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),_n=!1;if(Vn)try{var Zr={};Object.defineProperty(Zr,"passive",{get:function(){_n=!0}}),window.addEventListener("test",Zr,Zr),window.removeEventListener("test",Zr,Zr)}catch{_n=!1}var Gn=null,Zi=null,Si=null;function sl(){if(Si)return Si;var t,n=Zi,a=n.length,l,c="value"in Gn?Gn.value:Gn.textContent,f=c.length;for(t=0;t<a&&n[t]===c[t];t++);var v=a-t;for(l=1;l<=v&&n[a-l]===c[f-l];l++);return Si=c.slice(t,1<l?1-l:void 0)}function Qn(t){var n=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&n===13&&(t=13)):t=n,t===10&&(t=13),32<=t||t===13?t:0}function Yn(){return!0}function ll(){return!1}function Ne(t){function n(a,l,c,f,v){this._reactName=a,this._targetInst=c,this.type=l,this.nativeEvent=f,this.target=v,this.currentTarget=null;for(var T in t)t.hasOwnProperty(T)&&(a=t[T],this[T]=a?a(f):f[T]);return this.isDefaultPrevented=(f.defaultPrevented!=null?f.defaultPrevented:f.returnValue===!1)?Yn:ll,this.isPropagationStopped=ll,this}return E(n.prototype,{preventDefault:function(){this.defaultPrevented=!0;var a=this.nativeEvent;a&&(a.preventDefault?a.preventDefault():typeof a.returnValue!="unknown"&&(a.returnValue=!1),this.isDefaultPrevented=Yn)},stopPropagation:function(){var a=this.nativeEvent;a&&(a.stopPropagation?a.stopPropagation():typeof a.cancelBubble!="unknown"&&(a.cancelBubble=!0),this.isPropagationStopped=Yn)},persist:function(){},isPersistent:Yn}),n}var Ht={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},qa=Ne(Ht),Jr=E({},Ht,{view:0,detail:0}),zo=Ne(Jr),Ha,ja,Kn,Wr=E({},Jr,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:na,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==Kn&&(Kn&&t.type==="mousemove"?(Ha=t.screenX-Kn.screenX,ja=t.screenY-Kn.screenY):ja=Ha=0,Kn=t),Ha)},movementY:function(t){return"movementY"in t?t.movementY:ja}}),vn=Ne(Wr),Bo=E({},Wr,{dataTransfer:0}),rh=Ne(Bo),ta=E({},Jr,{relatedTarget:0}),Fa=Ne(ta),ol=E({},Ht,{animationName:0,elapsedTime:0,pseudoElement:0}),Ga=Ne(ol),qo=E({},Ht,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),Qa=Ne(qo),ah=E({},Ht,{data:0}),ul=Ne(ah),ea={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Ho={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},jo={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function cl(t){var n=this.nativeEvent;return n.getModifierState?n.getModifierState(t):(t=jo[t])?!!n[t]:!1}function na(){return cl}var Fo=E({},Jr,{key:function(t){if(t.key){var n=ea[t.key]||t.key;if(n!=="Unidentified")return n}return t.type==="keypress"?(t=Qn(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?Ho[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:na,charCode:function(t){return t.type==="keypress"?Qn(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?Qn(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),Ya=Ne(Fo),Go=E({},Wr,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),hl=Ne(Go),bi=E({},Jr,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:na}),Qo=Ne(bi),Yo=E({},Ht,{propertyName:0,elapsedTime:0,pseudoElement:0}),Ko=Ne(Yo),Xo=E({},Wr,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),Ka=Ne(Xo),Je=E({},Ht,{newState:0,oldState:0}),$o=Ne(Je),Zo=[9,13,27,32],Xn=Vn&&"CompositionEvent"in window,u=null;Vn&&"documentMode"in document&&(u=document.documentMode);var m=Vn&&"TextEvent"in window&&!u,_=Vn&&(!Xn||u&&8<u&&11>=u),A=" ",P=!1;function Q(t,n){switch(t){case"keyup":return Zo.indexOf(n.keyCode)!==-1;case"keydown":return n.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function st(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var xt=!1;function Ae(t,n){switch(t){case"compositionend":return st(n);case"keypress":return n.which!==32?null:(P=!0,A);case"textInput":return t=n.data,t===A&&P?null:t;default:return null}}function Ut(t,n){if(xt)return t==="compositionend"||!Xn&&Q(t,n)?(t=sl(),Si=Zi=Gn=null,xt=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(n.ctrlKey||n.altKey||n.metaKey)||n.ctrlKey&&n.altKey){if(n.char&&1<n.char.length)return n.char;if(n.which)return String.fromCharCode(n.which)}return null;case"compositionend":return _&&n.locale!=="ko"?null:n.data;default:return null}}var Ie={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Se(t){var n=t&&t.nodeName&&t.nodeName.toLowerCase();return n==="input"?!!Ie[t.type]:n==="textarea"}function Ri(t,n,a,l){Ti?Ai?Ai.push(l):Ai=[l]:Ti=l,n=Pu(n,"onChange"),0<n.length&&(a=new qa("onChange","change",null,a,l),t.push({event:a,listeners:n}))}var Pe=null,$n=null;function fl(t){ay(t,0)}function Jo(t){var n=Hn(t);if(nl(n))return t}function wm(t,n){if(t==="change")return n}var Cm=!1;if(Vn){var sh;if(Vn){var lh="oninput"in document;if(!lh){var Dm=document.createElement("div");Dm.setAttribute("oninput","return;"),lh=typeof Dm.oninput=="function"}sh=lh}else sh=!1;Cm=sh&&(!document.documentMode||9<document.documentMode)}function Nm(){Pe&&(Pe.detachEvent("onpropertychange",Im),$n=Pe=null)}function Im(t){if(t.propertyName==="value"&&Jo($n)){var n=[];Ri(n,$n,t,yn(t)),ko(fl,n)}}function M0(t,n,a){t==="focusin"?(Nm(),Pe=n,$n=a,Pe.attachEvent("onpropertychange",Im)):t==="focusout"&&Nm()}function x0(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return Jo($n)}function U0(t,n){if(t==="click")return Jo(n)}function L0(t,n){if(t==="input"||t==="change")return Jo(n)}function P0(t,n){return t===n&&(t!==0||1/t===1/n)||t!==t&&n!==n}var ln=typeof Object.is=="function"?Object.is:P0;function dl(t,n){if(ln(t,n))return!0;if(typeof t!="object"||t===null||typeof n!="object"||n===null)return!1;var a=Object.keys(t),l=Object.keys(n);if(a.length!==l.length)return!1;for(l=0;l<a.length;l++){var c=a[l];if(!Ur.call(n,c)||!ln(t[c],n[c]))return!1}return!0}function Vm(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function Om(t,n){var a=Vm(t);t=0;for(var l;a;){if(a.nodeType===3){if(l=t+a.textContent.length,t<=n&&l>=n)return{node:a,offset:n-t};t=l}t:{for(;a;){if(a.nextSibling){a=a.nextSibling;break t}a=a.parentNode}a=void 0}a=Vm(a)}}function Mm(t,n){return t&&n?t===n?!0:t&&t.nodeType===3?!1:n&&n.nodeType===3?Mm(t,n.parentNode):"contains"in t?t.contains(n):t.compareDocumentPosition?!!(t.compareDocumentPosition(n)&16):!1:!1}function xm(t){t=t!=null&&t.ownerDocument!=null&&t.ownerDocument.defaultView!=null?t.ownerDocument.defaultView:window;for(var n=Qr(t.document);n instanceof t.HTMLIFrameElement;){try{var a=typeof n.contentWindow.location.href=="string"}catch{a=!1}if(a)t=n.contentWindow;else break;n=Qr(t.document)}return n}function oh(t){var n=t&&t.nodeName&&t.nodeName.toLowerCase();return n&&(n==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||n==="textarea"||t.contentEditable==="true")}var k0=Vn&&"documentMode"in document&&11>=document.documentMode,Xa=null,uh=null,ml=null,ch=!1;function Um(t,n,a){var l=a.window===a?a.document:a.nodeType===9?a:a.ownerDocument;ch||Xa==null||Xa!==Qr(l)||(l=Xa,"selectionStart"in l&&oh(l)?l={start:l.selectionStart,end:l.selectionEnd}:(l=(l.ownerDocument&&l.ownerDocument.defaultView||window).getSelection(),l={anchorNode:l.anchorNode,anchorOffset:l.anchorOffset,focusNode:l.focusNode,focusOffset:l.focusOffset}),ml&&dl(ml,l)||(ml=l,l=Pu(uh,"onSelect"),0<l.length&&(n=new qa("onSelect","select",null,n,a),t.push({event:n,listeners:l}),n.target=Xa)))}function ia(t,n){var a={};return a[t.toLowerCase()]=n.toLowerCase(),a["Webkit"+t]="webkit"+n,a["Moz"+t]="moz"+n,a}var $a={animationend:ia("Animation","AnimationEnd"),animationiteration:ia("Animation","AnimationIteration"),animationstart:ia("Animation","AnimationStart"),transitionrun:ia("Transition","TransitionRun"),transitionstart:ia("Transition","TransitionStart"),transitioncancel:ia("Transition","TransitionCancel"),transitionend:ia("Transition","TransitionEnd")},hh={},Lm={};Vn&&(Lm=document.createElement("div").style,"AnimationEvent"in window||(delete $a.animationend.animation,delete $a.animationiteration.animation,delete $a.animationstart.animation),"TransitionEvent"in window||delete $a.transitionend.transition);function ra(t){if(hh[t])return hh[t];if(!$a[t])return t;var n=$a[t],a;for(a in n)if(n.hasOwnProperty(a)&&a in Lm)return hh[t]=n[a];return t}var Pm=ra("animationend"),km=ra("animationiteration"),zm=ra("animationstart"),z0=ra("transitionrun"),B0=ra("transitionstart"),q0=ra("transitioncancel"),Bm=ra("transitionend"),qm=new Map,fh="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");fh.push("scrollEnd");function On(t,n){qm.set(t,n),In(n,[t])}var Hm=new WeakMap;function En(t,n){if(typeof t=="object"&&t!==null){var a=Hm.get(t);return a!==void 0?a:(n={value:t,source:n,stack:ka(n)},Hm.set(t,n),n)}return{value:t,source:n,stack:ka(n)}}var Tn=[],Za=0,dh=0;function Wo(){for(var t=Za,n=dh=Za=0;n<t;){var a=Tn[n];Tn[n++]=null;var l=Tn[n];Tn[n++]=null;var c=Tn[n];Tn[n++]=null;var f=Tn[n];if(Tn[n++]=null,l!==null&&c!==null){var v=l.pending;v===null?c.next=c:(c.next=v.next,v.next=c),l.pending=c}f!==0&&jm(a,c,f)}}function tu(t,n,a,l){Tn[Za++]=t,Tn[Za++]=n,Tn[Za++]=a,Tn[Za++]=l,dh|=l,t.lanes|=l,t=t.alternate,t!==null&&(t.lanes|=l)}function mh(t,n,a,l){return tu(t,n,a,l),eu(t)}function Ja(t,n){return tu(t,null,null,n),eu(t)}function jm(t,n,a){t.lanes|=a;var l=t.alternate;l!==null&&(l.lanes|=a);for(var c=!1,f=t.return;f!==null;)f.childLanes|=a,l=f.alternate,l!==null&&(l.childLanes|=a),f.tag===22&&(t=f.stateNode,t===null||t._visibility&1||(c=!0)),t=f,f=f.return;return t.tag===3?(f=t.stateNode,c&&n!==null&&(c=31-Fe(a),t=f.hiddenUpdates,l=t[c],l===null?t[c]=[n]:l.push(n),n.lane=a|536870912),f):null}function eu(t){if(50<zl)throw zl=0,Tf=null,Error(s(185));for(var n=t.return;n!==null;)t=n,n=t.return;return t.tag===3?t.stateNode:null}var Wa={};function H0(t,n,a,l){this.tag=t,this.key=a,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=n,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=l,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function on(t,n,a,l){return new H0(t,n,a,l)}function ph(t){return t=t.prototype,!(!t||!t.isReactComponent)}function wi(t,n){var a=t.alternate;return a===null?(a=on(t.tag,n,t.key,t.mode),a.elementType=t.elementType,a.type=t.type,a.stateNode=t.stateNode,a.alternate=t,t.alternate=a):(a.pendingProps=n,a.type=t.type,a.flags=0,a.subtreeFlags=0,a.deletions=null),a.flags=t.flags&65011712,a.childLanes=t.childLanes,a.lanes=t.lanes,a.child=t.child,a.memoizedProps=t.memoizedProps,a.memoizedState=t.memoizedState,a.updateQueue=t.updateQueue,n=t.dependencies,a.dependencies=n===null?null:{lanes:n.lanes,firstContext:n.firstContext},a.sibling=t.sibling,a.index=t.index,a.ref=t.ref,a.refCleanup=t.refCleanup,a}function Fm(t,n){t.flags&=65011714;var a=t.alternate;return a===null?(t.childLanes=0,t.lanes=n,t.child=null,t.subtreeFlags=0,t.memoizedProps=null,t.memoizedState=null,t.updateQueue=null,t.dependencies=null,t.stateNode=null):(t.childLanes=a.childLanes,t.lanes=a.lanes,t.child=a.child,t.subtreeFlags=0,t.deletions=null,t.memoizedProps=a.memoizedProps,t.memoizedState=a.memoizedState,t.updateQueue=a.updateQueue,t.type=a.type,n=a.dependencies,t.dependencies=n===null?null:{lanes:n.lanes,firstContext:n.firstContext}),t}function nu(t,n,a,l,c,f){var v=0;if(l=t,typeof t=="function")ph(t)&&(v=1);else if(typeof t=="string")v=FT(t,a,dt.current)?26:t==="html"||t==="head"||t==="body"?27:5;else t:switch(t){case w:return t=on(31,a,n,c),t.elementType=w,t.lanes=f,t;case G:return aa(a.children,c,f,n);case $:v=8,c|=24;break;case H:return t=on(12,a,n,c|2),t.elementType=H,t.lanes=f,t;case ot:return t=on(13,a,n,c),t.elementType=ot,t.lanes=f,t;case St:return t=on(19,a,n,c),t.elementType=St,t.lanes=f,t;default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case nt:case it:v=10;break t;case tt:v=9;break t;case ft:v=11;break t;case M:v=14;break t;case b:v=16,l=null;break t}v=29,a=Error(s(130,t===null?"null":typeof t,"")),l=null}return n=on(v,a,n,c),n.elementType=t,n.type=l,n.lanes=f,n}function aa(t,n,a,l){return t=on(7,t,l,n),t.lanes=a,t}function gh(t,n,a){return t=on(6,t,null,n),t.lanes=a,t}function yh(t,n,a){return n=on(4,t.children!==null?t.children:[],t.key,n),n.lanes=a,n.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},n}var ts=[],es=0,iu=null,ru=0,An=[],Sn=0,sa=null,Ci=1,Di="";function la(t,n){ts[es++]=ru,ts[es++]=iu,iu=t,ru=n}function Gm(t,n,a){An[Sn++]=Ci,An[Sn++]=Di,An[Sn++]=sa,sa=t;var l=Ci;t=Di;var c=32-Fe(l)-1;l&=~(1<<c),a+=1;var f=32-Fe(n)+c;if(30<f){var v=c-c%5;f=(l&(1<<v)-1).toString(32),l>>=v,c-=v,Ci=1<<32-Fe(n)+c|a<<c|l,Di=f+t}else Ci=1<<f|a<<c|l,Di=t}function _h(t){t.return!==null&&(la(t,1),Gm(t,1,0))}function vh(t){for(;t===iu;)iu=ts[--es],ts[es]=null,ru=ts[--es],ts[es]=null;for(;t===sa;)sa=An[--Sn],An[Sn]=null,Di=An[--Sn],An[Sn]=null,Ci=An[--Sn],An[Sn]=null}var We=null,ue=null,Bt=!1,oa=null,Zn=!1,Eh=Error(s(519));function ua(t){var n=Error(s(418,""));throw yl(En(n,t)),Eh}function Qm(t){var n=t.stateNode,a=t.type,l=t.memoizedProps;switch(n[Te]=t,n[pe]=l,a){case"dialog":Vt("cancel",n),Vt("close",n);break;case"iframe":case"object":case"embed":Vt("load",n);break;case"video":case"audio":for(a=0;a<ql.length;a++)Vt(ql[a],n);break;case"source":Vt("error",n);break;case"img":case"image":case"link":Vt("error",n),Vt("load",n);break;case"details":Vt("toggle",n);break;case"input":Vt("invalid",n),Yr(n,l.value,l.defaultValue,l.checked,l.defaultChecked,l.type,l.name,!0),za(n);break;case"select":Vt("invalid",n);break;case"textarea":Vt("invalid",n),Kr(n,l.value,l.defaultValue,l.children),za(n)}a=l.children,typeof a!="string"&&typeof a!="number"&&typeof a!="bigint"||n.textContent===""+a||l.suppressHydrationWarning===!0||uy(n.textContent,a)?(l.popover!=null&&(Vt("beforetoggle",n),Vt("toggle",n)),l.onScroll!=null&&Vt("scroll",n),l.onScrollEnd!=null&&Vt("scrollend",n),l.onClick!=null&&(n.onclick=ku),n=!0):n=!1,n||ua(t)}function Ym(t){for(We=t.return;We;)switch(We.tag){case 5:case 13:Zn=!1;return;case 27:case 3:Zn=!0;return;default:We=We.return}}function pl(t){if(t!==We)return!1;if(!Bt)return Ym(t),Bt=!0,!1;var n=t.tag,a;if((a=n!==3&&n!==27)&&((a=n===5)&&(a=t.type,a=!(a!=="form"&&a!=="button")||Pf(t.type,t.memoizedProps)),a=!a),a&&ue&&ua(t),Ym(t),n===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(s(317));t:{for(t=t.nextSibling,n=0;t;){if(t.nodeType===8)if(a=t.data,a==="/$"){if(n===0){ue=xn(t.nextSibling);break t}n--}else a!=="$"&&a!=="$!"&&a!=="$?"||n++;t=t.nextSibling}ue=null}}else n===27?(n=ue,dr(t.type)?(t=qf,qf=null,ue=t):ue=n):ue=We?xn(t.stateNode.nextSibling):null;return!0}function gl(){ue=We=null,Bt=!1}function Km(){var t=oa;return t!==null&&(nn===null?nn=t:nn.push.apply(nn,t),oa=null),t}function yl(t){oa===null?oa=[t]:oa.push(t)}var Th=Z(null),ca=null,Ni=null;function Ji(t,n,a){rt(Th,n._currentValue),n._currentValue=a}function Ii(t){t._currentValue=Th.current,at(Th)}function Ah(t,n,a){for(;t!==null;){var l=t.alternate;if((t.childLanes&n)!==n?(t.childLanes|=n,l!==null&&(l.childLanes|=n)):l!==null&&(l.childLanes&n)!==n&&(l.childLanes|=n),t===a)break;t=t.return}}function Sh(t,n,a,l){var c=t.child;for(c!==null&&(c.return=t);c!==null;){var f=c.dependencies;if(f!==null){var v=c.child;f=f.firstContext;t:for(;f!==null;){var T=f;f=c;for(var D=0;D<n.length;D++)if(T.context===n[D]){f.lanes|=a,T=f.alternate,T!==null&&(T.lanes|=a),Ah(f.return,a,t),l||(v=null);break t}f=T.next}}else if(c.tag===18){if(v=c.return,v===null)throw Error(s(341));v.lanes|=a,f=v.alternate,f!==null&&(f.lanes|=a),Ah(v,a,t),v=null}else v=c.child;if(v!==null)v.return=c;else for(v=c;v!==null;){if(v===t){v=null;break}if(c=v.sibling,c!==null){c.return=v.return,v=c;break}v=v.return}c=v}}function _l(t,n,a,l){t=null;for(var c=n,f=!1;c!==null;){if(!f){if((c.flags&524288)!==0)f=!0;else if((c.flags&262144)!==0)break}if(c.tag===10){var v=c.alternate;if(v===null)throw Error(s(387));if(v=v.memoizedProps,v!==null){var T=c.type;ln(c.pendingProps.value,v.value)||(t!==null?t.push(T):t=[T])}}else if(c===De.current){if(v=c.alternate,v===null)throw Error(s(387));v.memoizedState.memoizedState!==c.memoizedState.memoizedState&&(t!==null?t.push(Yl):t=[Yl])}c=c.return}t!==null&&Sh(n,t,a,l),n.flags|=262144}function au(t){for(t=t.firstContext;t!==null;){if(!ln(t.context._currentValue,t.memoizedValue))return!0;t=t.next}return!1}function ha(t){ca=t,Ni=null,t=t.dependencies,t!==null&&(t.firstContext=null)}function Ge(t){return Xm(ca,t)}function su(t,n){return ca===null&&ha(t),Xm(t,n)}function Xm(t,n){var a=n._currentValue;if(n={context:n,memoizedValue:a,next:null},Ni===null){if(t===null)throw Error(s(308));Ni=n,t.dependencies={lanes:0,firstContext:n},t.flags|=524288}else Ni=Ni.next=n;return a}var j0=typeof AbortController<"u"?AbortController:function(){var t=[],n=this.signal={aborted:!1,addEventListener:function(a,l){t.push(l)}};this.abort=function(){n.aborted=!0,t.forEach(function(a){return a()})}},F0=r.unstable_scheduleCallback,G0=r.unstable_NormalPriority,be={$$typeof:it,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function bh(){return{controller:new j0,data:new Map,refCount:0}}function vl(t){t.refCount--,t.refCount===0&&F0(G0,function(){t.controller.abort()})}var El=null,Rh=0,ns=0,is=null;function Q0(t,n){if(El===null){var a=El=[];Rh=0,ns=Df(),is={status:"pending",value:void 0,then:function(l){a.push(l)}}}return Rh++,n.then($m,$m),n}function $m(){if(--Rh===0&&El!==null){is!==null&&(is.status="fulfilled");var t=El;El=null,ns=0,is=null;for(var n=0;n<t.length;n++)(0,t[n])()}}function Y0(t,n){var a=[],l={status:"pending",value:null,reason:null,then:function(c){a.push(c)}};return t.then(function(){l.status="fulfilled",l.value=n;for(var c=0;c<a.length;c++)(0,a[c])(n)},function(c){for(l.status="rejected",l.reason=c,c=0;c<a.length;c++)(0,a[c])(void 0)}),l}var Zm=Y.S;Y.S=function(t,n){typeof n=="object"&&n!==null&&typeof n.then=="function"&&Q0(t,n),Zm!==null&&Zm(t,n)};var fa=Z(null);function wh(){var t=fa.current;return t!==null?t:te.pooledCache}function lu(t,n){n===null?rt(fa,fa.current):rt(fa,n.pool)}function Jm(){var t=wh();return t===null?null:{parent:be._currentValue,pool:t}}var Tl=Error(s(460)),Wm=Error(s(474)),ou=Error(s(542)),Ch={then:function(){}};function tp(t){return t=t.status,t==="fulfilled"||t==="rejected"}function uu(){}function ep(t,n,a){switch(a=t[a],a===void 0?t.push(n):a!==n&&(n.then(uu,uu),n=a),n.status){case"fulfilled":return n.value;case"rejected":throw t=n.reason,ip(t),t;default:if(typeof n.status=="string")n.then(uu,uu);else{if(t=te,t!==null&&100<t.shellSuspendCounter)throw Error(s(482));t=n,t.status="pending",t.then(function(l){if(n.status==="pending"){var c=n;c.status="fulfilled",c.value=l}},function(l){if(n.status==="pending"){var c=n;c.status="rejected",c.reason=l}})}switch(n.status){case"fulfilled":return n.value;case"rejected":throw t=n.reason,ip(t),t}throw Al=n,Tl}}var Al=null;function np(){if(Al===null)throw Error(s(459));var t=Al;return Al=null,t}function ip(t){if(t===Tl||t===ou)throw Error(s(483))}var Wi=!1;function Dh(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function Nh(t,n){t=t.updateQueue,n.updateQueue===t&&(n.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,callbacks:null})}function tr(t){return{lane:t,tag:0,payload:null,callback:null,next:null}}function er(t,n,a){var l=t.updateQueue;if(l===null)return null;if(l=l.shared,(Gt&2)!==0){var c=l.pending;return c===null?n.next=n:(n.next=c.next,c.next=n),l.pending=n,n=eu(t),jm(t,null,a),n}return tu(t,l,n,a),eu(t)}function Sl(t,n,a){if(n=n.updateQueue,n!==null&&(n=n.shared,(a&4194048)!==0)){var l=n.lanes;l&=t.pendingLanes,a|=l,n.lanes=a,Zs(t,a)}}function Ih(t,n){var a=t.updateQueue,l=t.alternate;if(l!==null&&(l=l.updateQueue,a===l)){var c=null,f=null;if(a=a.firstBaseUpdate,a!==null){do{var v={lane:a.lane,tag:a.tag,payload:a.payload,callback:null,next:null};f===null?c=f=v:f=f.next=v,a=a.next}while(a!==null);f===null?c=f=n:f=f.next=n}else c=f=n;a={baseState:l.baseState,firstBaseUpdate:c,lastBaseUpdate:f,shared:l.shared,callbacks:l.callbacks},t.updateQueue=a;return}t=a.lastBaseUpdate,t===null?a.firstBaseUpdate=n:t.next=n,a.lastBaseUpdate=n}var Vh=!1;function bl(){if(Vh){var t=is;if(t!==null)throw t}}function Rl(t,n,a,l){Vh=!1;var c=t.updateQueue;Wi=!1;var f=c.firstBaseUpdate,v=c.lastBaseUpdate,T=c.shared.pending;if(T!==null){c.shared.pending=null;var D=T,z=D.next;D.next=null,v===null?f=z:v.next=z,v=D;var K=t.alternate;K!==null&&(K=K.updateQueue,T=K.lastBaseUpdate,T!==v&&(T===null?K.firstBaseUpdate=z:T.next=z,K.lastBaseUpdate=D))}if(f!==null){var J=c.baseState;v=0,K=z=D=null,T=f;do{var j=T.lane&-536870913,F=j!==T.lane;if(F?(Lt&j)===j:(l&j)===j){j!==0&&j===ns&&(Vh=!0),K!==null&&(K=K.next={lane:0,tag:T.tag,payload:T.payload,callback:null,next:null});t:{var Tt=t,_t=T;j=n;var $t=a;switch(_t.tag){case 1:if(Tt=_t.payload,typeof Tt=="function"){J=Tt.call($t,J,j);break t}J=Tt;break t;case 3:Tt.flags=Tt.flags&-65537|128;case 0:if(Tt=_t.payload,j=typeof Tt=="function"?Tt.call($t,J,j):Tt,j==null)break t;J=E({},J,j);break t;case 2:Wi=!0}}j=T.callback,j!==null&&(t.flags|=64,F&&(t.flags|=8192),F=c.callbacks,F===null?c.callbacks=[j]:F.push(j))}else F={lane:j,tag:T.tag,payload:T.payload,callback:T.callback,next:null},K===null?(z=K=F,D=J):K=K.next=F,v|=j;if(T=T.next,T===null){if(T=c.shared.pending,T===null)break;F=T,T=F.next,F.next=null,c.lastBaseUpdate=F,c.shared.pending=null}}while(!0);K===null&&(D=J),c.baseState=D,c.firstBaseUpdate=z,c.lastBaseUpdate=K,f===null&&(c.shared.lanes=0),ur|=v,t.lanes=v,t.memoizedState=J}}function rp(t,n){if(typeof t!="function")throw Error(s(191,t));t.call(n)}function ap(t,n){var a=t.callbacks;if(a!==null)for(t.callbacks=null,t=0;t<a.length;t++)rp(a[t],n)}var rs=Z(null),cu=Z(0);function sp(t,n){t=Pi,rt(cu,t),rt(rs,n),Pi=t|n.baseLanes}function Oh(){rt(cu,Pi),rt(rs,rs.current)}function Mh(){Pi=cu.current,at(rs),at(cu)}var nr=0,Ct=null,Kt=null,ye=null,hu=!1,as=!1,da=!1,fu=0,wl=0,ss=null,K0=0;function fe(){throw Error(s(321))}function xh(t,n){if(n===null)return!1;for(var a=0;a<n.length&&a<t.length;a++)if(!ln(t[a],n[a]))return!1;return!0}function Uh(t,n,a,l,c,f){return nr=f,Ct=n,n.memoizedState=null,n.updateQueue=null,n.lanes=0,Y.H=t===null||t.memoizedState===null?jp:Fp,da=!1,f=a(l,c),da=!1,as&&(f=op(n,a,l,c)),lp(t),f}function lp(t){Y.H=_u;var n=Kt!==null&&Kt.next!==null;if(nr=0,ye=Kt=Ct=null,hu=!1,wl=0,ss=null,n)throw Error(s(300));t===null||Ve||(t=t.dependencies,t!==null&&au(t)&&(Ve=!0))}function op(t,n,a,l){Ct=t;var c=0;do{if(as&&(ss=null),wl=0,as=!1,25<=c)throw Error(s(301));if(c+=1,ye=Kt=null,t.updateQueue!=null){var f=t.updateQueue;f.lastEffect=null,f.events=null,f.stores=null,f.memoCache!=null&&(f.memoCache.index=0)}Y.H=eT,f=n(a,l)}while(as);return f}function X0(){var t=Y.H,n=t.useState()[0];return n=typeof n.then=="function"?Cl(n):n,t=t.useState()[0],(Kt!==null?Kt.memoizedState:null)!==t&&(Ct.flags|=1024),n}function Lh(){var t=fu!==0;return fu=0,t}function Ph(t,n,a){n.updateQueue=t.updateQueue,n.flags&=-2053,t.lanes&=~a}function kh(t){if(hu){for(t=t.memoizedState;t!==null;){var n=t.queue;n!==null&&(n.pending=null),t=t.next}hu=!1}nr=0,ye=Kt=Ct=null,as=!1,wl=fu=0,ss=null}function tn(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return ye===null?Ct.memoizedState=ye=t:ye=ye.next=t,ye}function _e(){if(Kt===null){var t=Ct.alternate;t=t!==null?t.memoizedState:null}else t=Kt.next;var n=ye===null?Ct.memoizedState:ye.next;if(n!==null)ye=n,Kt=t;else{if(t===null)throw Ct.alternate===null?Error(s(467)):Error(s(310));Kt=t,t={memoizedState:Kt.memoizedState,baseState:Kt.baseState,baseQueue:Kt.baseQueue,queue:Kt.queue,next:null},ye===null?Ct.memoizedState=ye=t:ye=ye.next=t}return ye}function zh(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function Cl(t){var n=wl;return wl+=1,ss===null&&(ss=[]),t=ep(ss,t,n),n=Ct,(ye===null?n.memoizedState:ye.next)===null&&(n=n.alternate,Y.H=n===null||n.memoizedState===null?jp:Fp),t}function du(t){if(t!==null&&typeof t=="object"){if(typeof t.then=="function")return Cl(t);if(t.$$typeof===it)return Ge(t)}throw Error(s(438,String(t)))}function Bh(t){var n=null,a=Ct.updateQueue;if(a!==null&&(n=a.memoCache),n==null){var l=Ct.alternate;l!==null&&(l=l.updateQueue,l!==null&&(l=l.memoCache,l!=null&&(n={data:l.data.map(function(c){return c.slice()}),index:0})))}if(n==null&&(n={data:[],index:0}),a===null&&(a=zh(),Ct.updateQueue=a),a.memoCache=n,a=n.data[n.index],a===void 0)for(a=n.data[n.index]=Array(t),l=0;l<t;l++)a[l]=O;return n.index++,a}function Vi(t,n){return typeof n=="function"?n(t):n}function mu(t){var n=_e();return qh(n,Kt,t)}function qh(t,n,a){var l=t.queue;if(l===null)throw Error(s(311));l.lastRenderedReducer=a;var c=t.baseQueue,f=l.pending;if(f!==null){if(c!==null){var v=c.next;c.next=f.next,f.next=v}n.baseQueue=c=f,l.pending=null}if(f=t.baseState,c===null)t.memoizedState=f;else{n=c.next;var T=v=null,D=null,z=n,K=!1;do{var J=z.lane&-536870913;if(J!==z.lane?(Lt&J)===J:(nr&J)===J){var j=z.revertLane;if(j===0)D!==null&&(D=D.next={lane:0,revertLane:0,action:z.action,hasEagerState:z.hasEagerState,eagerState:z.eagerState,next:null}),J===ns&&(K=!0);else if((nr&j)===j){z=z.next,j===ns&&(K=!0);continue}else J={lane:0,revertLane:z.revertLane,action:z.action,hasEagerState:z.hasEagerState,eagerState:z.eagerState,next:null},D===null?(T=D=J,v=f):D=D.next=J,Ct.lanes|=j,ur|=j;J=z.action,da&&a(f,J),f=z.hasEagerState?z.eagerState:a(f,J)}else j={lane:J,revertLane:z.revertLane,action:z.action,hasEagerState:z.hasEagerState,eagerState:z.eagerState,next:null},D===null?(T=D=j,v=f):D=D.next=j,Ct.lanes|=J,ur|=J;z=z.next}while(z!==null&&z!==n);if(D===null?v=f:D.next=T,!ln(f,t.memoizedState)&&(Ve=!0,K&&(a=is,a!==null)))throw a;t.memoizedState=f,t.baseState=v,t.baseQueue=D,l.lastRenderedState=f}return c===null&&(l.lanes=0),[t.memoizedState,l.dispatch]}function Hh(t){var n=_e(),a=n.queue;if(a===null)throw Error(s(311));a.lastRenderedReducer=t;var l=a.dispatch,c=a.pending,f=n.memoizedState;if(c!==null){a.pending=null;var v=c=c.next;do f=t(f,v.action),v=v.next;while(v!==c);ln(f,n.memoizedState)||(Ve=!0),n.memoizedState=f,n.baseQueue===null&&(n.baseState=f),a.lastRenderedState=f}return[f,l]}function up(t,n,a){var l=Ct,c=_e(),f=Bt;if(f){if(a===void 0)throw Error(s(407));a=a()}else a=n();var v=!ln((Kt||c).memoizedState,a);v&&(c.memoizedState=a,Ve=!0),c=c.queue;var T=fp.bind(null,l,c,t);if(Dl(2048,8,T,[t]),c.getSnapshot!==n||v||ye!==null&&ye.memoizedState.tag&1){if(l.flags|=2048,ls(9,pu(),hp.bind(null,l,c,a,n),null),te===null)throw Error(s(349));f||(nr&124)!==0||cp(l,n,a)}return a}function cp(t,n,a){t.flags|=16384,t={getSnapshot:n,value:a},n=Ct.updateQueue,n===null?(n=zh(),Ct.updateQueue=n,n.stores=[t]):(a=n.stores,a===null?n.stores=[t]:a.push(t))}function hp(t,n,a,l){n.value=a,n.getSnapshot=l,dp(n)&&mp(t)}function fp(t,n,a){return a(function(){dp(n)&&mp(t)})}function dp(t){var n=t.getSnapshot;t=t.value;try{var a=n();return!ln(t,a)}catch{return!0}}function mp(t){var n=Ja(t,2);n!==null&&dn(n,t,2)}function jh(t){var n=tn();if(typeof t=="function"){var a=t;if(t=a(),da){an(!0);try{a()}finally{an(!1)}}}return n.memoizedState=n.baseState=t,n.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Vi,lastRenderedState:t},n}function pp(t,n,a,l){return t.baseState=a,qh(t,Kt,typeof l=="function"?l:Vi)}function $0(t,n,a,l,c){if(yu(t))throw Error(s(485));if(t=n.action,t!==null){var f={payload:c,action:t,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(v){f.listeners.push(v)}};Y.T!==null?a(!0):f.isTransition=!1,l(f),a=n.pending,a===null?(f.next=n.pending=f,gp(n,f)):(f.next=a.next,n.pending=a.next=f)}}function gp(t,n){var a=n.action,l=n.payload,c=t.state;if(n.isTransition){var f=Y.T,v={};Y.T=v;try{var T=a(c,l),D=Y.S;D!==null&&D(v,T),yp(t,n,T)}catch(z){Fh(t,n,z)}finally{Y.T=f}}else try{f=a(c,l),yp(t,n,f)}catch(z){Fh(t,n,z)}}function yp(t,n,a){a!==null&&typeof a=="object"&&typeof a.then=="function"?a.then(function(l){_p(t,n,l)},function(l){return Fh(t,n,l)}):_p(t,n,a)}function _p(t,n,a){n.status="fulfilled",n.value=a,vp(n),t.state=a,n=t.pending,n!==null&&(a=n.next,a===n?t.pending=null:(a=a.next,n.next=a,gp(t,a)))}function Fh(t,n,a){var l=t.pending;if(t.pending=null,l!==null){l=l.next;do n.status="rejected",n.reason=a,vp(n),n=n.next;while(n!==l)}t.action=null}function vp(t){t=t.listeners;for(var n=0;n<t.length;n++)(0,t[n])()}function Ep(t,n){return n}function Tp(t,n){if(Bt){var a=te.formState;if(a!==null){t:{var l=Ct;if(Bt){if(ue){e:{for(var c=ue,f=Zn;c.nodeType!==8;){if(!f){c=null;break e}if(c=xn(c.nextSibling),c===null){c=null;break e}}f=c.data,c=f==="F!"||f==="F"?c:null}if(c){ue=xn(c.nextSibling),l=c.data==="F!";break t}}ua(l)}l=!1}l&&(n=a[0])}}return a=tn(),a.memoizedState=a.baseState=n,l={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Ep,lastRenderedState:n},a.queue=l,a=Bp.bind(null,Ct,l),l.dispatch=a,l=jh(!1),f=Xh.bind(null,Ct,!1,l.queue),l=tn(),c={state:n,dispatch:null,action:t,pending:null},l.queue=c,a=$0.bind(null,Ct,c,f,a),c.dispatch=a,l.memoizedState=t,[n,a,!1]}function Ap(t){var n=_e();return Sp(n,Kt,t)}function Sp(t,n,a){if(n=qh(t,n,Ep)[0],t=mu(Vi)[0],typeof n=="object"&&n!==null&&typeof n.then=="function")try{var l=Cl(n)}catch(v){throw v===Tl?ou:v}else l=n;n=_e();var c=n.queue,f=c.dispatch;return a!==n.memoizedState&&(Ct.flags|=2048,ls(9,pu(),Z0.bind(null,c,a),null)),[l,f,t]}function Z0(t,n){t.action=n}function bp(t){var n=_e(),a=Kt;if(a!==null)return Sp(n,a,t);_e(),n=n.memoizedState,a=_e();var l=a.queue.dispatch;return a.memoizedState=t,[n,l,!1]}function ls(t,n,a,l){return t={tag:t,create:a,deps:l,inst:n,next:null},n=Ct.updateQueue,n===null&&(n=zh(),Ct.updateQueue=n),a=n.lastEffect,a===null?n.lastEffect=t.next=t:(l=a.next,a.next=t,t.next=l,n.lastEffect=t),t}function pu(){return{destroy:void 0,resource:void 0}}function Rp(){return _e().memoizedState}function gu(t,n,a,l){var c=tn();l=l===void 0?null:l,Ct.flags|=t,c.memoizedState=ls(1|n,pu(),a,l)}function Dl(t,n,a,l){var c=_e();l=l===void 0?null:l;var f=c.memoizedState.inst;Kt!==null&&l!==null&&xh(l,Kt.memoizedState.deps)?c.memoizedState=ls(n,f,a,l):(Ct.flags|=t,c.memoizedState=ls(1|n,f,a,l))}function wp(t,n){gu(8390656,8,t,n)}function Cp(t,n){Dl(2048,8,t,n)}function Dp(t,n){return Dl(4,2,t,n)}function Np(t,n){return Dl(4,4,t,n)}function Ip(t,n){if(typeof n=="function"){t=t();var a=n(t);return function(){typeof a=="function"?a():n(null)}}if(n!=null)return t=t(),n.current=t,function(){n.current=null}}function Vp(t,n,a){a=a!=null?a.concat([t]):null,Dl(4,4,Ip.bind(null,n,t),a)}function Gh(){}function Op(t,n){var a=_e();n=n===void 0?null:n;var l=a.memoizedState;return n!==null&&xh(n,l[1])?l[0]:(a.memoizedState=[t,n],t)}function Mp(t,n){var a=_e();n=n===void 0?null:n;var l=a.memoizedState;if(n!==null&&xh(n,l[1]))return l[0];if(l=t(),da){an(!0);try{t()}finally{an(!1)}}return a.memoizedState=[l,n],l}function Qh(t,n,a){return a===void 0||(nr&1073741824)!==0?t.memoizedState=n:(t.memoizedState=a,t=Lg(),Ct.lanes|=t,ur|=t,a)}function xp(t,n,a,l){return ln(a,n)?a:rs.current!==null?(t=Qh(t,a,l),ln(t,n)||(Ve=!0),t):(nr&42)===0?(Ve=!0,t.memoizedState=a):(t=Lg(),Ct.lanes|=t,ur|=t,n)}function Up(t,n,a,l,c){var f=lt.p;lt.p=f!==0&&8>f?f:8;var v=Y.T,T={};Y.T=T,Xh(t,!1,n,a);try{var D=c(),z=Y.S;if(z!==null&&z(T,D),D!==null&&typeof D=="object"&&typeof D.then=="function"){var K=Y0(D,l);Nl(t,n,K,fn(t))}else Nl(t,n,l,fn(t))}catch(J){Nl(t,n,{then:function(){},status:"rejected",reason:J},fn())}finally{lt.p=f,Y.T=v}}function J0(){}function Yh(t,n,a,l){if(t.tag!==5)throw Error(s(476));var c=Lp(t).queue;Up(t,c,n,pt,a===null?J0:function(){return Pp(t),a(l)})}function Lp(t){var n=t.memoizedState;if(n!==null)return n;n={memoizedState:pt,baseState:pt,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Vi,lastRenderedState:pt},next:null};var a={};return n.next={memoizedState:a,baseState:a,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Vi,lastRenderedState:a},next:null},t.memoizedState=n,t=t.alternate,t!==null&&(t.memoizedState=n),n}function Pp(t){var n=Lp(t).next.queue;Nl(t,n,{},fn())}function Kh(){return Ge(Yl)}function kp(){return _e().memoizedState}function zp(){return _e().memoizedState}function W0(t){for(var n=t.return;n!==null;){switch(n.tag){case 24:case 3:var a=fn();t=tr(a);var l=er(n,t,a);l!==null&&(dn(l,n,a),Sl(l,n,a)),n={cache:bh()},t.payload=n;return}n=n.return}}function tT(t,n,a){var l=fn();a={lane:l,revertLane:0,action:a,hasEagerState:!1,eagerState:null,next:null},yu(t)?qp(n,a):(a=mh(t,n,a,l),a!==null&&(dn(a,t,l),Hp(a,n,l)))}function Bp(t,n,a){var l=fn();Nl(t,n,a,l)}function Nl(t,n,a,l){var c={lane:l,revertLane:0,action:a,hasEagerState:!1,eagerState:null,next:null};if(yu(t))qp(n,c);else{var f=t.alternate;if(t.lanes===0&&(f===null||f.lanes===0)&&(f=n.lastRenderedReducer,f!==null))try{var v=n.lastRenderedState,T=f(v,a);if(c.hasEagerState=!0,c.eagerState=T,ln(T,v))return tu(t,n,c,0),te===null&&Wo(),!1}catch{}finally{}if(a=mh(t,n,c,l),a!==null)return dn(a,t,l),Hp(a,n,l),!0}return!1}function Xh(t,n,a,l){if(l={lane:2,revertLane:Df(),action:l,hasEagerState:!1,eagerState:null,next:null},yu(t)){if(n)throw Error(s(479))}else n=mh(t,a,l,2),n!==null&&dn(n,t,2)}function yu(t){var n=t.alternate;return t===Ct||n!==null&&n===Ct}function qp(t,n){as=hu=!0;var a=t.pending;a===null?n.next=n:(n.next=a.next,a.next=n),t.pending=n}function Hp(t,n,a){if((a&4194048)!==0){var l=n.lanes;l&=t.pendingLanes,a|=l,n.lanes=a,Zs(t,a)}}var _u={readContext:Ge,use:du,useCallback:fe,useContext:fe,useEffect:fe,useImperativeHandle:fe,useLayoutEffect:fe,useInsertionEffect:fe,useMemo:fe,useReducer:fe,useRef:fe,useState:fe,useDebugValue:fe,useDeferredValue:fe,useTransition:fe,useSyncExternalStore:fe,useId:fe,useHostTransitionStatus:fe,useFormState:fe,useActionState:fe,useOptimistic:fe,useMemoCache:fe,useCacheRefresh:fe},jp={readContext:Ge,use:du,useCallback:function(t,n){return tn().memoizedState=[t,n===void 0?null:n],t},useContext:Ge,useEffect:wp,useImperativeHandle:function(t,n,a){a=a!=null?a.concat([t]):null,gu(4194308,4,Ip.bind(null,n,t),a)},useLayoutEffect:function(t,n){return gu(4194308,4,t,n)},useInsertionEffect:function(t,n){gu(4,2,t,n)},useMemo:function(t,n){var a=tn();n=n===void 0?null:n;var l=t();if(da){an(!0);try{t()}finally{an(!1)}}return a.memoizedState=[l,n],l},useReducer:function(t,n,a){var l=tn();if(a!==void 0){var c=a(n);if(da){an(!0);try{a(n)}finally{an(!1)}}}else c=n;return l.memoizedState=l.baseState=c,t={pending:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:c},l.queue=t,t=t.dispatch=tT.bind(null,Ct,t),[l.memoizedState,t]},useRef:function(t){var n=tn();return t={current:t},n.memoizedState=t},useState:function(t){t=jh(t);var n=t.queue,a=Bp.bind(null,Ct,n);return n.dispatch=a,[t.memoizedState,a]},useDebugValue:Gh,useDeferredValue:function(t,n){var a=tn();return Qh(a,t,n)},useTransition:function(){var t=jh(!1);return t=Up.bind(null,Ct,t.queue,!0,!1),tn().memoizedState=t,[!1,t]},useSyncExternalStore:function(t,n,a){var l=Ct,c=tn();if(Bt){if(a===void 0)throw Error(s(407));a=a()}else{if(a=n(),te===null)throw Error(s(349));(Lt&124)!==0||cp(l,n,a)}c.memoizedState=a;var f={value:a,getSnapshot:n};return c.queue=f,wp(fp.bind(null,l,f,t),[t]),l.flags|=2048,ls(9,pu(),hp.bind(null,l,f,a,n),null),a},useId:function(){var t=tn(),n=te.identifierPrefix;if(Bt){var a=Di,l=Ci;a=(l&~(1<<32-Fe(l)-1)).toString(32)+a,n="«"+n+"R"+a,a=fu++,0<a&&(n+="H"+a.toString(32)),n+="»"}else a=K0++,n="«"+n+"r"+a.toString(32)+"»";return t.memoizedState=n},useHostTransitionStatus:Kh,useFormState:Tp,useActionState:Tp,useOptimistic:function(t){var n=tn();n.memoizedState=n.baseState=t;var a={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return n.queue=a,n=Xh.bind(null,Ct,!0,a),a.dispatch=n,[t,n]},useMemoCache:Bh,useCacheRefresh:function(){return tn().memoizedState=W0.bind(null,Ct)}},Fp={readContext:Ge,use:du,useCallback:Op,useContext:Ge,useEffect:Cp,useImperativeHandle:Vp,useInsertionEffect:Dp,useLayoutEffect:Np,useMemo:Mp,useReducer:mu,useRef:Rp,useState:function(){return mu(Vi)},useDebugValue:Gh,useDeferredValue:function(t,n){var a=_e();return xp(a,Kt.memoizedState,t,n)},useTransition:function(){var t=mu(Vi)[0],n=_e().memoizedState;return[typeof t=="boolean"?t:Cl(t),n]},useSyncExternalStore:up,useId:kp,useHostTransitionStatus:Kh,useFormState:Ap,useActionState:Ap,useOptimistic:function(t,n){var a=_e();return pp(a,Kt,t,n)},useMemoCache:Bh,useCacheRefresh:zp},eT={readContext:Ge,use:du,useCallback:Op,useContext:Ge,useEffect:Cp,useImperativeHandle:Vp,useInsertionEffect:Dp,useLayoutEffect:Np,useMemo:Mp,useReducer:Hh,useRef:Rp,useState:function(){return Hh(Vi)},useDebugValue:Gh,useDeferredValue:function(t,n){var a=_e();return Kt===null?Qh(a,t,n):xp(a,Kt.memoizedState,t,n)},useTransition:function(){var t=Hh(Vi)[0],n=_e().memoizedState;return[typeof t=="boolean"?t:Cl(t),n]},useSyncExternalStore:up,useId:kp,useHostTransitionStatus:Kh,useFormState:bp,useActionState:bp,useOptimistic:function(t,n){var a=_e();return Kt!==null?pp(a,Kt,t,n):(a.baseState=t,[t,a.queue.dispatch])},useMemoCache:Bh,useCacheRefresh:zp},os=null,Il=0;function vu(t){var n=Il;return Il+=1,os===null&&(os=[]),ep(os,t,n)}function Vl(t,n){n=n.props.ref,t.ref=n!==void 0?n:null}function Eu(t,n){throw n.$$typeof===S?Error(s(525)):(t=Object.prototype.toString.call(n),Error(s(31,t==="[object Object]"?"object with keys {"+Object.keys(n).join(", ")+"}":t)))}function Gp(t){var n=t._init;return n(t._payload)}function Qp(t){function n(U,V){if(t){var k=U.deletions;k===null?(U.deletions=[V],U.flags|=16):k.push(V)}}function a(U,V){if(!t)return null;for(;V!==null;)n(U,V),V=V.sibling;return null}function l(U){for(var V=new Map;U!==null;)U.key!==null?V.set(U.key,U):V.set(U.index,U),U=U.sibling;return V}function c(U,V){return U=wi(U,V),U.index=0,U.sibling=null,U}function f(U,V,k){return U.index=k,t?(k=U.alternate,k!==null?(k=k.index,k<V?(U.flags|=67108866,V):k):(U.flags|=67108866,V)):(U.flags|=1048576,V)}function v(U){return t&&U.alternate===null&&(U.flags|=67108866),U}function T(U,V,k,X){return V===null||V.tag!==6?(V=gh(k,U.mode,X),V.return=U,V):(V=c(V,k),V.return=U,V)}function D(U,V,k,X){var ct=k.type;return ct===G?K(U,V,k.props.children,X,k.key):V!==null&&(V.elementType===ct||typeof ct=="object"&&ct!==null&&ct.$$typeof===b&&Gp(ct)===V.type)?(V=c(V,k.props),Vl(V,k),V.return=U,V):(V=nu(k.type,k.key,k.props,null,U.mode,X),Vl(V,k),V.return=U,V)}function z(U,V,k,X){return V===null||V.tag!==4||V.stateNode.containerInfo!==k.containerInfo||V.stateNode.implementation!==k.implementation?(V=yh(k,U.mode,X),V.return=U,V):(V=c(V,k.children||[]),V.return=U,V)}function K(U,V,k,X,ct){return V===null||V.tag!==7?(V=aa(k,U.mode,X,ct),V.return=U,V):(V=c(V,k),V.return=U,V)}function J(U,V,k){if(typeof V=="string"&&V!==""||typeof V=="number"||typeof V=="bigint")return V=gh(""+V,U.mode,k),V.return=U,V;if(typeof V=="object"&&V!==null){switch(V.$$typeof){case R:return k=nu(V.type,V.key,V.props,null,U.mode,k),Vl(k,V),k.return=U,k;case L:return V=yh(V,U.mode,k),V.return=U,V;case b:var X=V._init;return V=X(V._payload),J(U,V,k)}if(qt(V)||I(V))return V=aa(V,U.mode,k,null),V.return=U,V;if(typeof V.then=="function")return J(U,vu(V),k);if(V.$$typeof===it)return J(U,su(U,V),k);Eu(U,V)}return null}function j(U,V,k,X){var ct=V!==null?V.key:null;if(typeof k=="string"&&k!==""||typeof k=="number"||typeof k=="bigint")return ct!==null?null:T(U,V,""+k,X);if(typeof k=="object"&&k!==null){switch(k.$$typeof){case R:return k.key===ct?D(U,V,k,X):null;case L:return k.key===ct?z(U,V,k,X):null;case b:return ct=k._init,k=ct(k._payload),j(U,V,k,X)}if(qt(k)||I(k))return ct!==null?null:K(U,V,k,X,null);if(typeof k.then=="function")return j(U,V,vu(k),X);if(k.$$typeof===it)return j(U,V,su(U,k),X);Eu(U,k)}return null}function F(U,V,k,X,ct){if(typeof X=="string"&&X!==""||typeof X=="number"||typeof X=="bigint")return U=U.get(k)||null,T(V,U,""+X,ct);if(typeof X=="object"&&X!==null){switch(X.$$typeof){case R:return U=U.get(X.key===null?k:X.key)||null,D(V,U,X,ct);case L:return U=U.get(X.key===null?k:X.key)||null,z(V,U,X,ct);case b:var Nt=X._init;return X=Nt(X._payload),F(U,V,k,X,ct)}if(qt(X)||I(X))return U=U.get(k)||null,K(V,U,X,ct,null);if(typeof X.then=="function")return F(U,V,k,vu(X),ct);if(X.$$typeof===it)return F(U,V,k,su(V,X),ct);Eu(V,X)}return null}function Tt(U,V,k,X){for(var ct=null,Nt=null,gt=V,vt=V=0,Me=null;gt!==null&&vt<k.length;vt++){gt.index>vt?(Me=gt,gt=null):Me=gt.sibling;var zt=j(U,gt,k[vt],X);if(zt===null){gt===null&&(gt=Me);break}t&&gt&&zt.alternate===null&&n(U,gt),V=f(zt,V,vt),Nt===null?ct=zt:Nt.sibling=zt,Nt=zt,gt=Me}if(vt===k.length)return a(U,gt),Bt&&la(U,vt),ct;if(gt===null){for(;vt<k.length;vt++)gt=J(U,k[vt],X),gt!==null&&(V=f(gt,V,vt),Nt===null?ct=gt:Nt.sibling=gt,Nt=gt);return Bt&&la(U,vt),ct}for(gt=l(gt);vt<k.length;vt++)Me=F(gt,U,vt,k[vt],X),Me!==null&&(t&&Me.alternate!==null&&gt.delete(Me.key===null?vt:Me.key),V=f(Me,V,vt),Nt===null?ct=Me:Nt.sibling=Me,Nt=Me);return t&&gt.forEach(function(_r){return n(U,_r)}),Bt&&la(U,vt),ct}function _t(U,V,k,X){if(k==null)throw Error(s(151));for(var ct=null,Nt=null,gt=V,vt=V=0,Me=null,zt=k.next();gt!==null&&!zt.done;vt++,zt=k.next()){gt.index>vt?(Me=gt,gt=null):Me=gt.sibling;var _r=j(U,gt,zt.value,X);if(_r===null){gt===null&&(gt=Me);break}t&&gt&&_r.alternate===null&&n(U,gt),V=f(_r,V,vt),Nt===null?ct=_r:Nt.sibling=_r,Nt=_r,gt=Me}if(zt.done)return a(U,gt),Bt&&la(U,vt),ct;if(gt===null){for(;!zt.done;vt++,zt=k.next())zt=J(U,zt.value,X),zt!==null&&(V=f(zt,V,vt),Nt===null?ct=zt:Nt.sibling=zt,Nt=zt);return Bt&&la(U,vt),ct}for(gt=l(gt);!zt.done;vt++,zt=k.next())zt=F(gt,U,vt,zt.value,X),zt!==null&&(t&&zt.alternate!==null&&gt.delete(zt.key===null?vt:zt.key),V=f(zt,V,vt),Nt===null?ct=zt:Nt.sibling=zt,Nt=zt);return t&&gt.forEach(function(n1){return n(U,n1)}),Bt&&la(U,vt),ct}function $t(U,V,k,X){if(typeof k=="object"&&k!==null&&k.type===G&&k.key===null&&(k=k.props.children),typeof k=="object"&&k!==null){switch(k.$$typeof){case R:t:{for(var ct=k.key;V!==null;){if(V.key===ct){if(ct=k.type,ct===G){if(V.tag===7){a(U,V.sibling),X=c(V,k.props.children),X.return=U,U=X;break t}}else if(V.elementType===ct||typeof ct=="object"&&ct!==null&&ct.$$typeof===b&&Gp(ct)===V.type){a(U,V.sibling),X=c(V,k.props),Vl(X,k),X.return=U,U=X;break t}a(U,V);break}else n(U,V);V=V.sibling}k.type===G?(X=aa(k.props.children,U.mode,X,k.key),X.return=U,U=X):(X=nu(k.type,k.key,k.props,null,U.mode,X),Vl(X,k),X.return=U,U=X)}return v(U);case L:t:{for(ct=k.key;V!==null;){if(V.key===ct)if(V.tag===4&&V.stateNode.containerInfo===k.containerInfo&&V.stateNode.implementation===k.implementation){a(U,V.sibling),X=c(V,k.children||[]),X.return=U,U=X;break t}else{a(U,V);break}else n(U,V);V=V.sibling}X=yh(k,U.mode,X),X.return=U,U=X}return v(U);case b:return ct=k._init,k=ct(k._payload),$t(U,V,k,X)}if(qt(k))return Tt(U,V,k,X);if(I(k)){if(ct=I(k),typeof ct!="function")throw Error(s(150));return k=ct.call(k),_t(U,V,k,X)}if(typeof k.then=="function")return $t(U,V,vu(k),X);if(k.$$typeof===it)return $t(U,V,su(U,k),X);Eu(U,k)}return typeof k=="string"&&k!==""||typeof k=="number"||typeof k=="bigint"?(k=""+k,V!==null&&V.tag===6?(a(U,V.sibling),X=c(V,k),X.return=U,U=X):(a(U,V),X=gh(k,U.mode,X),X.return=U,U=X),v(U)):a(U,V)}return function(U,V,k,X){try{Il=0;var ct=$t(U,V,k,X);return os=null,ct}catch(gt){if(gt===Tl||gt===ou)throw gt;var Nt=on(29,gt,null,U.mode);return Nt.lanes=X,Nt.return=U,Nt}finally{}}}var us=Qp(!0),Yp=Qp(!1),bn=Z(null),Jn=null;function ir(t){var n=t.alternate;rt(Re,Re.current&1),rt(bn,t),Jn===null&&(n===null||rs.current!==null||n.memoizedState!==null)&&(Jn=t)}function Kp(t){if(t.tag===22){if(rt(Re,Re.current),rt(bn,t),Jn===null){var n=t.alternate;n!==null&&n.memoizedState!==null&&(Jn=t)}}else rr()}function rr(){rt(Re,Re.current),rt(bn,bn.current)}function Oi(t){at(bn),Jn===t&&(Jn=null),at(Re)}var Re=Z(0);function Tu(t){for(var n=t;n!==null;){if(n.tag===13){var a=n.memoizedState;if(a!==null&&(a=a.dehydrated,a===null||a.data==="$?"||Bf(a)))return n}else if(n.tag===19&&n.memoizedProps.revealOrder!==void 0){if((n.flags&128)!==0)return n}else if(n.child!==null){n.child.return=n,n=n.child;continue}if(n===t)break;for(;n.sibling===null;){if(n.return===null||n.return===t)return null;n=n.return}n.sibling.return=n.return,n=n.sibling}return null}function $h(t,n,a,l){n=t.memoizedState,a=a(l,n),a=a==null?n:E({},n,a),t.memoizedState=a,t.lanes===0&&(t.updateQueue.baseState=a)}var Zh={enqueueSetState:function(t,n,a){t=t._reactInternals;var l=fn(),c=tr(l);c.payload=n,a!=null&&(c.callback=a),n=er(t,c,l),n!==null&&(dn(n,t,l),Sl(n,t,l))},enqueueReplaceState:function(t,n,a){t=t._reactInternals;var l=fn(),c=tr(l);c.tag=1,c.payload=n,a!=null&&(c.callback=a),n=er(t,c,l),n!==null&&(dn(n,t,l),Sl(n,t,l))},enqueueForceUpdate:function(t,n){t=t._reactInternals;var a=fn(),l=tr(a);l.tag=2,n!=null&&(l.callback=n),n=er(t,l,a),n!==null&&(dn(n,t,a),Sl(n,t,a))}};function Xp(t,n,a,l,c,f,v){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(l,f,v):n.prototype&&n.prototype.isPureReactComponent?!dl(a,l)||!dl(c,f):!0}function $p(t,n,a,l){t=n.state,typeof n.componentWillReceiveProps=="function"&&n.componentWillReceiveProps(a,l),typeof n.UNSAFE_componentWillReceiveProps=="function"&&n.UNSAFE_componentWillReceiveProps(a,l),n.state!==t&&Zh.enqueueReplaceState(n,n.state,null)}function ma(t,n){var a=n;if("ref"in n){a={};for(var l in n)l!=="ref"&&(a[l]=n[l])}if(t=t.defaultProps){a===n&&(a=E({},a));for(var c in t)a[c]===void 0&&(a[c]=t[c])}return a}var Au=typeof reportError=="function"?reportError:function(t){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var n=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof t=="object"&&t!==null&&typeof t.message=="string"?String(t.message):String(t),error:t});if(!window.dispatchEvent(n))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",t);return}console.error(t)};function Zp(t){Au(t)}function Jp(t){console.error(t)}function Wp(t){Au(t)}function Su(t,n){try{var a=t.onUncaughtError;a(n.value,{componentStack:n.stack})}catch(l){setTimeout(function(){throw l})}}function tg(t,n,a){try{var l=t.onCaughtError;l(a.value,{componentStack:a.stack,errorBoundary:n.tag===1?n.stateNode:null})}catch(c){setTimeout(function(){throw c})}}function Jh(t,n,a){return a=tr(a),a.tag=3,a.payload={element:null},a.callback=function(){Su(t,n)},a}function eg(t){return t=tr(t),t.tag=3,t}function ng(t,n,a,l){var c=a.type.getDerivedStateFromError;if(typeof c=="function"){var f=l.value;t.payload=function(){return c(f)},t.callback=function(){tg(n,a,l)}}var v=a.stateNode;v!==null&&typeof v.componentDidCatch=="function"&&(t.callback=function(){tg(n,a,l),typeof c!="function"&&(cr===null?cr=new Set([this]):cr.add(this));var T=l.stack;this.componentDidCatch(l.value,{componentStack:T!==null?T:""})})}function nT(t,n,a,l,c){if(a.flags|=32768,l!==null&&typeof l=="object"&&typeof l.then=="function"){if(n=a.alternate,n!==null&&_l(n,a,c,!0),a=bn.current,a!==null){switch(a.tag){case 13:return Jn===null?Sf():a.alternate===null&&ce===0&&(ce=3),a.flags&=-257,a.flags|=65536,a.lanes=c,l===Ch?a.flags|=16384:(n=a.updateQueue,n===null?a.updateQueue=new Set([l]):n.add(l),Rf(t,l,c)),!1;case 22:return a.flags|=65536,l===Ch?a.flags|=16384:(n=a.updateQueue,n===null?(n={transitions:null,markerInstances:null,retryQueue:new Set([l])},a.updateQueue=n):(a=n.retryQueue,a===null?n.retryQueue=new Set([l]):a.add(l)),Rf(t,l,c)),!1}throw Error(s(435,a.tag))}return Rf(t,l,c),Sf(),!1}if(Bt)return n=bn.current,n!==null?((n.flags&65536)===0&&(n.flags|=256),n.flags|=65536,n.lanes=c,l!==Eh&&(t=Error(s(422),{cause:l}),yl(En(t,a)))):(l!==Eh&&(n=Error(s(423),{cause:l}),yl(En(n,a))),t=t.current.alternate,t.flags|=65536,c&=-c,t.lanes|=c,l=En(l,a),c=Jh(t.stateNode,l,c),Ih(t,c),ce!==4&&(ce=2)),!1;var f=Error(s(520),{cause:l});if(f=En(f,a),kl===null?kl=[f]:kl.push(f),ce!==4&&(ce=2),n===null)return!0;l=En(l,a),a=n;do{switch(a.tag){case 3:return a.flags|=65536,t=c&-c,a.lanes|=t,t=Jh(a.stateNode,l,t),Ih(a,t),!1;case 1:if(n=a.type,f=a.stateNode,(a.flags&128)===0&&(typeof n.getDerivedStateFromError=="function"||f!==null&&typeof f.componentDidCatch=="function"&&(cr===null||!cr.has(f))))return a.flags|=65536,c&=-c,a.lanes|=c,c=eg(c),ng(c,t,a,l),Ih(a,c),!1}a=a.return}while(a!==null);return!1}var ig=Error(s(461)),Ve=!1;function ke(t,n,a,l){n.child=t===null?Yp(n,null,a,l):us(n,t.child,a,l)}function rg(t,n,a,l,c){a=a.render;var f=n.ref;if("ref"in l){var v={};for(var T in l)T!=="ref"&&(v[T]=l[T])}else v=l;return ha(n),l=Uh(t,n,a,v,f,c),T=Lh(),t!==null&&!Ve?(Ph(t,n,c),Mi(t,n,c)):(Bt&&T&&_h(n),n.flags|=1,ke(t,n,l,c),n.child)}function ag(t,n,a,l,c){if(t===null){var f=a.type;return typeof f=="function"&&!ph(f)&&f.defaultProps===void 0&&a.compare===null?(n.tag=15,n.type=f,sg(t,n,f,l,c)):(t=nu(a.type,null,l,n,n.mode,c),t.ref=n.ref,t.return=n,n.child=t)}if(f=t.child,!lf(t,c)){var v=f.memoizedProps;if(a=a.compare,a=a!==null?a:dl,a(v,l)&&t.ref===n.ref)return Mi(t,n,c)}return n.flags|=1,t=wi(f,l),t.ref=n.ref,t.return=n,n.child=t}function sg(t,n,a,l,c){if(t!==null){var f=t.memoizedProps;if(dl(f,l)&&t.ref===n.ref)if(Ve=!1,n.pendingProps=l=f,lf(t,c))(t.flags&131072)!==0&&(Ve=!0);else return n.lanes=t.lanes,Mi(t,n,c)}return Wh(t,n,a,l,c)}function lg(t,n,a){var l=n.pendingProps,c=l.children,f=t!==null?t.memoizedState:null;if(l.mode==="hidden"){if((n.flags&128)!==0){if(l=f!==null?f.baseLanes|a:a,t!==null){for(c=n.child=t.child,f=0;c!==null;)f=f|c.lanes|c.childLanes,c=c.sibling;n.childLanes=f&~l}else n.childLanes=0,n.child=null;return og(t,n,l,a)}if((a&536870912)!==0)n.memoizedState={baseLanes:0,cachePool:null},t!==null&&lu(n,f!==null?f.cachePool:null),f!==null?sp(n,f):Oh(),Kp(n);else return n.lanes=n.childLanes=536870912,og(t,n,f!==null?f.baseLanes|a:a,a)}else f!==null?(lu(n,f.cachePool),sp(n,f),rr(),n.memoizedState=null):(t!==null&&lu(n,null),Oh(),rr());return ke(t,n,c,a),n.child}function og(t,n,a,l){var c=wh();return c=c===null?null:{parent:be._currentValue,pool:c},n.memoizedState={baseLanes:a,cachePool:c},t!==null&&lu(n,null),Oh(),Kp(n),t!==null&&_l(t,n,l,!0),null}function bu(t,n){var a=n.ref;if(a===null)t!==null&&t.ref!==null&&(n.flags|=4194816);else{if(typeof a!="function"&&typeof a!="object")throw Error(s(284));(t===null||t.ref!==a)&&(n.flags|=4194816)}}function Wh(t,n,a,l,c){return ha(n),a=Uh(t,n,a,l,void 0,c),l=Lh(),t!==null&&!Ve?(Ph(t,n,c),Mi(t,n,c)):(Bt&&l&&_h(n),n.flags|=1,ke(t,n,a,c),n.child)}function ug(t,n,a,l,c,f){return ha(n),n.updateQueue=null,a=op(n,l,a,c),lp(t),l=Lh(),t!==null&&!Ve?(Ph(t,n,f),Mi(t,n,f)):(Bt&&l&&_h(n),n.flags|=1,ke(t,n,a,f),n.child)}function cg(t,n,a,l,c){if(ha(n),n.stateNode===null){var f=Wa,v=a.contextType;typeof v=="object"&&v!==null&&(f=Ge(v)),f=new a(l,f),n.memoizedState=f.state!==null&&f.state!==void 0?f.state:null,f.updater=Zh,n.stateNode=f,f._reactInternals=n,f=n.stateNode,f.props=l,f.state=n.memoizedState,f.refs={},Dh(n),v=a.contextType,f.context=typeof v=="object"&&v!==null?Ge(v):Wa,f.state=n.memoizedState,v=a.getDerivedStateFromProps,typeof v=="function"&&($h(n,a,v,l),f.state=n.memoizedState),typeof a.getDerivedStateFromProps=="function"||typeof f.getSnapshotBeforeUpdate=="function"||typeof f.UNSAFE_componentWillMount!="function"&&typeof f.componentWillMount!="function"||(v=f.state,typeof f.componentWillMount=="function"&&f.componentWillMount(),typeof f.UNSAFE_componentWillMount=="function"&&f.UNSAFE_componentWillMount(),v!==f.state&&Zh.enqueueReplaceState(f,f.state,null),Rl(n,l,f,c),bl(),f.state=n.memoizedState),typeof f.componentDidMount=="function"&&(n.flags|=4194308),l=!0}else if(t===null){f=n.stateNode;var T=n.memoizedProps,D=ma(a,T);f.props=D;var z=f.context,K=a.contextType;v=Wa,typeof K=="object"&&K!==null&&(v=Ge(K));var J=a.getDerivedStateFromProps;K=typeof J=="function"||typeof f.getSnapshotBeforeUpdate=="function",T=n.pendingProps!==T,K||typeof f.UNSAFE_componentWillReceiveProps!="function"&&typeof f.componentWillReceiveProps!="function"||(T||z!==v)&&$p(n,f,l,v),Wi=!1;var j=n.memoizedState;f.state=j,Rl(n,l,f,c),bl(),z=n.memoizedState,T||j!==z||Wi?(typeof J=="function"&&($h(n,a,J,l),z=n.memoizedState),(D=Wi||Xp(n,a,D,l,j,z,v))?(K||typeof f.UNSAFE_componentWillMount!="function"&&typeof f.componentWillMount!="function"||(typeof f.componentWillMount=="function"&&f.componentWillMount(),typeof f.UNSAFE_componentWillMount=="function"&&f.UNSAFE_componentWillMount()),typeof f.componentDidMount=="function"&&(n.flags|=4194308)):(typeof f.componentDidMount=="function"&&(n.flags|=4194308),n.memoizedProps=l,n.memoizedState=z),f.props=l,f.state=z,f.context=v,l=D):(typeof f.componentDidMount=="function"&&(n.flags|=4194308),l=!1)}else{f=n.stateNode,Nh(t,n),v=n.memoizedProps,K=ma(a,v),f.props=K,J=n.pendingProps,j=f.context,z=a.contextType,D=Wa,typeof z=="object"&&z!==null&&(D=Ge(z)),T=a.getDerivedStateFromProps,(z=typeof T=="function"||typeof f.getSnapshotBeforeUpdate=="function")||typeof f.UNSAFE_componentWillReceiveProps!="function"&&typeof f.componentWillReceiveProps!="function"||(v!==J||j!==D)&&$p(n,f,l,D),Wi=!1,j=n.memoizedState,f.state=j,Rl(n,l,f,c),bl();var F=n.memoizedState;v!==J||j!==F||Wi||t!==null&&t.dependencies!==null&&au(t.dependencies)?(typeof T=="function"&&($h(n,a,T,l),F=n.memoizedState),(K=Wi||Xp(n,a,K,l,j,F,D)||t!==null&&t.dependencies!==null&&au(t.dependencies))?(z||typeof f.UNSAFE_componentWillUpdate!="function"&&typeof f.componentWillUpdate!="function"||(typeof f.componentWillUpdate=="function"&&f.componentWillUpdate(l,F,D),typeof f.UNSAFE_componentWillUpdate=="function"&&f.UNSAFE_componentWillUpdate(l,F,D)),typeof f.componentDidUpdate=="function"&&(n.flags|=4),typeof f.getSnapshotBeforeUpdate=="function"&&(n.flags|=1024)):(typeof f.componentDidUpdate!="function"||v===t.memoizedProps&&j===t.memoizedState||(n.flags|=4),typeof f.getSnapshotBeforeUpdate!="function"||v===t.memoizedProps&&j===t.memoizedState||(n.flags|=1024),n.memoizedProps=l,n.memoizedState=F),f.props=l,f.state=F,f.context=D,l=K):(typeof f.componentDidUpdate!="function"||v===t.memoizedProps&&j===t.memoizedState||(n.flags|=4),typeof f.getSnapshotBeforeUpdate!="function"||v===t.memoizedProps&&j===t.memoizedState||(n.flags|=1024),l=!1)}return f=l,bu(t,n),l=(n.flags&128)!==0,f||l?(f=n.stateNode,a=l&&typeof a.getDerivedStateFromError!="function"?null:f.render(),n.flags|=1,t!==null&&l?(n.child=us(n,t.child,null,c),n.child=us(n,null,a,c)):ke(t,n,a,c),n.memoizedState=f.state,t=n.child):t=Mi(t,n,c),t}function hg(t,n,a,l){return gl(),n.flags|=256,ke(t,n,a,l),n.child}var tf={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function ef(t){return{baseLanes:t,cachePool:Jm()}}function nf(t,n,a){return t=t!==null?t.childLanes&~a:0,n&&(t|=Rn),t}function fg(t,n,a){var l=n.pendingProps,c=!1,f=(n.flags&128)!==0,v;if((v=f)||(v=t!==null&&t.memoizedState===null?!1:(Re.current&2)!==0),v&&(c=!0,n.flags&=-129),v=(n.flags&32)!==0,n.flags&=-33,t===null){if(Bt){if(c?ir(n):rr(),Bt){var T=ue,D;if(D=T){t:{for(D=T,T=Zn;D.nodeType!==8;){if(!T){T=null;break t}if(D=xn(D.nextSibling),D===null){T=null;break t}}T=D}T!==null?(n.memoizedState={dehydrated:T,treeContext:sa!==null?{id:Ci,overflow:Di}:null,retryLane:536870912,hydrationErrors:null},D=on(18,null,null,0),D.stateNode=T,D.return=n,n.child=D,We=n,ue=null,D=!0):D=!1}D||ua(n)}if(T=n.memoizedState,T!==null&&(T=T.dehydrated,T!==null))return Bf(T)?n.lanes=32:n.lanes=536870912,null;Oi(n)}return T=l.children,l=l.fallback,c?(rr(),c=n.mode,T=Ru({mode:"hidden",children:T},c),l=aa(l,c,a,null),T.return=n,l.return=n,T.sibling=l,n.child=T,c=n.child,c.memoizedState=ef(a),c.childLanes=nf(t,v,a),n.memoizedState=tf,l):(ir(n),rf(n,T))}if(D=t.memoizedState,D!==null&&(T=D.dehydrated,T!==null)){if(f)n.flags&256?(ir(n),n.flags&=-257,n=af(t,n,a)):n.memoizedState!==null?(rr(),n.child=t.child,n.flags|=128,n=null):(rr(),c=l.fallback,T=n.mode,l=Ru({mode:"visible",children:l.children},T),c=aa(c,T,a,null),c.flags|=2,l.return=n,c.return=n,l.sibling=c,n.child=l,us(n,t.child,null,a),l=n.child,l.memoizedState=ef(a),l.childLanes=nf(t,v,a),n.memoizedState=tf,n=c);else if(ir(n),Bf(T)){if(v=T.nextSibling&&T.nextSibling.dataset,v)var z=v.dgst;v=z,l=Error(s(419)),l.stack="",l.digest=v,yl({value:l,source:null,stack:null}),n=af(t,n,a)}else if(Ve||_l(t,n,a,!1),v=(a&t.childLanes)!==0,Ve||v){if(v=te,v!==null&&(l=a&-a,l=(l&42)!==0?1:Gi(l),l=(l&(v.suspendedLanes|a))!==0?0:l,l!==0&&l!==D.retryLane))throw D.retryLane=l,Ja(t,l),dn(v,t,l),ig;T.data==="$?"||Sf(),n=af(t,n,a)}else T.data==="$?"?(n.flags|=192,n.child=t.child,n=null):(t=D.treeContext,ue=xn(T.nextSibling),We=n,Bt=!0,oa=null,Zn=!1,t!==null&&(An[Sn++]=Ci,An[Sn++]=Di,An[Sn++]=sa,Ci=t.id,Di=t.overflow,sa=n),n=rf(n,l.children),n.flags|=4096);return n}return c?(rr(),c=l.fallback,T=n.mode,D=t.child,z=D.sibling,l=wi(D,{mode:"hidden",children:l.children}),l.subtreeFlags=D.subtreeFlags&65011712,z!==null?c=wi(z,c):(c=aa(c,T,a,null),c.flags|=2),c.return=n,l.return=n,l.sibling=c,n.child=l,l=c,c=n.child,T=t.child.memoizedState,T===null?T=ef(a):(D=T.cachePool,D!==null?(z=be._currentValue,D=D.parent!==z?{parent:z,pool:z}:D):D=Jm(),T={baseLanes:T.baseLanes|a,cachePool:D}),c.memoizedState=T,c.childLanes=nf(t,v,a),n.memoizedState=tf,l):(ir(n),a=t.child,t=a.sibling,a=wi(a,{mode:"visible",children:l.children}),a.return=n,a.sibling=null,t!==null&&(v=n.deletions,v===null?(n.deletions=[t],n.flags|=16):v.push(t)),n.child=a,n.memoizedState=null,a)}function rf(t,n){return n=Ru({mode:"visible",children:n},t.mode),n.return=t,t.child=n}function Ru(t,n){return t=on(22,t,null,n),t.lanes=0,t.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null},t}function af(t,n,a){return us(n,t.child,null,a),t=rf(n,n.pendingProps.children),t.flags|=2,n.memoizedState=null,t}function dg(t,n,a){t.lanes|=n;var l=t.alternate;l!==null&&(l.lanes|=n),Ah(t.return,n,a)}function sf(t,n,a,l,c){var f=t.memoizedState;f===null?t.memoizedState={isBackwards:n,rendering:null,renderingStartTime:0,last:l,tail:a,tailMode:c}:(f.isBackwards=n,f.rendering=null,f.renderingStartTime=0,f.last=l,f.tail=a,f.tailMode=c)}function mg(t,n,a){var l=n.pendingProps,c=l.revealOrder,f=l.tail;if(ke(t,n,l.children,a),l=Re.current,(l&2)!==0)l=l&1|2,n.flags|=128;else{if(t!==null&&(t.flags&128)!==0)t:for(t=n.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&dg(t,a,n);else if(t.tag===19)dg(t,a,n);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===n)break t;for(;t.sibling===null;){if(t.return===null||t.return===n)break t;t=t.return}t.sibling.return=t.return,t=t.sibling}l&=1}switch(rt(Re,l),c){case"forwards":for(a=n.child,c=null;a!==null;)t=a.alternate,t!==null&&Tu(t)===null&&(c=a),a=a.sibling;a=c,a===null?(c=n.child,n.child=null):(c=a.sibling,a.sibling=null),sf(n,!1,c,a,f);break;case"backwards":for(a=null,c=n.child,n.child=null;c!==null;){if(t=c.alternate,t!==null&&Tu(t)===null){n.child=c;break}t=c.sibling,c.sibling=a,a=c,c=t}sf(n,!0,a,null,f);break;case"together":sf(n,!1,null,null,void 0);break;default:n.memoizedState=null}return n.child}function Mi(t,n,a){if(t!==null&&(n.dependencies=t.dependencies),ur|=n.lanes,(a&n.childLanes)===0)if(t!==null){if(_l(t,n,a,!1),(a&n.childLanes)===0)return null}else return null;if(t!==null&&n.child!==t.child)throw Error(s(153));if(n.child!==null){for(t=n.child,a=wi(t,t.pendingProps),n.child=a,a.return=n;t.sibling!==null;)t=t.sibling,a=a.sibling=wi(t,t.pendingProps),a.return=n;a.sibling=null}return n.child}function lf(t,n){return(t.lanes&n)!==0?!0:(t=t.dependencies,!!(t!==null&&au(t)))}function iT(t,n,a){switch(n.tag){case 3:Wt(n,n.stateNode.containerInfo),Ji(n,be,t.memoizedState.cache),gl();break;case 27:case 5:Fi(n);break;case 4:Wt(n,n.stateNode.containerInfo);break;case 10:Ji(n,n.type,n.memoizedProps.value);break;case 13:var l=n.memoizedState;if(l!==null)return l.dehydrated!==null?(ir(n),n.flags|=128,null):(a&n.child.childLanes)!==0?fg(t,n,a):(ir(n),t=Mi(t,n,a),t!==null?t.sibling:null);ir(n);break;case 19:var c=(t.flags&128)!==0;if(l=(a&n.childLanes)!==0,l||(_l(t,n,a,!1),l=(a&n.childLanes)!==0),c){if(l)return mg(t,n,a);n.flags|=128}if(c=n.memoizedState,c!==null&&(c.rendering=null,c.tail=null,c.lastEffect=null),rt(Re,Re.current),l)break;return null;case 22:case 23:return n.lanes=0,lg(t,n,a);case 24:Ji(n,be,t.memoizedState.cache)}return Mi(t,n,a)}function pg(t,n,a){if(t!==null)if(t.memoizedProps!==n.pendingProps)Ve=!0;else{if(!lf(t,a)&&(n.flags&128)===0)return Ve=!1,iT(t,n,a);Ve=(t.flags&131072)!==0}else Ve=!1,Bt&&(n.flags&1048576)!==0&&Gm(n,ru,n.index);switch(n.lanes=0,n.tag){case 16:t:{t=n.pendingProps;var l=n.elementType,c=l._init;if(l=c(l._payload),n.type=l,typeof l=="function")ph(l)?(t=ma(l,t),n.tag=1,n=cg(null,n,l,t,a)):(n.tag=0,n=Wh(null,n,l,t,a));else{if(l!=null){if(c=l.$$typeof,c===ft){n.tag=11,n=rg(null,n,l,t,a);break t}else if(c===M){n.tag=14,n=ag(null,n,l,t,a);break t}}throw n=Jt(l)||l,Error(s(306,n,""))}}return n;case 0:return Wh(t,n,n.type,n.pendingProps,a);case 1:return l=n.type,c=ma(l,n.pendingProps),cg(t,n,l,c,a);case 3:t:{if(Wt(n,n.stateNode.containerInfo),t===null)throw Error(s(387));l=n.pendingProps;var f=n.memoizedState;c=f.element,Nh(t,n),Rl(n,l,null,a);var v=n.memoizedState;if(l=v.cache,Ji(n,be,l),l!==f.cache&&Sh(n,[be],a,!0),bl(),l=v.element,f.isDehydrated)if(f={element:l,isDehydrated:!1,cache:v.cache},n.updateQueue.baseState=f,n.memoizedState=f,n.flags&256){n=hg(t,n,l,a);break t}else if(l!==c){c=En(Error(s(424)),n),yl(c),n=hg(t,n,l,a);break t}else{switch(t=n.stateNode.containerInfo,t.nodeType){case 9:t=t.body;break;default:t=t.nodeName==="HTML"?t.ownerDocument.body:t}for(ue=xn(t.firstChild),We=n,Bt=!0,oa=null,Zn=!0,a=Yp(n,null,l,a),n.child=a;a;)a.flags=a.flags&-3|4096,a=a.sibling}else{if(gl(),l===c){n=Mi(t,n,a);break t}ke(t,n,l,a)}n=n.child}return n;case 26:return bu(t,n),t===null?(a=vy(n.type,null,n.pendingProps,null))?n.memoizedState=a:Bt||(a=n.type,t=n.pendingProps,l=zu(At.current).createElement(a),l[Te]=n,l[pe]=t,Be(l,a,t),he(l),n.stateNode=l):n.memoizedState=vy(n.type,t.memoizedProps,n.pendingProps,t.memoizedState),null;case 27:return Fi(n),t===null&&Bt&&(l=n.stateNode=gy(n.type,n.pendingProps,At.current),We=n,Zn=!0,c=ue,dr(n.type)?(qf=c,ue=xn(l.firstChild)):ue=c),ke(t,n,n.pendingProps.children,a),bu(t,n),t===null&&(n.flags|=4194304),n.child;case 5:return t===null&&Bt&&((c=l=ue)&&(l=VT(l,n.type,n.pendingProps,Zn),l!==null?(n.stateNode=l,We=n,ue=xn(l.firstChild),Zn=!1,c=!0):c=!1),c||ua(n)),Fi(n),c=n.type,f=n.pendingProps,v=t!==null?t.memoizedProps:null,l=f.children,Pf(c,f)?l=null:v!==null&&Pf(c,v)&&(n.flags|=32),n.memoizedState!==null&&(c=Uh(t,n,X0,null,null,a),Yl._currentValue=c),bu(t,n),ke(t,n,l,a),n.child;case 6:return t===null&&Bt&&((t=a=ue)&&(a=OT(a,n.pendingProps,Zn),a!==null?(n.stateNode=a,We=n,ue=null,t=!0):t=!1),t||ua(n)),null;case 13:return fg(t,n,a);case 4:return Wt(n,n.stateNode.containerInfo),l=n.pendingProps,t===null?n.child=us(n,null,l,a):ke(t,n,l,a),n.child;case 11:return rg(t,n,n.type,n.pendingProps,a);case 7:return ke(t,n,n.pendingProps,a),n.child;case 8:return ke(t,n,n.pendingProps.children,a),n.child;case 12:return ke(t,n,n.pendingProps.children,a),n.child;case 10:return l=n.pendingProps,Ji(n,n.type,l.value),ke(t,n,l.children,a),n.child;case 9:return c=n.type._context,l=n.pendingProps.children,ha(n),c=Ge(c),l=l(c),n.flags|=1,ke(t,n,l,a),n.child;case 14:return ag(t,n,n.type,n.pendingProps,a);case 15:return sg(t,n,n.type,n.pendingProps,a);case 19:return mg(t,n,a);case 31:return l=n.pendingProps,a=n.mode,l={mode:l.mode,children:l.children},t===null?(a=Ru(l,a),a.ref=n.ref,n.child=a,a.return=n,n=a):(a=wi(t.child,l),a.ref=n.ref,n.child=a,a.return=n,n=a),n;case 22:return lg(t,n,a);case 24:return ha(n),l=Ge(be),t===null?(c=wh(),c===null&&(c=te,f=bh(),c.pooledCache=f,f.refCount++,f!==null&&(c.pooledCacheLanes|=a),c=f),n.memoizedState={parent:l,cache:c},Dh(n),Ji(n,be,c)):((t.lanes&a)!==0&&(Nh(t,n),Rl(n,null,null,a),bl()),c=t.memoizedState,f=n.memoizedState,c.parent!==l?(c={parent:l,cache:l},n.memoizedState=c,n.lanes===0&&(n.memoizedState=n.updateQueue.baseState=c),Ji(n,be,l)):(l=f.cache,Ji(n,be,l),l!==c.cache&&Sh(n,[be],a,!0))),ke(t,n,n.pendingProps.children,a),n.child;case 29:throw n.pendingProps}throw Error(s(156,n.tag))}function xi(t){t.flags|=4}function gg(t,n){if(n.type!=="stylesheet"||(n.state.loading&4)!==0)t.flags&=-16777217;else if(t.flags|=16777216,!by(n)){if(n=bn.current,n!==null&&((Lt&4194048)===Lt?Jn!==null:(Lt&62914560)!==Lt&&(Lt&536870912)===0||n!==Jn))throw Al=Ch,Wm;t.flags|=8192}}function wu(t,n){n!==null&&(t.flags|=4),t.flags&16384&&(n=t.tag!==22?Xs():536870912,t.lanes|=n,ds|=n)}function Ol(t,n){if(!Bt)switch(t.tailMode){case"hidden":n=t.tail;for(var a=null;n!==null;)n.alternate!==null&&(a=n),n=n.sibling;a===null?t.tail=null:a.sibling=null;break;case"collapsed":a=t.tail;for(var l=null;a!==null;)a.alternate!==null&&(l=a),a=a.sibling;l===null?n||t.tail===null?t.tail=null:t.tail.sibling=null:l.sibling=null}}function se(t){var n=t.alternate!==null&&t.alternate.child===t.child,a=0,l=0;if(n)for(var c=t.child;c!==null;)a|=c.lanes|c.childLanes,l|=c.subtreeFlags&65011712,l|=c.flags&65011712,c.return=t,c=c.sibling;else for(c=t.child;c!==null;)a|=c.lanes|c.childLanes,l|=c.subtreeFlags,l|=c.flags,c.return=t,c=c.sibling;return t.subtreeFlags|=l,t.childLanes=a,n}function rT(t,n,a){var l=n.pendingProps;switch(vh(n),n.tag){case 31:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return se(n),null;case 1:return se(n),null;case 3:return a=n.stateNode,l=null,t!==null&&(l=t.memoizedState.cache),n.memoizedState.cache!==l&&(n.flags|=2048),Ii(be),zn(),a.pendingContext&&(a.context=a.pendingContext,a.pendingContext=null),(t===null||t.child===null)&&(pl(n)?xi(n):t===null||t.memoizedState.isDehydrated&&(n.flags&256)===0||(n.flags|=1024,Km())),se(n),null;case 26:return a=n.memoizedState,t===null?(xi(n),a!==null?(se(n),gg(n,a)):(se(n),n.flags&=-16777217)):a?a!==t.memoizedState?(xi(n),se(n),gg(n,a)):(se(n),n.flags&=-16777217):(t.memoizedProps!==l&&xi(n),se(n),n.flags&=-16777217),null;case 27:di(n),a=At.current;var c=n.type;if(t!==null&&n.stateNode!=null)t.memoizedProps!==l&&xi(n);else{if(!l){if(n.stateNode===null)throw Error(s(166));return se(n),null}t=dt.current,pl(n)?Qm(n):(t=gy(c,l,a),n.stateNode=t,xi(n))}return se(n),null;case 5:if(di(n),a=n.type,t!==null&&n.stateNode!=null)t.memoizedProps!==l&&xi(n);else{if(!l){if(n.stateNode===null)throw Error(s(166));return se(n),null}if(t=dt.current,pl(n))Qm(n);else{switch(c=zu(At.current),t){case 1:t=c.createElementNS("http://www.w3.org/2000/svg",a);break;case 2:t=c.createElementNS("http://www.w3.org/1998/Math/MathML",a);break;default:switch(a){case"svg":t=c.createElementNS("http://www.w3.org/2000/svg",a);break;case"math":t=c.createElementNS("http://www.w3.org/1998/Math/MathML",a);break;case"script":t=c.createElement("div"),t.innerHTML="<script><\/script>",t=t.removeChild(t.firstChild);break;case"select":t=typeof l.is=="string"?c.createElement("select",{is:l.is}):c.createElement("select"),l.multiple?t.multiple=!0:l.size&&(t.size=l.size);break;default:t=typeof l.is=="string"?c.createElement(a,{is:l.is}):c.createElement(a)}}t[Te]=n,t[pe]=l;t:for(c=n.child;c!==null;){if(c.tag===5||c.tag===6)t.appendChild(c.stateNode);else if(c.tag!==4&&c.tag!==27&&c.child!==null){c.child.return=c,c=c.child;continue}if(c===n)break t;for(;c.sibling===null;){if(c.return===null||c.return===n)break t;c=c.return}c.sibling.return=c.return,c=c.sibling}n.stateNode=t;t:switch(Be(t,a,l),a){case"button":case"input":case"select":case"textarea":t=!!l.autoFocus;break t;case"img":t=!0;break t;default:t=!1}t&&xi(n)}}return se(n),n.flags&=-16777217,null;case 6:if(t&&n.stateNode!=null)t.memoizedProps!==l&&xi(n);else{if(typeof l!="string"&&n.stateNode===null)throw Error(s(166));if(t=At.current,pl(n)){if(t=n.stateNode,a=n.memoizedProps,l=null,c=We,c!==null)switch(c.tag){case 27:case 5:l=c.memoizedProps}t[Te]=n,t=!!(t.nodeValue===a||l!==null&&l.suppressHydrationWarning===!0||uy(t.nodeValue,a)),t||ua(n)}else t=zu(t).createTextNode(l),t[Te]=n,n.stateNode=t}return se(n),null;case 13:if(l=n.memoizedState,t===null||t.memoizedState!==null&&t.memoizedState.dehydrated!==null){if(c=pl(n),l!==null&&l.dehydrated!==null){if(t===null){if(!c)throw Error(s(318));if(c=n.memoizedState,c=c!==null?c.dehydrated:null,!c)throw Error(s(317));c[Te]=n}else gl(),(n.flags&128)===0&&(n.memoizedState=null),n.flags|=4;se(n),c=!1}else c=Km(),t!==null&&t.memoizedState!==null&&(t.memoizedState.hydrationErrors=c),c=!0;if(!c)return n.flags&256?(Oi(n),n):(Oi(n),null)}if(Oi(n),(n.flags&128)!==0)return n.lanes=a,n;if(a=l!==null,t=t!==null&&t.memoizedState!==null,a){l=n.child,c=null,l.alternate!==null&&l.alternate.memoizedState!==null&&l.alternate.memoizedState.cachePool!==null&&(c=l.alternate.memoizedState.cachePool.pool);var f=null;l.memoizedState!==null&&l.memoizedState.cachePool!==null&&(f=l.memoizedState.cachePool.pool),f!==c&&(l.flags|=2048)}return a!==t&&a&&(n.child.flags|=8192),wu(n,n.updateQueue),se(n),null;case 4:return zn(),t===null&&Of(n.stateNode.containerInfo),se(n),null;case 10:return Ii(n.type),se(n),null;case 19:if(at(Re),c=n.memoizedState,c===null)return se(n),null;if(l=(n.flags&128)!==0,f=c.rendering,f===null)if(l)Ol(c,!1);else{if(ce!==0||t!==null&&(t.flags&128)!==0)for(t=n.child;t!==null;){if(f=Tu(t),f!==null){for(n.flags|=128,Ol(c,!1),t=f.updateQueue,n.updateQueue=t,wu(n,t),n.subtreeFlags=0,t=a,a=n.child;a!==null;)Fm(a,t),a=a.sibling;return rt(Re,Re.current&1|2),n.child}t=t.sibling}c.tail!==null&&mn()>Nu&&(n.flags|=128,l=!0,Ol(c,!1),n.lanes=4194304)}else{if(!l)if(t=Tu(f),t!==null){if(n.flags|=128,l=!0,t=t.updateQueue,n.updateQueue=t,wu(n,t),Ol(c,!0),c.tail===null&&c.tailMode==="hidden"&&!f.alternate&&!Bt)return se(n),null}else 2*mn()-c.renderingStartTime>Nu&&a!==536870912&&(n.flags|=128,l=!0,Ol(c,!1),n.lanes=4194304);c.isBackwards?(f.sibling=n.child,n.child=f):(t=c.last,t!==null?t.sibling=f:n.child=f,c.last=f)}return c.tail!==null?(n=c.tail,c.rendering=n,c.tail=n.sibling,c.renderingStartTime=mn(),n.sibling=null,t=Re.current,rt(Re,l?t&1|2:t&1),n):(se(n),null);case 22:case 23:return Oi(n),Mh(),l=n.memoizedState!==null,t!==null?t.memoizedState!==null!==l&&(n.flags|=8192):l&&(n.flags|=8192),l?(a&536870912)!==0&&(n.flags&128)===0&&(se(n),n.subtreeFlags&6&&(n.flags|=8192)):se(n),a=n.updateQueue,a!==null&&wu(n,a.retryQueue),a=null,t!==null&&t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(a=t.memoizedState.cachePool.pool),l=null,n.memoizedState!==null&&n.memoizedState.cachePool!==null&&(l=n.memoizedState.cachePool.pool),l!==a&&(n.flags|=2048),t!==null&&at(fa),null;case 24:return a=null,t!==null&&(a=t.memoizedState.cache),n.memoizedState.cache!==a&&(n.flags|=2048),Ii(be),se(n),null;case 25:return null;case 30:return null}throw Error(s(156,n.tag))}function aT(t,n){switch(vh(n),n.tag){case 1:return t=n.flags,t&65536?(n.flags=t&-65537|128,n):null;case 3:return Ii(be),zn(),t=n.flags,(t&65536)!==0&&(t&128)===0?(n.flags=t&-65537|128,n):null;case 26:case 27:case 5:return di(n),null;case 13:if(Oi(n),t=n.memoizedState,t!==null&&t.dehydrated!==null){if(n.alternate===null)throw Error(s(340));gl()}return t=n.flags,t&65536?(n.flags=t&-65537|128,n):null;case 19:return at(Re),null;case 4:return zn(),null;case 10:return Ii(n.type),null;case 22:case 23:return Oi(n),Mh(),t!==null&&at(fa),t=n.flags,t&65536?(n.flags=t&-65537|128,n):null;case 24:return Ii(be),null;case 25:return null;default:return null}}function yg(t,n){switch(vh(n),n.tag){case 3:Ii(be),zn();break;case 26:case 27:case 5:di(n);break;case 4:zn();break;case 13:Oi(n);break;case 19:at(Re);break;case 10:Ii(n.type);break;case 22:case 23:Oi(n),Mh(),t!==null&&at(fa);break;case 24:Ii(be)}}function Ml(t,n){try{var a=n.updateQueue,l=a!==null?a.lastEffect:null;if(l!==null){var c=l.next;a=c;do{if((a.tag&t)===t){l=void 0;var f=a.create,v=a.inst;l=f(),v.destroy=l}a=a.next}while(a!==c)}}catch(T){Zt(n,n.return,T)}}function ar(t,n,a){try{var l=n.updateQueue,c=l!==null?l.lastEffect:null;if(c!==null){var f=c.next;l=f;do{if((l.tag&t)===t){var v=l.inst,T=v.destroy;if(T!==void 0){v.destroy=void 0,c=n;var D=a,z=T;try{z()}catch(K){Zt(c,D,K)}}}l=l.next}while(l!==f)}}catch(K){Zt(n,n.return,K)}}function _g(t){var n=t.updateQueue;if(n!==null){var a=t.stateNode;try{ap(n,a)}catch(l){Zt(t,t.return,l)}}}function vg(t,n,a){a.props=ma(t.type,t.memoizedProps),a.state=t.memoizedState;try{a.componentWillUnmount()}catch(l){Zt(t,n,l)}}function xl(t,n){try{var a=t.ref;if(a!==null){switch(t.tag){case 26:case 27:case 5:var l=t.stateNode;break;case 30:l=t.stateNode;break;default:l=t.stateNode}typeof a=="function"?t.refCleanup=a(l):a.current=l}}catch(c){Zt(t,n,c)}}function Wn(t,n){var a=t.ref,l=t.refCleanup;if(a!==null)if(typeof l=="function")try{l()}catch(c){Zt(t,n,c)}finally{t.refCleanup=null,t=t.alternate,t!=null&&(t.refCleanup=null)}else if(typeof a=="function")try{a(null)}catch(c){Zt(t,n,c)}else a.current=null}function Eg(t){var n=t.type,a=t.memoizedProps,l=t.stateNode;try{t:switch(n){case"button":case"input":case"select":case"textarea":a.autoFocus&&l.focus();break t;case"img":a.src?l.src=a.src:a.srcSet&&(l.srcset=a.srcSet)}}catch(c){Zt(t,t.return,c)}}function of(t,n,a){try{var l=t.stateNode;wT(l,t.type,a,n),l[pe]=n}catch(c){Zt(t,t.return,c)}}function Tg(t){return t.tag===5||t.tag===3||t.tag===26||t.tag===27&&dr(t.type)||t.tag===4}function uf(t){t:for(;;){for(;t.sibling===null;){if(t.return===null||Tg(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==18;){if(t.tag===27&&dr(t.type)||t.flags&2||t.child===null||t.tag===4)continue t;t.child.return=t,t=t.child}if(!(t.flags&2))return t.stateNode}}function cf(t,n,a){var l=t.tag;if(l===5||l===6)t=t.stateNode,n?(a.nodeType===9?a.body:a.nodeName==="HTML"?a.ownerDocument.body:a).insertBefore(t,n):(n=a.nodeType===9?a.body:a.nodeName==="HTML"?a.ownerDocument.body:a,n.appendChild(t),a=a._reactRootContainer,a!=null||n.onclick!==null||(n.onclick=ku));else if(l!==4&&(l===27&&dr(t.type)&&(a=t.stateNode,n=null),t=t.child,t!==null))for(cf(t,n,a),t=t.sibling;t!==null;)cf(t,n,a),t=t.sibling}function Cu(t,n,a){var l=t.tag;if(l===5||l===6)t=t.stateNode,n?a.insertBefore(t,n):a.appendChild(t);else if(l!==4&&(l===27&&dr(t.type)&&(a=t.stateNode),t=t.child,t!==null))for(Cu(t,n,a),t=t.sibling;t!==null;)Cu(t,n,a),t=t.sibling}function Ag(t){var n=t.stateNode,a=t.memoizedProps;try{for(var l=t.type,c=n.attributes;c.length;)n.removeAttributeNode(c[0]);Be(n,l,a),n[Te]=t,n[pe]=a}catch(f){Zt(t,t.return,f)}}var Ui=!1,de=!1,hf=!1,Sg=typeof WeakSet=="function"?WeakSet:Set,Oe=null;function sT(t,n){if(t=t.containerInfo,Uf=Gu,t=xm(t),oh(t)){if("selectionStart"in t)var a={start:t.selectionStart,end:t.selectionEnd};else t:{a=(a=t.ownerDocument)&&a.defaultView||window;var l=a.getSelection&&a.getSelection();if(l&&l.rangeCount!==0){a=l.anchorNode;var c=l.anchorOffset,f=l.focusNode;l=l.focusOffset;try{a.nodeType,f.nodeType}catch{a=null;break t}var v=0,T=-1,D=-1,z=0,K=0,J=t,j=null;e:for(;;){for(var F;J!==a||c!==0&&J.nodeType!==3||(T=v+c),J!==f||l!==0&&J.nodeType!==3||(D=v+l),J.nodeType===3&&(v+=J.nodeValue.length),(F=J.firstChild)!==null;)j=J,J=F;for(;;){if(J===t)break e;if(j===a&&++z===c&&(T=v),j===f&&++K===l&&(D=v),(F=J.nextSibling)!==null)break;J=j,j=J.parentNode}J=F}a=T===-1||D===-1?null:{start:T,end:D}}else a=null}a=a||{start:0,end:0}}else a=null;for(Lf={focusedElem:t,selectionRange:a},Gu=!1,Oe=n;Oe!==null;)if(n=Oe,t=n.child,(n.subtreeFlags&1024)!==0&&t!==null)t.return=n,Oe=t;else for(;Oe!==null;){switch(n=Oe,f=n.alternate,t=n.flags,n.tag){case 0:break;case 11:case 15:break;case 1:if((t&1024)!==0&&f!==null){t=void 0,a=n,c=f.memoizedProps,f=f.memoizedState,l=a.stateNode;try{var Tt=ma(a.type,c,a.elementType===a.type);t=l.getSnapshotBeforeUpdate(Tt,f),l.__reactInternalSnapshotBeforeUpdate=t}catch(_t){Zt(a,a.return,_t)}}break;case 3:if((t&1024)!==0){if(t=n.stateNode.containerInfo,a=t.nodeType,a===9)zf(t);else if(a===1)switch(t.nodeName){case"HEAD":case"HTML":case"BODY":zf(t);break;default:t.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((t&1024)!==0)throw Error(s(163))}if(t=n.sibling,t!==null){t.return=n.return,Oe=t;break}Oe=n.return}}function bg(t,n,a){var l=a.flags;switch(a.tag){case 0:case 11:case 15:sr(t,a),l&4&&Ml(5,a);break;case 1:if(sr(t,a),l&4)if(t=a.stateNode,n===null)try{t.componentDidMount()}catch(v){Zt(a,a.return,v)}else{var c=ma(a.type,n.memoizedProps);n=n.memoizedState;try{t.componentDidUpdate(c,n,t.__reactInternalSnapshotBeforeUpdate)}catch(v){Zt(a,a.return,v)}}l&64&&_g(a),l&512&&xl(a,a.return);break;case 3:if(sr(t,a),l&64&&(t=a.updateQueue,t!==null)){if(n=null,a.child!==null)switch(a.child.tag){case 27:case 5:n=a.child.stateNode;break;case 1:n=a.child.stateNode}try{ap(t,n)}catch(v){Zt(a,a.return,v)}}break;case 27:n===null&&l&4&&Ag(a);case 26:case 5:sr(t,a),n===null&&l&4&&Eg(a),l&512&&xl(a,a.return);break;case 12:sr(t,a);break;case 13:sr(t,a),l&4&&Cg(t,a),l&64&&(t=a.memoizedState,t!==null&&(t=t.dehydrated,t!==null&&(a=pT.bind(null,a),MT(t,a))));break;case 22:if(l=a.memoizedState!==null||Ui,!l){n=n!==null&&n.memoizedState!==null||de,c=Ui;var f=de;Ui=l,(de=n)&&!f?lr(t,a,(a.subtreeFlags&8772)!==0):sr(t,a),Ui=c,de=f}break;case 30:break;default:sr(t,a)}}function Rg(t){var n=t.alternate;n!==null&&(t.alternate=null,Rg(n)),t.child=null,t.deletions=null,t.sibling=null,t.tag===5&&(n=t.stateNode,n!==null&&Ki(n)),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}var re=null,en=!1;function Li(t,n,a){for(a=a.child;a!==null;)wg(t,n,a),a=a.sibling}function wg(t,n,a){if(Ft&&typeof Ft.onCommitFiberUnmount=="function")try{Ft.onCommitFiberUnmount(oe,a)}catch{}switch(a.tag){case 26:de||Wn(a,n),Li(t,n,a),a.memoizedState?a.memoizedState.count--:a.stateNode&&(a=a.stateNode,a.parentNode.removeChild(a));break;case 27:de||Wn(a,n);var l=re,c=en;dr(a.type)&&(re=a.stateNode,en=!1),Li(t,n,a),jl(a.stateNode),re=l,en=c;break;case 5:de||Wn(a,n);case 6:if(l=re,c=en,re=null,Li(t,n,a),re=l,en=c,re!==null)if(en)try{(re.nodeType===9?re.body:re.nodeName==="HTML"?re.ownerDocument.body:re).removeChild(a.stateNode)}catch(f){Zt(a,n,f)}else try{re.removeChild(a.stateNode)}catch(f){Zt(a,n,f)}break;case 18:re!==null&&(en?(t=re,my(t.nodeType===9?t.body:t.nodeName==="HTML"?t.ownerDocument.body:t,a.stateNode),Zl(t)):my(re,a.stateNode));break;case 4:l=re,c=en,re=a.stateNode.containerInfo,en=!0,Li(t,n,a),re=l,en=c;break;case 0:case 11:case 14:case 15:de||ar(2,a,n),de||ar(4,a,n),Li(t,n,a);break;case 1:de||(Wn(a,n),l=a.stateNode,typeof l.componentWillUnmount=="function"&&vg(a,n,l)),Li(t,n,a);break;case 21:Li(t,n,a);break;case 22:de=(l=de)||a.memoizedState!==null,Li(t,n,a),de=l;break;default:Li(t,n,a)}}function Cg(t,n){if(n.memoizedState===null&&(t=n.alternate,t!==null&&(t=t.memoizedState,t!==null&&(t=t.dehydrated,t!==null))))try{Zl(t)}catch(a){Zt(n,n.return,a)}}function lT(t){switch(t.tag){case 13:case 19:var n=t.stateNode;return n===null&&(n=t.stateNode=new Sg),n;case 22:return t=t.stateNode,n=t._retryCache,n===null&&(n=t._retryCache=new Sg),n;default:throw Error(s(435,t.tag))}}function ff(t,n){var a=lT(t);n.forEach(function(l){var c=gT.bind(null,t,l);a.has(l)||(a.add(l),l.then(c,c))})}function un(t,n){var a=n.deletions;if(a!==null)for(var l=0;l<a.length;l++){var c=a[l],f=t,v=n,T=v;t:for(;T!==null;){switch(T.tag){case 27:if(dr(T.type)){re=T.stateNode,en=!1;break t}break;case 5:re=T.stateNode,en=!1;break t;case 3:case 4:re=T.stateNode.containerInfo,en=!0;break t}T=T.return}if(re===null)throw Error(s(160));wg(f,v,c),re=null,en=!1,f=c.alternate,f!==null&&(f.return=null),c.return=null}if(n.subtreeFlags&13878)for(n=n.child;n!==null;)Dg(n,t),n=n.sibling}var Mn=null;function Dg(t,n){var a=t.alternate,l=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:un(n,t),cn(t),l&4&&(ar(3,t,t.return),Ml(3,t),ar(5,t,t.return));break;case 1:un(n,t),cn(t),l&512&&(de||a===null||Wn(a,a.return)),l&64&&Ui&&(t=t.updateQueue,t!==null&&(l=t.callbacks,l!==null&&(a=t.shared.hiddenCallbacks,t.shared.hiddenCallbacks=a===null?l:a.concat(l))));break;case 26:var c=Mn;if(un(n,t),cn(t),l&512&&(de||a===null||Wn(a,a.return)),l&4){var f=a!==null?a.memoizedState:null;if(l=t.memoizedState,a===null)if(l===null)if(t.stateNode===null){t:{l=t.type,a=t.memoizedProps,c=c.ownerDocument||c;e:switch(l){case"title":f=c.getElementsByTagName("title")[0],(!f||f[jr]||f[Te]||f.namespaceURI==="http://www.w3.org/2000/svg"||f.hasAttribute("itemprop"))&&(f=c.createElement(l),c.head.insertBefore(f,c.querySelector("head > title"))),Be(f,l,a),f[Te]=t,he(f),l=f;break t;case"link":var v=Ay("link","href",c).get(l+(a.href||""));if(v){for(var T=0;T<v.length;T++)if(f=v[T],f.getAttribute("href")===(a.href==null||a.href===""?null:a.href)&&f.getAttribute("rel")===(a.rel==null?null:a.rel)&&f.getAttribute("title")===(a.title==null?null:a.title)&&f.getAttribute("crossorigin")===(a.crossOrigin==null?null:a.crossOrigin)){v.splice(T,1);break e}}f=c.createElement(l),Be(f,l,a),c.head.appendChild(f);break;case"meta":if(v=Ay("meta","content",c).get(l+(a.content||""))){for(T=0;T<v.length;T++)if(f=v[T],f.getAttribute("content")===(a.content==null?null:""+a.content)&&f.getAttribute("name")===(a.name==null?null:a.name)&&f.getAttribute("property")===(a.property==null?null:a.property)&&f.getAttribute("http-equiv")===(a.httpEquiv==null?null:a.httpEquiv)&&f.getAttribute("charset")===(a.charSet==null?null:a.charSet)){v.splice(T,1);break e}}f=c.createElement(l),Be(f,l,a),c.head.appendChild(f);break;default:throw Error(s(468,l))}f[Te]=t,he(f),l=f}t.stateNode=l}else Sy(c,t.type,t.stateNode);else t.stateNode=Ty(c,l,t.memoizedProps);else f!==l?(f===null?a.stateNode!==null&&(a=a.stateNode,a.parentNode.removeChild(a)):f.count--,l===null?Sy(c,t.type,t.stateNode):Ty(c,l,t.memoizedProps)):l===null&&t.stateNode!==null&&of(t,t.memoizedProps,a.memoizedProps)}break;case 27:un(n,t),cn(t),l&512&&(de||a===null||Wn(a,a.return)),a!==null&&l&4&&of(t,t.memoizedProps,a.memoizedProps);break;case 5:if(un(n,t),cn(t),l&512&&(de||a===null||Wn(a,a.return)),t.flags&32){c=t.stateNode;try{gn(c,"")}catch(F){Zt(t,t.return,F)}}l&4&&t.stateNode!=null&&(c=t.memoizedProps,of(t,c,a!==null?a.memoizedProps:c)),l&1024&&(hf=!0);break;case 6:if(un(n,t),cn(t),l&4){if(t.stateNode===null)throw Error(s(162));l=t.memoizedProps,a=t.stateNode;try{a.nodeValue=l}catch(F){Zt(t,t.return,F)}}break;case 3:if(Hu=null,c=Mn,Mn=Bu(n.containerInfo),un(n,t),Mn=c,cn(t),l&4&&a!==null&&a.memoizedState.isDehydrated)try{Zl(n.containerInfo)}catch(F){Zt(t,t.return,F)}hf&&(hf=!1,Ng(t));break;case 4:l=Mn,Mn=Bu(t.stateNode.containerInfo),un(n,t),cn(t),Mn=l;break;case 12:un(n,t),cn(t);break;case 13:un(n,t),cn(t),t.child.flags&8192&&t.memoizedState!==null!=(a!==null&&a.memoizedState!==null)&&(_f=mn()),l&4&&(l=t.updateQueue,l!==null&&(t.updateQueue=null,ff(t,l)));break;case 22:c=t.memoizedState!==null;var D=a!==null&&a.memoizedState!==null,z=Ui,K=de;if(Ui=z||c,de=K||D,un(n,t),de=K,Ui=z,cn(t),l&8192)t:for(n=t.stateNode,n._visibility=c?n._visibility&-2:n._visibility|1,c&&(a===null||D||Ui||de||pa(t)),a=null,n=t;;){if(n.tag===5||n.tag===26){if(a===null){D=a=n;try{if(f=D.stateNode,c)v=f.style,typeof v.setProperty=="function"?v.setProperty("display","none","important"):v.display="none";else{T=D.stateNode;var J=D.memoizedProps.style,j=J!=null&&J.hasOwnProperty("display")?J.display:null;T.style.display=j==null||typeof j=="boolean"?"":(""+j).trim()}}catch(F){Zt(D,D.return,F)}}}else if(n.tag===6){if(a===null){D=n;try{D.stateNode.nodeValue=c?"":D.memoizedProps}catch(F){Zt(D,D.return,F)}}}else if((n.tag!==22&&n.tag!==23||n.memoizedState===null||n===t)&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===t)break t;for(;n.sibling===null;){if(n.return===null||n.return===t)break t;a===n&&(a=null),n=n.return}a===n&&(a=null),n.sibling.return=n.return,n=n.sibling}l&4&&(l=t.updateQueue,l!==null&&(a=l.retryQueue,a!==null&&(l.retryQueue=null,ff(t,a))));break;case 19:un(n,t),cn(t),l&4&&(l=t.updateQueue,l!==null&&(t.updateQueue=null,ff(t,l)));break;case 30:break;case 21:break;default:un(n,t),cn(t)}}function cn(t){var n=t.flags;if(n&2){try{for(var a,l=t.return;l!==null;){if(Tg(l)){a=l;break}l=l.return}if(a==null)throw Error(s(160));switch(a.tag){case 27:var c=a.stateNode,f=uf(t);Cu(t,f,c);break;case 5:var v=a.stateNode;a.flags&32&&(gn(v,""),a.flags&=-33);var T=uf(t);Cu(t,T,v);break;case 3:case 4:var D=a.stateNode.containerInfo,z=uf(t);cf(t,z,D);break;default:throw Error(s(161))}}catch(K){Zt(t,t.return,K)}t.flags&=-3}n&4096&&(t.flags&=-4097)}function Ng(t){if(t.subtreeFlags&1024)for(t=t.child;t!==null;){var n=t;Ng(n),n.tag===5&&n.flags&1024&&n.stateNode.reset(),t=t.sibling}}function sr(t,n){if(n.subtreeFlags&8772)for(n=n.child;n!==null;)bg(t,n.alternate,n),n=n.sibling}function pa(t){for(t=t.child;t!==null;){var n=t;switch(n.tag){case 0:case 11:case 14:case 15:ar(4,n,n.return),pa(n);break;case 1:Wn(n,n.return);var a=n.stateNode;typeof a.componentWillUnmount=="function"&&vg(n,n.return,a),pa(n);break;case 27:jl(n.stateNode);case 26:case 5:Wn(n,n.return),pa(n);break;case 22:n.memoizedState===null&&pa(n);break;case 30:pa(n);break;default:pa(n)}t=t.sibling}}function lr(t,n,a){for(a=a&&(n.subtreeFlags&8772)!==0,n=n.child;n!==null;){var l=n.alternate,c=t,f=n,v=f.flags;switch(f.tag){case 0:case 11:case 15:lr(c,f,a),Ml(4,f);break;case 1:if(lr(c,f,a),l=f,c=l.stateNode,typeof c.componentDidMount=="function")try{c.componentDidMount()}catch(z){Zt(l,l.return,z)}if(l=f,c=l.updateQueue,c!==null){var T=l.stateNode;try{var D=c.shared.hiddenCallbacks;if(D!==null)for(c.shared.hiddenCallbacks=null,c=0;c<D.length;c++)rp(D[c],T)}catch(z){Zt(l,l.return,z)}}a&&v&64&&_g(f),xl(f,f.return);break;case 27:Ag(f);case 26:case 5:lr(c,f,a),a&&l===null&&v&4&&Eg(f),xl(f,f.return);break;case 12:lr(c,f,a);break;case 13:lr(c,f,a),a&&v&4&&Cg(c,f);break;case 22:f.memoizedState===null&&lr(c,f,a),xl(f,f.return);break;case 30:break;default:lr(c,f,a)}n=n.sibling}}function df(t,n){var a=null;t!==null&&t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(a=t.memoizedState.cachePool.pool),t=null,n.memoizedState!==null&&n.memoizedState.cachePool!==null&&(t=n.memoizedState.cachePool.pool),t!==a&&(t!=null&&t.refCount++,a!=null&&vl(a))}function mf(t,n){t=null,n.alternate!==null&&(t=n.alternate.memoizedState.cache),n=n.memoizedState.cache,n!==t&&(n.refCount++,t!=null&&vl(t))}function ti(t,n,a,l){if(n.subtreeFlags&10256)for(n=n.child;n!==null;)Ig(t,n,a,l),n=n.sibling}function Ig(t,n,a,l){var c=n.flags;switch(n.tag){case 0:case 11:case 15:ti(t,n,a,l),c&2048&&Ml(9,n);break;case 1:ti(t,n,a,l);break;case 3:ti(t,n,a,l),c&2048&&(t=null,n.alternate!==null&&(t=n.alternate.memoizedState.cache),n=n.memoizedState.cache,n!==t&&(n.refCount++,t!=null&&vl(t)));break;case 12:if(c&2048){ti(t,n,a,l),t=n.stateNode;try{var f=n.memoizedProps,v=f.id,T=f.onPostCommit;typeof T=="function"&&T(v,n.alternate===null?"mount":"update",t.passiveEffectDuration,-0)}catch(D){Zt(n,n.return,D)}}else ti(t,n,a,l);break;case 13:ti(t,n,a,l);break;case 23:break;case 22:f=n.stateNode,v=n.alternate,n.memoizedState!==null?f._visibility&2?ti(t,n,a,l):Ul(t,n):f._visibility&2?ti(t,n,a,l):(f._visibility|=2,cs(t,n,a,l,(n.subtreeFlags&10256)!==0)),c&2048&&df(v,n);break;case 24:ti(t,n,a,l),c&2048&&mf(n.alternate,n);break;default:ti(t,n,a,l)}}function cs(t,n,a,l,c){for(c=c&&(n.subtreeFlags&10256)!==0,n=n.child;n!==null;){var f=t,v=n,T=a,D=l,z=v.flags;switch(v.tag){case 0:case 11:case 15:cs(f,v,T,D,c),Ml(8,v);break;case 23:break;case 22:var K=v.stateNode;v.memoizedState!==null?K._visibility&2?cs(f,v,T,D,c):Ul(f,v):(K._visibility|=2,cs(f,v,T,D,c)),c&&z&2048&&df(v.alternate,v);break;case 24:cs(f,v,T,D,c),c&&z&2048&&mf(v.alternate,v);break;default:cs(f,v,T,D,c)}n=n.sibling}}function Ul(t,n){if(n.subtreeFlags&10256)for(n=n.child;n!==null;){var a=t,l=n,c=l.flags;switch(l.tag){case 22:Ul(a,l),c&2048&&df(l.alternate,l);break;case 24:Ul(a,l),c&2048&&mf(l.alternate,l);break;default:Ul(a,l)}n=n.sibling}}var Ll=8192;function hs(t){if(t.subtreeFlags&Ll)for(t=t.child;t!==null;)Vg(t),t=t.sibling}function Vg(t){switch(t.tag){case 26:hs(t),t.flags&Ll&&t.memoizedState!==null&&QT(Mn,t.memoizedState,t.memoizedProps);break;case 5:hs(t);break;case 3:case 4:var n=Mn;Mn=Bu(t.stateNode.containerInfo),hs(t),Mn=n;break;case 22:t.memoizedState===null&&(n=t.alternate,n!==null&&n.memoizedState!==null?(n=Ll,Ll=16777216,hs(t),Ll=n):hs(t));break;default:hs(t)}}function Og(t){var n=t.alternate;if(n!==null&&(t=n.child,t!==null)){n.child=null;do n=t.sibling,t.sibling=null,t=n;while(t!==null)}}function Pl(t){var n=t.deletions;if((t.flags&16)!==0){if(n!==null)for(var a=0;a<n.length;a++){var l=n[a];Oe=l,xg(l,t)}Og(t)}if(t.subtreeFlags&10256)for(t=t.child;t!==null;)Mg(t),t=t.sibling}function Mg(t){switch(t.tag){case 0:case 11:case 15:Pl(t),t.flags&2048&&ar(9,t,t.return);break;case 3:Pl(t);break;case 12:Pl(t);break;case 22:var n=t.stateNode;t.memoizedState!==null&&n._visibility&2&&(t.return===null||t.return.tag!==13)?(n._visibility&=-3,Du(t)):Pl(t);break;default:Pl(t)}}function Du(t){var n=t.deletions;if((t.flags&16)!==0){if(n!==null)for(var a=0;a<n.length;a++){var l=n[a];Oe=l,xg(l,t)}Og(t)}for(t=t.child;t!==null;){switch(n=t,n.tag){case 0:case 11:case 15:ar(8,n,n.return),Du(n);break;case 22:a=n.stateNode,a._visibility&2&&(a._visibility&=-3,Du(n));break;default:Du(n)}t=t.sibling}}function xg(t,n){for(;Oe!==null;){var a=Oe;switch(a.tag){case 0:case 11:case 15:ar(8,a,n);break;case 23:case 22:if(a.memoizedState!==null&&a.memoizedState.cachePool!==null){var l=a.memoizedState.cachePool.pool;l!=null&&l.refCount++}break;case 24:vl(a.memoizedState.cache)}if(l=a.child,l!==null)l.return=a,Oe=l;else t:for(a=t;Oe!==null;){l=Oe;var c=l.sibling,f=l.return;if(Rg(l),l===a){Oe=null;break t}if(c!==null){c.return=f,Oe=c;break t}Oe=f}}}var oT={getCacheForType:function(t){var n=Ge(be),a=n.data.get(t);return a===void 0&&(a=t(),n.data.set(t,a)),a}},uT=typeof WeakMap=="function"?WeakMap:Map,Gt=0,te=null,It=null,Lt=0,Qt=0,hn=null,or=!1,fs=!1,pf=!1,Pi=0,ce=0,ur=0,ga=0,gf=0,Rn=0,ds=0,kl=null,nn=null,yf=!1,_f=0,Nu=1/0,Iu=null,cr=null,ze=0,hr=null,ms=null,ps=0,vf=0,Ef=null,Ug=null,zl=0,Tf=null;function fn(){if((Gt&2)!==0&&Lt!==0)return Lt&-Lt;if(Y.T!==null){var t=ns;return t!==0?t:Df()}return Qi()}function Lg(){Rn===0&&(Rn=(Lt&536870912)===0||Bt?Ks():536870912);var t=bn.current;return t!==null&&(t.flags|=32),Rn}function dn(t,n,a){(t===te&&(Qt===2||Qt===9)||t.cancelPendingCommit!==null)&&(gs(t,0),fr(t,Lt,Rn,!1)),pi(t,a),((Gt&2)===0||t!==te)&&(t===te&&((Gt&2)===0&&(ga|=a),ce===4&&fr(t,Lt,Rn,!1)),ei(t))}function Pg(t,n,a){if((Gt&6)!==0)throw Error(s(327));var l=!a&&(n&124)===0&&(n&t.expiredLanes)===0||Hr(t,n),c=l?fT(t,n):bf(t,n,!0),f=l;do{if(c===0){fs&&!l&&fr(t,n,0,!1);break}else{if(a=t.current.alternate,f&&!cT(a)){c=bf(t,n,!1),f=!1;continue}if(c===2){if(f=n,t.errorRecoveryDisabledLanes&f)var v=0;else v=t.pendingLanes&-536870913,v=v!==0?v:v&536870912?536870912:0;if(v!==0){n=v;t:{var T=t;c=kl;var D=T.current.memoizedState.isDehydrated;if(D&&(gs(T,v).flags|=256),v=bf(T,v,!1),v!==2){if(pf&&!D){T.errorRecoveryDisabledLanes|=f,ga|=f,c=4;break t}f=nn,nn=c,f!==null&&(nn===null?nn=f:nn.push.apply(nn,f))}c=v}if(f=!1,c!==2)continue}}if(c===1){gs(t,0),fr(t,n,0,!0);break}t:{switch(l=t,f=c,f){case 0:case 1:throw Error(s(345));case 4:if((n&4194048)!==n)break;case 6:fr(l,n,Rn,!or);break t;case 2:nn=null;break;case 3:case 5:break;default:throw Error(s(329))}if((n&62914560)===n&&(c=_f+300-mn(),10<c)){if(fr(l,n,Rn,!or),Ma(l,0,!0)!==0)break t;l.timeoutHandle=fy(kg.bind(null,l,a,nn,Iu,yf,n,Rn,ga,ds,or,f,2,-0,0),c);break t}kg(l,a,nn,Iu,yf,n,Rn,ga,ds,or,f,0,-0,0)}}break}while(!0);ei(t)}function kg(t,n,a,l,c,f,v,T,D,z,K,J,j,F){if(t.timeoutHandle=-1,J=n.subtreeFlags,(J&8192||(J&16785408)===16785408)&&(Ql={stylesheets:null,count:0,unsuspend:GT},Vg(n),J=YT(),J!==null)){t.cancelPendingCommit=J(Gg.bind(null,t,n,f,a,l,c,v,T,D,K,1,j,F)),fr(t,f,v,!z);return}Gg(t,n,f,a,l,c,v,T,D)}function cT(t){for(var n=t;;){var a=n.tag;if((a===0||a===11||a===15)&&n.flags&16384&&(a=n.updateQueue,a!==null&&(a=a.stores,a!==null)))for(var l=0;l<a.length;l++){var c=a[l],f=c.getSnapshot;c=c.value;try{if(!ln(f(),c))return!1}catch{return!1}}if(a=n.child,n.subtreeFlags&16384&&a!==null)a.return=n,n=a;else{if(n===t)break;for(;n.sibling===null;){if(n.return===null||n.return===t)return!0;n=n.return}n.sibling.return=n.return,n=n.sibling}}return!0}function fr(t,n,a,l){n&=~gf,n&=~ga,t.suspendedLanes|=n,t.pingedLanes&=~n,l&&(t.warmLanes|=n),l=t.expirationTimes;for(var c=n;0<c;){var f=31-Fe(c),v=1<<f;l[f]=-1,c&=~v}a!==0&&Bn(t,a,n)}function Vu(){return(Gt&6)===0?(Bl(0),!1):!0}function Af(){if(It!==null){if(Qt===0)var t=It.return;else t=It,Ni=ca=null,kh(t),os=null,Il=0,t=It;for(;t!==null;)yg(t.alternate,t),t=t.return;It=null}}function gs(t,n){var a=t.timeoutHandle;a!==-1&&(t.timeoutHandle=-1,DT(a)),a=t.cancelPendingCommit,a!==null&&(t.cancelPendingCommit=null,a()),Af(),te=t,It=a=wi(t.current,null),Lt=n,Qt=0,hn=null,or=!1,fs=Hr(t,n),pf=!1,ds=Rn=gf=ga=ur=ce=0,nn=kl=null,yf=!1,(n&8)!==0&&(n|=n&32);var l=t.entangledLanes;if(l!==0)for(t=t.entanglements,l&=n;0<l;){var c=31-Fe(l),f=1<<c;n|=t[c],l&=~f}return Pi=n,Wo(),a}function zg(t,n){Ct=null,Y.H=_u,n===Tl||n===ou?(n=np(),Qt=3):n===Wm?(n=np(),Qt=4):Qt=n===ig?8:n!==null&&typeof n=="object"&&typeof n.then=="function"?6:1,hn=n,It===null&&(ce=1,Su(t,En(n,t.current)))}function Bg(){var t=Y.H;return Y.H=_u,t===null?_u:t}function qg(){var t=Y.A;return Y.A=oT,t}function Sf(){ce=4,or||(Lt&4194048)!==Lt&&bn.current!==null||(fs=!0),(ur&134217727)===0&&(ga&134217727)===0||te===null||fr(te,Lt,Rn,!1)}function bf(t,n,a){var l=Gt;Gt|=2;var c=Bg(),f=qg();(te!==t||Lt!==n)&&(Iu=null,gs(t,n)),n=!1;var v=ce;t:do try{if(Qt!==0&&It!==null){var T=It,D=hn;switch(Qt){case 8:Af(),v=6;break t;case 3:case 2:case 9:case 6:bn.current===null&&(n=!0);var z=Qt;if(Qt=0,hn=null,ys(t,T,D,z),a&&fs){v=0;break t}break;default:z=Qt,Qt=0,hn=null,ys(t,T,D,z)}}hT(),v=ce;break}catch(K){zg(t,K)}while(!0);return n&&t.shellSuspendCounter++,Ni=ca=null,Gt=l,Y.H=c,Y.A=f,It===null&&(te=null,Lt=0,Wo()),v}function hT(){for(;It!==null;)Hg(It)}function fT(t,n){var a=Gt;Gt|=2;var l=Bg(),c=qg();te!==t||Lt!==n?(Iu=null,Nu=mn()+500,gs(t,n)):fs=Hr(t,n);t:do try{if(Qt!==0&&It!==null){n=It;var f=hn;e:switch(Qt){case 1:Qt=0,hn=null,ys(t,n,f,1);break;case 2:case 9:if(tp(f)){Qt=0,hn=null,jg(n);break}n=function(){Qt!==2&&Qt!==9||te!==t||(Qt=7),ei(t)},f.then(n,n);break t;case 3:Qt=7;break t;case 4:Qt=5;break t;case 7:tp(f)?(Qt=0,hn=null,jg(n)):(Qt=0,hn=null,ys(t,n,f,7));break;case 5:var v=null;switch(It.tag){case 26:v=It.memoizedState;case 5:case 27:var T=It;if(!v||by(v)){Qt=0,hn=null;var D=T.sibling;if(D!==null)It=D;else{var z=T.return;z!==null?(It=z,Ou(z)):It=null}break e}}Qt=0,hn=null,ys(t,n,f,5);break;case 6:Qt=0,hn=null,ys(t,n,f,6);break;case 8:Af(),ce=6;break t;default:throw Error(s(462))}}dT();break}catch(K){zg(t,K)}while(!0);return Ni=ca=null,Y.H=l,Y.A=c,Gt=a,It!==null?0:(te=null,Lt=0,Wo(),ce)}function dT(){for(;It!==null&&!Fs();)Hg(It)}function Hg(t){var n=pg(t.alternate,t,Pi);t.memoizedProps=t.pendingProps,n===null?Ou(t):It=n}function jg(t){var n=t,a=n.alternate;switch(n.tag){case 15:case 0:n=ug(a,n,n.pendingProps,n.type,void 0,Lt);break;case 11:n=ug(a,n,n.pendingProps,n.type.render,n.ref,Lt);break;case 5:kh(n);default:yg(a,n),n=It=Fm(n,Pi),n=pg(a,n,Pi)}t.memoizedProps=t.pendingProps,n===null?Ou(t):It=n}function ys(t,n,a,l){Ni=ca=null,kh(n),os=null,Il=0;var c=n.return;try{if(nT(t,c,n,a,Lt)){ce=1,Su(t,En(a,t.current)),It=null;return}}catch(f){if(c!==null)throw It=c,f;ce=1,Su(t,En(a,t.current)),It=null;return}n.flags&32768?(Bt||l===1?t=!0:fs||(Lt&536870912)!==0?t=!1:(or=t=!0,(l===2||l===9||l===3||l===6)&&(l=bn.current,l!==null&&l.tag===13&&(l.flags|=16384))),Fg(n,t)):Ou(n)}function Ou(t){var n=t;do{if((n.flags&32768)!==0){Fg(n,or);return}t=n.return;var a=rT(n.alternate,n,Pi);if(a!==null){It=a;return}if(n=n.sibling,n!==null){It=n;return}It=n=t}while(n!==null);ce===0&&(ce=5)}function Fg(t,n){do{var a=aT(t.alternate,t);if(a!==null){a.flags&=32767,It=a;return}if(a=t.return,a!==null&&(a.flags|=32768,a.subtreeFlags=0,a.deletions=null),!n&&(t=t.sibling,t!==null)){It=t;return}It=t=a}while(t!==null);ce=6,It=null}function Gg(t,n,a,l,c,f,v,T,D){t.cancelPendingCommit=null;do Mu();while(ze!==0);if((Gt&6)!==0)throw Error(s(327));if(n!==null){if(n===t.current)throw Error(s(177));if(f=n.lanes|n.childLanes,f|=dh,$s(t,a,f,v,T,D),t===te&&(It=te=null,Lt=0),ms=n,hr=t,ps=a,vf=f,Ef=c,Ug=l,(n.subtreeFlags&10256)!==0||(n.flags&10256)!==0?(t.callbackNode=null,t.callbackPriority=0,yT(kr,function(){return $g(),null})):(t.callbackNode=null,t.callbackPriority=0),l=(n.flags&13878)!==0,(n.subtreeFlags&13878)!==0||l){l=Y.T,Y.T=null,c=lt.p,lt.p=2,v=Gt,Gt|=4;try{sT(t,n,a)}finally{Gt=v,lt.p=c,Y.T=l}}ze=1,Qg(),Yg(),Kg()}}function Qg(){if(ze===1){ze=0;var t=hr,n=ms,a=(n.flags&13878)!==0;if((n.subtreeFlags&13878)!==0||a){a=Y.T,Y.T=null;var l=lt.p;lt.p=2;var c=Gt;Gt|=4;try{Dg(n,t);var f=Lf,v=xm(t.containerInfo),T=f.focusedElem,D=f.selectionRange;if(v!==T&&T&&T.ownerDocument&&Mm(T.ownerDocument.documentElement,T)){if(D!==null&&oh(T)){var z=D.start,K=D.end;if(K===void 0&&(K=z),"selectionStart"in T)T.selectionStart=z,T.selectionEnd=Math.min(K,T.value.length);else{var J=T.ownerDocument||document,j=J&&J.defaultView||window;if(j.getSelection){var F=j.getSelection(),Tt=T.textContent.length,_t=Math.min(D.start,Tt),$t=D.end===void 0?_t:Math.min(D.end,Tt);!F.extend&&_t>$t&&(v=$t,$t=_t,_t=v);var U=Om(T,_t),V=Om(T,$t);if(U&&V&&(F.rangeCount!==1||F.anchorNode!==U.node||F.anchorOffset!==U.offset||F.focusNode!==V.node||F.focusOffset!==V.offset)){var k=J.createRange();k.setStart(U.node,U.offset),F.removeAllRanges(),_t>$t?(F.addRange(k),F.extend(V.node,V.offset)):(k.setEnd(V.node,V.offset),F.addRange(k))}}}}for(J=[],F=T;F=F.parentNode;)F.nodeType===1&&J.push({element:F,left:F.scrollLeft,top:F.scrollTop});for(typeof T.focus=="function"&&T.focus(),T=0;T<J.length;T++){var X=J[T];X.element.scrollLeft=X.left,X.element.scrollTop=X.top}}Gu=!!Uf,Lf=Uf=null}finally{Gt=c,lt.p=l,Y.T=a}}t.current=n,ze=2}}function Yg(){if(ze===2){ze=0;var t=hr,n=ms,a=(n.flags&8772)!==0;if((n.subtreeFlags&8772)!==0||a){a=Y.T,Y.T=null;var l=lt.p;lt.p=2;var c=Gt;Gt|=4;try{bg(t,n.alternate,n)}finally{Gt=c,lt.p=l,Y.T=a}}ze=3}}function Kg(){if(ze===4||ze===3){ze=0,Do();var t=hr,n=ms,a=ps,l=Ug;(n.subtreeFlags&10256)!==0||(n.flags&10256)!==0?ze=5:(ze=0,ms=hr=null,Xg(t,t.pendingLanes));var c=t.pendingLanes;if(c===0&&(cr=null),xa(a),n=n.stateNode,Ft&&typeof Ft.onCommitFiberRoot=="function")try{Ft.onCommitFiberRoot(oe,n,void 0,(n.current.flags&128)===128)}catch{}if(l!==null){n=Y.T,c=lt.p,lt.p=2,Y.T=null;try{for(var f=t.onRecoverableError,v=0;v<l.length;v++){var T=l[v];f(T.value,{componentStack:T.stack})}}finally{Y.T=n,lt.p=c}}(ps&3)!==0&&Mu(),ei(t),c=t.pendingLanes,(a&4194090)!==0&&(c&42)!==0?t===Tf?zl++:(zl=0,Tf=t):zl=0,Bl(0)}}function Xg(t,n){(t.pooledCacheLanes&=n)===0&&(n=t.pooledCache,n!=null&&(t.pooledCache=null,vl(n)))}function Mu(t){return Qg(),Yg(),Kg(),$g()}function $g(){if(ze!==5)return!1;var t=hr,n=vf;vf=0;var a=xa(ps),l=Y.T,c=lt.p;try{lt.p=32>a?32:a,Y.T=null,a=Ef,Ef=null;var f=hr,v=ps;if(ze=0,ms=hr=null,ps=0,(Gt&6)!==0)throw Error(s(331));var T=Gt;if(Gt|=4,Mg(f.current),Ig(f,f.current,v,a),Gt=T,Bl(0,!1),Ft&&typeof Ft.onPostCommitFiberRoot=="function")try{Ft.onPostCommitFiberRoot(oe,f)}catch{}return!0}finally{lt.p=c,Y.T=l,Xg(t,n)}}function Zg(t,n,a){n=En(a,n),n=Jh(t.stateNode,n,2),t=er(t,n,2),t!==null&&(pi(t,2),ei(t))}function Zt(t,n,a){if(t.tag===3)Zg(t,t,a);else for(;n!==null;){if(n.tag===3){Zg(n,t,a);break}else if(n.tag===1){var l=n.stateNode;if(typeof n.type.getDerivedStateFromError=="function"||typeof l.componentDidCatch=="function"&&(cr===null||!cr.has(l))){t=En(a,t),a=eg(2),l=er(n,a,2),l!==null&&(ng(a,l,n,t),pi(l,2),ei(l));break}}n=n.return}}function Rf(t,n,a){var l=t.pingCache;if(l===null){l=t.pingCache=new uT;var c=new Set;l.set(n,c)}else c=l.get(n),c===void 0&&(c=new Set,l.set(n,c));c.has(a)||(pf=!0,c.add(a),t=mT.bind(null,t,n,a),n.then(t,t))}function mT(t,n,a){var l=t.pingCache;l!==null&&l.delete(n),t.pingedLanes|=t.suspendedLanes&a,t.warmLanes&=~a,te===t&&(Lt&a)===a&&(ce===4||ce===3&&(Lt&62914560)===Lt&&300>mn()-_f?(Gt&2)===0&&gs(t,0):gf|=a,ds===Lt&&(ds=0)),ei(t)}function Jg(t,n){n===0&&(n=Xs()),t=Ja(t,n),t!==null&&(pi(t,n),ei(t))}function pT(t){var n=t.memoizedState,a=0;n!==null&&(a=n.retryLane),Jg(t,a)}function gT(t,n){var a=0;switch(t.tag){case 13:var l=t.stateNode,c=t.memoizedState;c!==null&&(a=c.retryLane);break;case 19:l=t.stateNode;break;case 22:l=t.stateNode._retryCache;break;default:throw Error(s(314))}l!==null&&l.delete(n),Jg(t,a)}function yT(t,n){return Lr(t,n)}var xu=null,_s=null,wf=!1,Uu=!1,Cf=!1,ya=0;function ei(t){t!==_s&&t.next===null&&(_s===null?xu=_s=t:_s=_s.next=t),Uu=!0,wf||(wf=!0,vT())}function Bl(t,n){if(!Cf&&Uu){Cf=!0;do for(var a=!1,l=xu;l!==null;){if(t!==0){var c=l.pendingLanes;if(c===0)var f=0;else{var v=l.suspendedLanes,T=l.pingedLanes;f=(1<<31-Fe(42|t)+1)-1,f&=c&~(v&~T),f=f&201326741?f&201326741|1:f?f|2:0}f!==0&&(a=!0,ny(l,f))}else f=Lt,f=Ma(l,l===te?f:0,l.cancelPendingCommit!==null||l.timeoutHandle!==-1),(f&3)===0||Hr(l,f)||(a=!0,ny(l,f));l=l.next}while(a);Cf=!1}}function _T(){Wg()}function Wg(){Uu=wf=!1;var t=0;ya!==0&&(CT()&&(t=ya),ya=0);for(var n=mn(),a=null,l=xu;l!==null;){var c=l.next,f=ty(l,n);f===0?(l.next=null,a===null?xu=c:a.next=c,c===null&&(_s=a)):(a=l,(t!==0||(f&3)!==0)&&(Uu=!0)),l=c}Bl(t)}function ty(t,n){for(var a=t.suspendedLanes,l=t.pingedLanes,c=t.expirationTimes,f=t.pendingLanes&-62914561;0<f;){var v=31-Fe(f),T=1<<v,D=c[v];D===-1?((T&a)===0||(T&l)!==0)&&(c[v]=Ys(T,n)):D<=n&&(t.expiredLanes|=T),f&=~T}if(n=te,a=Lt,a=Ma(t,t===n?a:0,t.cancelPendingCommit!==null||t.timeoutHandle!==-1),l=t.callbackNode,a===0||t===n&&(Qt===2||Qt===9)||t.cancelPendingCommit!==null)return l!==null&&l!==null&&Pr(l),t.callbackNode=null,t.callbackPriority=0;if((a&3)===0||Hr(t,a)){if(n=a&-a,n===t.callbackPriority)return n;switch(l!==null&&Pr(l),xa(a)){case 2:case 8:a=Va;break;case 32:a=kr;break;case 268435456:a=Oa;break;default:a=kr}return l=ey.bind(null,t),a=Lr(a,l),t.callbackPriority=n,t.callbackNode=a,n}return l!==null&&l!==null&&Pr(l),t.callbackPriority=2,t.callbackNode=null,2}function ey(t,n){if(ze!==0&&ze!==5)return t.callbackNode=null,t.callbackPriority=0,null;var a=t.callbackNode;if(Mu()&&t.callbackNode!==a)return null;var l=Lt;return l=Ma(t,t===te?l:0,t.cancelPendingCommit!==null||t.timeoutHandle!==-1),l===0?null:(Pg(t,l,n),ty(t,mn()),t.callbackNode!=null&&t.callbackNode===a?ey.bind(null,t):null)}function ny(t,n){if(Mu())return null;Pg(t,n,!0)}function vT(){NT(function(){(Gt&6)!==0?Lr(Gs,_T):Wg()})}function Df(){return ya===0&&(ya=Ks()),ya}function iy(t){return t==null||typeof t=="symbol"||typeof t=="boolean"?null:typeof t=="function"?t:Ba(""+t)}function ry(t,n){var a=n.ownerDocument.createElement("input");return a.name=n.name,a.value=n.value,t.id&&a.setAttribute("form",t.id),n.parentNode.insertBefore(a,n),t=new FormData(t),a.parentNode.removeChild(a),t}function ET(t,n,a,l,c){if(n==="submit"&&a&&a.stateNode===c){var f=iy((c[pe]||null).action),v=l.submitter;v&&(n=(n=v[pe]||null)?iy(n.formAction):v.getAttribute("formAction"),n!==null&&(f=n,v=null));var T=new qa("action","action",null,l,c);t.push({event:T,listeners:[{instance:null,listener:function(){if(l.defaultPrevented){if(ya!==0){var D=v?ry(c,v):new FormData(c);Yh(a,{pending:!0,data:D,method:c.method,action:f},null,D)}}else typeof f=="function"&&(T.preventDefault(),D=v?ry(c,v):new FormData(c),Yh(a,{pending:!0,data:D,method:c.method,action:f},f,D))},currentTarget:c}]})}}for(var Nf=0;Nf<fh.length;Nf++){var If=fh[Nf],TT=If.toLowerCase(),AT=If[0].toUpperCase()+If.slice(1);On(TT,"on"+AT)}On(Pm,"onAnimationEnd"),On(km,"onAnimationIteration"),On(zm,"onAnimationStart"),On("dblclick","onDoubleClick"),On("focusin","onFocus"),On("focusout","onBlur"),On(z0,"onTransitionRun"),On(B0,"onTransitionStart"),On(q0,"onTransitionCancel"),On(Bm,"onTransitionEnd"),yi("onMouseEnter",["mouseout","mouseover"]),yi("onMouseLeave",["mouseout","mouseover"]),yi("onPointerEnter",["pointerout","pointerover"]),yi("onPointerLeave",["pointerout","pointerover"]),In("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),In("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),In("onBeforeInput",["compositionend","keypress","textInput","paste"]),In("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),In("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),In("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var ql="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),ST=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(ql));function ay(t,n){n=(n&4)!==0;for(var a=0;a<t.length;a++){var l=t[a],c=l.event;l=l.listeners;t:{var f=void 0;if(n)for(var v=l.length-1;0<=v;v--){var T=l[v],D=T.instance,z=T.currentTarget;if(T=T.listener,D!==f&&c.isPropagationStopped())break t;f=T,c.currentTarget=z;try{f(c)}catch(K){Au(K)}c.currentTarget=null,f=D}else for(v=0;v<l.length;v++){if(T=l[v],D=T.instance,z=T.currentTarget,T=T.listener,D!==f&&c.isPropagationStopped())break t;f=T,c.currentTarget=z;try{f(c)}catch(K){Au(K)}c.currentTarget=null,f=D}}}}function Vt(t,n){var a=n[Js];a===void 0&&(a=n[Js]=new Set);var l=t+"__bubble";a.has(l)||(sy(n,t,2,!1),a.add(l))}function Vf(t,n,a){var l=0;n&&(l|=4),sy(a,t,l,n)}var Lu="_reactListening"+Math.random().toString(36).slice(2);function Of(t){if(!t[Lu]){t[Lu]=!0,Ws.forEach(function(a){a!=="selectionchange"&&(ST.has(a)||Vf(a,!1,t),Vf(a,!0,t))});var n=t.nodeType===9?t:t.ownerDocument;n===null||n[Lu]||(n[Lu]=!0,Vf("selectionchange",!1,n))}}function sy(t,n,a,l){switch(Iy(n)){case 2:var c=$T;break;case 8:c=ZT;break;default:c=Qf}a=c.bind(null,n,a,t),c=void 0,!_n||n!=="touchstart"&&n!=="touchmove"&&n!=="wheel"||(c=!0),l?c!==void 0?t.addEventListener(n,a,{capture:!0,passive:c}):t.addEventListener(n,a,!0):c!==void 0?t.addEventListener(n,a,{passive:c}):t.addEventListener(n,a,!1)}function Mf(t,n,a,l,c){var f=l;if((n&1)===0&&(n&2)===0&&l!==null)t:for(;;){if(l===null)return;var v=l.tag;if(v===3||v===4){var T=l.stateNode.containerInfo;if(T===c)break;if(v===4)for(v=l.return;v!==null;){var D=v.tag;if((D===3||D===4)&&v.stateNode.containerInfo===c)return;v=v.return}for(;T!==null;){if(v=gi(T),v===null)return;if(D=v.tag,D===5||D===6||D===26||D===27){l=f=v;continue t}T=T.parentNode}}l=l.return}ko(function(){var z=f,K=yn(a),J=[];t:{var j=qm.get(t);if(j!==void 0){var F=qa,Tt=t;switch(t){case"keypress":if(Qn(a)===0)break t;case"keydown":case"keyup":F=Ya;break;case"focusin":Tt="focus",F=Fa;break;case"focusout":Tt="blur",F=Fa;break;case"beforeblur":case"afterblur":F=Fa;break;case"click":if(a.button===2)break t;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":F=vn;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":F=rh;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":F=Qo;break;case Pm:case km:case zm:F=Ga;break;case Bm:F=Ko;break;case"scroll":case"scrollend":F=zo;break;case"wheel":F=Ka;break;case"copy":case"cut":case"paste":F=Qa;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":F=hl;break;case"toggle":case"beforetoggle":F=$o}var _t=(n&4)!==0,$t=!_t&&(t==="scroll"||t==="scrollend"),U=_t?j!==null?j+"Capture":null:j;_t=[];for(var V=z,k;V!==null;){var X=V;if(k=X.stateNode,X=X.tag,X!==5&&X!==26&&X!==27||k===null||U===null||(X=$r(V,U),X!=null&&_t.push(Hl(V,X,k))),$t)break;V=V.return}0<_t.length&&(j=new F(j,Tt,null,a,K),J.push({event:j,listeners:_t}))}}if((n&7)===0){t:{if(j=t==="mouseover"||t==="pointerover",F=t==="mouseout"||t==="pointerout",j&&a!==Ei&&(Tt=a.relatedTarget||a.fromElement)&&(gi(Tt)||Tt[pn]))break t;if((F||j)&&(j=K.window===K?K:(j=K.ownerDocument)?j.defaultView||j.parentWindow:window,F?(Tt=a.relatedTarget||a.toElement,F=z,Tt=Tt?gi(Tt):null,Tt!==null&&($t=h(Tt),_t=Tt.tag,Tt!==$t||_t!==5&&_t!==27&&_t!==6)&&(Tt=null)):(F=null,Tt=z),F!==Tt)){if(_t=vn,X="onMouseLeave",U="onMouseEnter",V="mouse",(t==="pointerout"||t==="pointerover")&&(_t=hl,X="onPointerLeave",U="onPointerEnter",V="pointer"),$t=F==null?j:Hn(F),k=Tt==null?j:Hn(Tt),j=new _t(X,V+"leave",F,a,K),j.target=$t,j.relatedTarget=k,X=null,gi(K)===z&&(_t=new _t(U,V+"enter",Tt,a,K),_t.target=k,_t.relatedTarget=$t,X=_t),$t=X,F&&Tt)e:{for(_t=F,U=Tt,V=0,k=_t;k;k=vs(k))V++;for(k=0,X=U;X;X=vs(X))k++;for(;0<V-k;)_t=vs(_t),V--;for(;0<k-V;)U=vs(U),k--;for(;V--;){if(_t===U||U!==null&&_t===U.alternate)break e;_t=vs(_t),U=vs(U)}_t=null}else _t=null;F!==null&&ly(J,j,F,_t,!1),Tt!==null&&$t!==null&&ly(J,$t,Tt,_t,!0)}}t:{if(j=z?Hn(z):window,F=j.nodeName&&j.nodeName.toLowerCase(),F==="select"||F==="input"&&j.type==="file")var ct=wm;else if(Se(j))if(Cm)ct=L0;else{ct=x0;var Nt=M0}else F=j.nodeName,!F||F.toLowerCase()!=="input"||j.type!=="checkbox"&&j.type!=="radio"?z&&rl(z.elementType)&&(ct=wm):ct=U0;if(ct&&(ct=ct(t,z))){Ri(J,ct,a,K);break t}Nt&&Nt(t,j,z),t==="focusout"&&z&&j.type==="number"&&z.memoizedProps.value!=null&&$i(j,"number",j.value)}switch(Nt=z?Hn(z):window,t){case"focusin":(Se(Nt)||Nt.contentEditable==="true")&&(Xa=Nt,uh=z,ml=null);break;case"focusout":ml=uh=Xa=null;break;case"mousedown":ch=!0;break;case"contextmenu":case"mouseup":case"dragend":ch=!1,Um(J,a,K);break;case"selectionchange":if(k0)break;case"keydown":case"keyup":Um(J,a,K)}var gt;if(Xn)t:{switch(t){case"compositionstart":var vt="onCompositionStart";break t;case"compositionend":vt="onCompositionEnd";break t;case"compositionupdate":vt="onCompositionUpdate";break t}vt=void 0}else xt?Q(t,a)&&(vt="onCompositionEnd"):t==="keydown"&&a.keyCode===229&&(vt="onCompositionStart");vt&&(_&&a.locale!=="ko"&&(xt||vt!=="onCompositionStart"?vt==="onCompositionEnd"&&xt&&(gt=sl()):(Gn=K,Zi="value"in Gn?Gn.value:Gn.textContent,xt=!0)),Nt=Pu(z,vt),0<Nt.length&&(vt=new ul(vt,t,null,a,K),J.push({event:vt,listeners:Nt}),gt?vt.data=gt:(gt=st(a),gt!==null&&(vt.data=gt)))),(gt=m?Ae(t,a):Ut(t,a))&&(vt=Pu(z,"onBeforeInput"),0<vt.length&&(Nt=new ul("onBeforeInput","beforeinput",null,a,K),J.push({event:Nt,listeners:vt}),Nt.data=gt)),ET(J,t,z,a,K)}ay(J,n)})}function Hl(t,n,a){return{instance:t,listener:n,currentTarget:a}}function Pu(t,n){for(var a=n+"Capture",l=[];t!==null;){var c=t,f=c.stateNode;if(c=c.tag,c!==5&&c!==26&&c!==27||f===null||(c=$r(t,a),c!=null&&l.unshift(Hl(t,c,f)),c=$r(t,n),c!=null&&l.push(Hl(t,c,f))),t.tag===3)return l;t=t.return}return[]}function vs(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5&&t.tag!==27);return t||null}function ly(t,n,a,l,c){for(var f=n._reactName,v=[];a!==null&&a!==l;){var T=a,D=T.alternate,z=T.stateNode;if(T=T.tag,D!==null&&D===l)break;T!==5&&T!==26&&T!==27||z===null||(D=z,c?(z=$r(a,f),z!=null&&v.unshift(Hl(a,z,D))):c||(z=$r(a,f),z!=null&&v.push(Hl(a,z,D)))),a=a.return}v.length!==0&&t.push({event:n,listeners:v})}var bT=/\r\n?/g,RT=/\u0000|\uFFFD/g;function oy(t){return(typeof t=="string"?t:""+t).replace(bT,`
`).replace(RT,"")}function uy(t,n){return n=oy(n),oy(t)===n}function ku(){}function Xt(t,n,a,l,c,f){switch(a){case"children":typeof l=="string"?n==="body"||n==="textarea"&&l===""||gn(t,l):(typeof l=="number"||typeof l=="bigint")&&n!=="body"&&gn(t,""+l);break;case"className":jn(t,"class",l);break;case"tabIndex":jn(t,"tabindex",l);break;case"dir":case"role":case"viewBox":case"width":case"height":jn(t,a,l);break;case"style":il(t,l,f);break;case"data":if(n!=="object"){jn(t,"data",l);break}case"src":case"href":if(l===""&&(n!=="a"||a!=="href")){t.removeAttribute(a);break}if(l==null||typeof l=="function"||typeof l=="symbol"||typeof l=="boolean"){t.removeAttribute(a);break}l=Ba(""+l),t.setAttribute(a,l);break;case"action":case"formAction":if(typeof l=="function"){t.setAttribute(a,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof f=="function"&&(a==="formAction"?(n!=="input"&&Xt(t,n,"name",c.name,c,null),Xt(t,n,"formEncType",c.formEncType,c,null),Xt(t,n,"formMethod",c.formMethod,c,null),Xt(t,n,"formTarget",c.formTarget,c,null)):(Xt(t,n,"encType",c.encType,c,null),Xt(t,n,"method",c.method,c,null),Xt(t,n,"target",c.target,c,null)));if(l==null||typeof l=="symbol"||typeof l=="boolean"){t.removeAttribute(a);break}l=Ba(""+l),t.setAttribute(a,l);break;case"onClick":l!=null&&(t.onclick=ku);break;case"onScroll":l!=null&&Vt("scroll",t);break;case"onScrollEnd":l!=null&&Vt("scrollend",t);break;case"dangerouslySetInnerHTML":if(l!=null){if(typeof l!="object"||!("__html"in l))throw Error(s(61));if(a=l.__html,a!=null){if(c.children!=null)throw Error(s(60));t.innerHTML=a}}break;case"multiple":t.multiple=l&&typeof l!="function"&&typeof l!="symbol";break;case"muted":t.muted=l&&typeof l!="function"&&typeof l!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(l==null||typeof l=="function"||typeof l=="boolean"||typeof l=="symbol"){t.removeAttribute("xlink:href");break}a=Ba(""+l),t.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",a);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":l!=null&&typeof l!="function"&&typeof l!="symbol"?t.setAttribute(a,""+l):t.removeAttribute(a);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":l&&typeof l!="function"&&typeof l!="symbol"?t.setAttribute(a,""):t.removeAttribute(a);break;case"capture":case"download":l===!0?t.setAttribute(a,""):l!==!1&&l!=null&&typeof l!="function"&&typeof l!="symbol"?t.setAttribute(a,l):t.removeAttribute(a);break;case"cols":case"rows":case"size":case"span":l!=null&&typeof l!="function"&&typeof l!="symbol"&&!isNaN(l)&&1<=l?t.setAttribute(a,l):t.removeAttribute(a);break;case"rowSpan":case"start":l==null||typeof l=="function"||typeof l=="symbol"||isNaN(l)?t.removeAttribute(a):t.setAttribute(a,l);break;case"popover":Vt("beforetoggle",t),Vt("toggle",t),Xi(t,"popover",l);break;case"xlinkActuate":Le(t,"http://www.w3.org/1999/xlink","xlink:actuate",l);break;case"xlinkArcrole":Le(t,"http://www.w3.org/1999/xlink","xlink:arcrole",l);break;case"xlinkRole":Le(t,"http://www.w3.org/1999/xlink","xlink:role",l);break;case"xlinkShow":Le(t,"http://www.w3.org/1999/xlink","xlink:show",l);break;case"xlinkTitle":Le(t,"http://www.w3.org/1999/xlink","xlink:title",l);break;case"xlinkType":Le(t,"http://www.w3.org/1999/xlink","xlink:type",l);break;case"xmlBase":Le(t,"http://www.w3.org/XML/1998/namespace","xml:base",l);break;case"xmlLang":Le(t,"http://www.w3.org/XML/1998/namespace","xml:lang",l);break;case"xmlSpace":Le(t,"http://www.w3.org/XML/1998/namespace","xml:space",l);break;case"is":Xi(t,"is",l);break;case"innerText":case"textContent":break;default:(!(2<a.length)||a[0]!=="o"&&a[0]!=="O"||a[1]!=="n"&&a[1]!=="N")&&(a=nh.get(a)||a,Xi(t,a,l))}}function xf(t,n,a,l,c,f){switch(a){case"style":il(t,l,f);break;case"dangerouslySetInnerHTML":if(l!=null){if(typeof l!="object"||!("__html"in l))throw Error(s(61));if(a=l.__html,a!=null){if(c.children!=null)throw Error(s(60));t.innerHTML=a}}break;case"children":typeof l=="string"?gn(t,l):(typeof l=="number"||typeof l=="bigint")&&gn(t,""+l);break;case"onScroll":l!=null&&Vt("scroll",t);break;case"onScrollEnd":l!=null&&Vt("scrollend",t);break;case"onClick":l!=null&&(t.onclick=ku);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!Ua.hasOwnProperty(a))t:{if(a[0]==="o"&&a[1]==="n"&&(c=a.endsWith("Capture"),n=a.slice(2,c?a.length-7:void 0),f=t[pe]||null,f=f!=null?f[a]:null,typeof f=="function"&&t.removeEventListener(n,f,c),typeof l=="function")){typeof f!="function"&&f!==null&&(a in t?t[a]=null:t.hasAttribute(a)&&t.removeAttribute(a)),t.addEventListener(n,l,c);break t}a in t?t[a]=l:l===!0?t.setAttribute(a,""):Xi(t,a,l)}}}function Be(t,n,a){switch(n){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":Vt("error",t),Vt("load",t);var l=!1,c=!1,f;for(f in a)if(a.hasOwnProperty(f)){var v=a[f];if(v!=null)switch(f){case"src":l=!0;break;case"srcSet":c=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(s(137,n));default:Xt(t,n,f,v,a,null)}}c&&Xt(t,n,"srcSet",a.srcSet,a,null),l&&Xt(t,n,"src",a.src,a,null);return;case"input":Vt("invalid",t);var T=f=v=c=null,D=null,z=null;for(l in a)if(a.hasOwnProperty(l)){var K=a[l];if(K!=null)switch(l){case"name":c=K;break;case"type":v=K;break;case"checked":D=K;break;case"defaultChecked":z=K;break;case"value":f=K;break;case"defaultValue":T=K;break;case"children":case"dangerouslySetInnerHTML":if(K!=null)throw Error(s(137,n));break;default:Xt(t,n,l,K,a,null)}}Yr(t,f,T,D,z,v,c,!1),za(t);return;case"select":Vt("invalid",t),l=v=f=null;for(c in a)if(a.hasOwnProperty(c)&&(T=a[c],T!=null))switch(c){case"value":f=T;break;case"defaultValue":v=T;break;case"multiple":l=T;default:Xt(t,n,c,T,a,null)}n=f,a=v,t.multiple=!!l,n!=null?vi(t,!!l,n,!1):a!=null&&vi(t,!!l,a,!0);return;case"textarea":Vt("invalid",t),f=c=l=null;for(v in a)if(a.hasOwnProperty(v)&&(T=a[v],T!=null))switch(v){case"value":l=T;break;case"defaultValue":c=T;break;case"children":f=T;break;case"dangerouslySetInnerHTML":if(T!=null)throw Error(s(91));break;default:Xt(t,n,v,T,a,null)}Kr(t,l,c,f),za(t);return;case"option":for(D in a)if(a.hasOwnProperty(D)&&(l=a[D],l!=null))switch(D){case"selected":t.selected=l&&typeof l!="function"&&typeof l!="symbol";break;default:Xt(t,n,D,l,a,null)}return;case"dialog":Vt("beforetoggle",t),Vt("toggle",t),Vt("cancel",t),Vt("close",t);break;case"iframe":case"object":Vt("load",t);break;case"video":case"audio":for(l=0;l<ql.length;l++)Vt(ql[l],t);break;case"image":Vt("error",t),Vt("load",t);break;case"details":Vt("toggle",t);break;case"embed":case"source":case"link":Vt("error",t),Vt("load",t);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(z in a)if(a.hasOwnProperty(z)&&(l=a[z],l!=null))switch(z){case"children":case"dangerouslySetInnerHTML":throw Error(s(137,n));default:Xt(t,n,z,l,a,null)}return;default:if(rl(n)){for(K in a)a.hasOwnProperty(K)&&(l=a[K],l!==void 0&&xf(t,n,K,l,a,void 0));return}}for(T in a)a.hasOwnProperty(T)&&(l=a[T],l!=null&&Xt(t,n,T,l,a,null))}function wT(t,n,a,l){switch(n){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var c=null,f=null,v=null,T=null,D=null,z=null,K=null;for(F in a){var J=a[F];if(a.hasOwnProperty(F)&&J!=null)switch(F){case"checked":break;case"value":break;case"defaultValue":D=J;default:l.hasOwnProperty(F)||Xt(t,n,F,null,l,J)}}for(var j in l){var F=l[j];if(J=a[j],l.hasOwnProperty(j)&&(F!=null||J!=null))switch(j){case"type":f=F;break;case"name":c=F;break;case"checked":z=F;break;case"defaultChecked":K=F;break;case"value":v=F;break;case"defaultValue":T=F;break;case"children":case"dangerouslySetInnerHTML":if(F!=null)throw Error(s(137,n));break;default:F!==J&&Xt(t,n,j,F,l,J)}}sn(t,v,T,D,z,K,f,c);return;case"select":F=v=T=j=null;for(f in a)if(D=a[f],a.hasOwnProperty(f)&&D!=null)switch(f){case"value":break;case"multiple":F=D;default:l.hasOwnProperty(f)||Xt(t,n,f,null,l,D)}for(c in l)if(f=l[c],D=a[c],l.hasOwnProperty(c)&&(f!=null||D!=null))switch(c){case"value":j=f;break;case"defaultValue":T=f;break;case"multiple":v=f;default:f!==D&&Xt(t,n,c,f,l,D)}n=T,a=v,l=F,j!=null?vi(t,!!a,j,!1):!!l!=!!a&&(n!=null?vi(t,!!a,n,!0):vi(t,!!a,a?[]:"",!1));return;case"textarea":F=j=null;for(T in a)if(c=a[T],a.hasOwnProperty(T)&&c!=null&&!l.hasOwnProperty(T))switch(T){case"value":break;case"children":break;default:Xt(t,n,T,null,l,c)}for(v in l)if(c=l[v],f=a[v],l.hasOwnProperty(v)&&(c!=null||f!=null))switch(v){case"value":j=c;break;case"defaultValue":F=c;break;case"children":break;case"dangerouslySetInnerHTML":if(c!=null)throw Error(s(91));break;default:c!==f&&Xt(t,n,v,c,l,f)}Yt(t,j,F);return;case"option":for(var Tt in a)if(j=a[Tt],a.hasOwnProperty(Tt)&&j!=null&&!l.hasOwnProperty(Tt))switch(Tt){case"selected":t.selected=!1;break;default:Xt(t,n,Tt,null,l,j)}for(D in l)if(j=l[D],F=a[D],l.hasOwnProperty(D)&&j!==F&&(j!=null||F!=null))switch(D){case"selected":t.selected=j&&typeof j!="function"&&typeof j!="symbol";break;default:Xt(t,n,D,j,l,F)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var _t in a)j=a[_t],a.hasOwnProperty(_t)&&j!=null&&!l.hasOwnProperty(_t)&&Xt(t,n,_t,null,l,j);for(z in l)if(j=l[z],F=a[z],l.hasOwnProperty(z)&&j!==F&&(j!=null||F!=null))switch(z){case"children":case"dangerouslySetInnerHTML":if(j!=null)throw Error(s(137,n));break;default:Xt(t,n,z,j,l,F)}return;default:if(rl(n)){for(var $t in a)j=a[$t],a.hasOwnProperty($t)&&j!==void 0&&!l.hasOwnProperty($t)&&xf(t,n,$t,void 0,l,j);for(K in l)j=l[K],F=a[K],!l.hasOwnProperty(K)||j===F||j===void 0&&F===void 0||xf(t,n,K,j,l,F);return}}for(var U in a)j=a[U],a.hasOwnProperty(U)&&j!=null&&!l.hasOwnProperty(U)&&Xt(t,n,U,null,l,j);for(J in l)j=l[J],F=a[J],!l.hasOwnProperty(J)||j===F||j==null&&F==null||Xt(t,n,J,j,l,F)}var Uf=null,Lf=null;function zu(t){return t.nodeType===9?t:t.ownerDocument}function cy(t){switch(t){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function hy(t,n){if(t===0)switch(n){case"svg":return 1;case"math":return 2;default:return 0}return t===1&&n==="foreignObject"?0:t}function Pf(t,n){return t==="textarea"||t==="noscript"||typeof n.children=="string"||typeof n.children=="number"||typeof n.children=="bigint"||typeof n.dangerouslySetInnerHTML=="object"&&n.dangerouslySetInnerHTML!==null&&n.dangerouslySetInnerHTML.__html!=null}var kf=null;function CT(){var t=window.event;return t&&t.type==="popstate"?t===kf?!1:(kf=t,!0):(kf=null,!1)}var fy=typeof setTimeout=="function"?setTimeout:void 0,DT=typeof clearTimeout=="function"?clearTimeout:void 0,dy=typeof Promise=="function"?Promise:void 0,NT=typeof queueMicrotask=="function"?queueMicrotask:typeof dy<"u"?function(t){return dy.resolve(null).then(t).catch(IT)}:fy;function IT(t){setTimeout(function(){throw t})}function dr(t){return t==="head"}function my(t,n){var a=n,l=0,c=0;do{var f=a.nextSibling;if(t.removeChild(a),f&&f.nodeType===8)if(a=f.data,a==="/$"){if(0<l&&8>l){a=l;var v=t.ownerDocument;if(a&1&&jl(v.documentElement),a&2&&jl(v.body),a&4)for(a=v.head,jl(a),v=a.firstChild;v;){var T=v.nextSibling,D=v.nodeName;v[jr]||D==="SCRIPT"||D==="STYLE"||D==="LINK"&&v.rel.toLowerCase()==="stylesheet"||a.removeChild(v),v=T}}if(c===0){t.removeChild(f),Zl(n);return}c--}else a==="$"||a==="$?"||a==="$!"?c++:l=a.charCodeAt(0)-48;else l=0;a=f}while(a);Zl(n)}function zf(t){var n=t.firstChild;for(n&&n.nodeType===10&&(n=n.nextSibling);n;){var a=n;switch(n=n.nextSibling,a.nodeName){case"HTML":case"HEAD":case"BODY":zf(a),Ki(a);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(a.rel.toLowerCase()==="stylesheet")continue}t.removeChild(a)}}function VT(t,n,a,l){for(;t.nodeType===1;){var c=a;if(t.nodeName.toLowerCase()!==n.toLowerCase()){if(!l&&(t.nodeName!=="INPUT"||t.type!=="hidden"))break}else if(l){if(!t[jr])switch(n){case"meta":if(!t.hasAttribute("itemprop"))break;return t;case"link":if(f=t.getAttribute("rel"),f==="stylesheet"&&t.hasAttribute("data-precedence"))break;if(f!==c.rel||t.getAttribute("href")!==(c.href==null||c.href===""?null:c.href)||t.getAttribute("crossorigin")!==(c.crossOrigin==null?null:c.crossOrigin)||t.getAttribute("title")!==(c.title==null?null:c.title))break;return t;case"style":if(t.hasAttribute("data-precedence"))break;return t;case"script":if(f=t.getAttribute("src"),(f!==(c.src==null?null:c.src)||t.getAttribute("type")!==(c.type==null?null:c.type)||t.getAttribute("crossorigin")!==(c.crossOrigin==null?null:c.crossOrigin))&&f&&t.hasAttribute("async")&&!t.hasAttribute("itemprop"))break;return t;default:return t}}else if(n==="input"&&t.type==="hidden"){var f=c.name==null?null:""+c.name;if(c.type==="hidden"&&t.getAttribute("name")===f)return t}else return t;if(t=xn(t.nextSibling),t===null)break}return null}function OT(t,n,a){if(n==="")return null;for(;t.nodeType!==3;)if((t.nodeType!==1||t.nodeName!=="INPUT"||t.type!=="hidden")&&!a||(t=xn(t.nextSibling),t===null))return null;return t}function Bf(t){return t.data==="$!"||t.data==="$?"&&t.ownerDocument.readyState==="complete"}function MT(t,n){var a=t.ownerDocument;if(t.data!=="$?"||a.readyState==="complete")n();else{var l=function(){n(),a.removeEventListener("DOMContentLoaded",l)};a.addEventListener("DOMContentLoaded",l),t._reactRetry=l}}function xn(t){for(;t!=null;t=t.nextSibling){var n=t.nodeType;if(n===1||n===3)break;if(n===8){if(n=t.data,n==="$"||n==="$!"||n==="$?"||n==="F!"||n==="F")break;if(n==="/$")return null}}return t}var qf=null;function py(t){t=t.previousSibling;for(var n=0;t;){if(t.nodeType===8){var a=t.data;if(a==="$"||a==="$!"||a==="$?"){if(n===0)return t;n--}else a==="/$"&&n++}t=t.previousSibling}return null}function gy(t,n,a){switch(n=zu(a),t){case"html":if(t=n.documentElement,!t)throw Error(s(452));return t;case"head":if(t=n.head,!t)throw Error(s(453));return t;case"body":if(t=n.body,!t)throw Error(s(454));return t;default:throw Error(s(451))}}function jl(t){for(var n=t.attributes;n.length;)t.removeAttributeNode(n[0]);Ki(t)}var wn=new Map,yy=new Set;function Bu(t){return typeof t.getRootNode=="function"?t.getRootNode():t.nodeType===9?t:t.ownerDocument}var ki=lt.d;lt.d={f:xT,r:UT,D:LT,C:PT,L:kT,m:zT,X:qT,S:BT,M:HT};function xT(){var t=ki.f(),n=Vu();return t||n}function UT(t){var n=qn(t);n!==null&&n.tag===5&&n.type==="form"?Pp(n):ki.r(t)}var Es=typeof document>"u"?null:document;function _y(t,n,a){var l=Es;if(l&&typeof n=="string"&&n){var c=ge(n);c='link[rel="'+t+'"][href="'+c+'"]',typeof a=="string"&&(c+='[crossorigin="'+a+'"]'),yy.has(c)||(yy.add(c),t={rel:t,crossOrigin:a,href:n},l.querySelector(c)===null&&(n=l.createElement("link"),Be(n,"link",t),he(n),l.head.appendChild(n)))}}function LT(t){ki.D(t),_y("dns-prefetch",t,null)}function PT(t,n){ki.C(t,n),_y("preconnect",t,n)}function kT(t,n,a){ki.L(t,n,a);var l=Es;if(l&&t&&n){var c='link[rel="preload"][as="'+ge(n)+'"]';n==="image"&&a&&a.imageSrcSet?(c+='[imagesrcset="'+ge(a.imageSrcSet)+'"]',typeof a.imageSizes=="string"&&(c+='[imagesizes="'+ge(a.imageSizes)+'"]')):c+='[href="'+ge(t)+'"]';var f=c;switch(n){case"style":f=Ts(t);break;case"script":f=As(t)}wn.has(f)||(t=E({rel:"preload",href:n==="image"&&a&&a.imageSrcSet?void 0:t,as:n},a),wn.set(f,t),l.querySelector(c)!==null||n==="style"&&l.querySelector(Fl(f))||n==="script"&&l.querySelector(Gl(f))||(n=l.createElement("link"),Be(n,"link",t),he(n),l.head.appendChild(n)))}}function zT(t,n){ki.m(t,n);var a=Es;if(a&&t){var l=n&&typeof n.as=="string"?n.as:"script",c='link[rel="modulepreload"][as="'+ge(l)+'"][href="'+ge(t)+'"]',f=c;switch(l){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":f=As(t)}if(!wn.has(f)&&(t=E({rel:"modulepreload",href:t},n),wn.set(f,t),a.querySelector(c)===null)){switch(l){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(a.querySelector(Gl(f)))return}l=a.createElement("link"),Be(l,"link",t),he(l),a.head.appendChild(l)}}}function BT(t,n,a){ki.S(t,n,a);var l=Es;if(l&&t){var c=$e(l).hoistableStyles,f=Ts(t);n=n||"default";var v=c.get(f);if(!v){var T={loading:0,preload:null};if(v=l.querySelector(Fl(f)))T.loading=5;else{t=E({rel:"stylesheet",href:t,"data-precedence":n},a),(a=wn.get(f))&&Hf(t,a);var D=v=l.createElement("link");he(D),Be(D,"link",t),D._p=new Promise(function(z,K){D.onload=z,D.onerror=K}),D.addEventListener("load",function(){T.loading|=1}),D.addEventListener("error",function(){T.loading|=2}),T.loading|=4,qu(v,n,l)}v={type:"stylesheet",instance:v,count:1,state:T},c.set(f,v)}}}function qT(t,n){ki.X(t,n);var a=Es;if(a&&t){var l=$e(a).hoistableScripts,c=As(t),f=l.get(c);f||(f=a.querySelector(Gl(c)),f||(t=E({src:t,async:!0},n),(n=wn.get(c))&&jf(t,n),f=a.createElement("script"),he(f),Be(f,"link",t),a.head.appendChild(f)),f={type:"script",instance:f,count:1,state:null},l.set(c,f))}}function HT(t,n){ki.M(t,n);var a=Es;if(a&&t){var l=$e(a).hoistableScripts,c=As(t),f=l.get(c);f||(f=a.querySelector(Gl(c)),f||(t=E({src:t,async:!0,type:"module"},n),(n=wn.get(c))&&jf(t,n),f=a.createElement("script"),he(f),Be(f,"link",t),a.head.appendChild(f)),f={type:"script",instance:f,count:1,state:null},l.set(c,f))}}function vy(t,n,a,l){var c=(c=At.current)?Bu(c):null;if(!c)throw Error(s(446));switch(t){case"meta":case"title":return null;case"style":return typeof a.precedence=="string"&&typeof a.href=="string"?(n=Ts(a.href),a=$e(c).hoistableStyles,l=a.get(n),l||(l={type:"style",instance:null,count:0,state:null},a.set(n,l)),l):{type:"void",instance:null,count:0,state:null};case"link":if(a.rel==="stylesheet"&&typeof a.href=="string"&&typeof a.precedence=="string"){t=Ts(a.href);var f=$e(c).hoistableStyles,v=f.get(t);if(v||(c=c.ownerDocument||c,v={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},f.set(t,v),(f=c.querySelector(Fl(t)))&&!f._p&&(v.instance=f,v.state.loading=5),wn.has(t)||(a={rel:"preload",as:"style",href:a.href,crossOrigin:a.crossOrigin,integrity:a.integrity,media:a.media,hrefLang:a.hrefLang,referrerPolicy:a.referrerPolicy},wn.set(t,a),f||jT(c,t,a,v.state))),n&&l===null)throw Error(s(528,""));return v}if(n&&l!==null)throw Error(s(529,""));return null;case"script":return n=a.async,a=a.src,typeof a=="string"&&n&&typeof n!="function"&&typeof n!="symbol"?(n=As(a),a=$e(c).hoistableScripts,l=a.get(n),l||(l={type:"script",instance:null,count:0,state:null},a.set(n,l)),l):{type:"void",instance:null,count:0,state:null};default:throw Error(s(444,t))}}function Ts(t){return'href="'+ge(t)+'"'}function Fl(t){return'link[rel="stylesheet"]['+t+"]"}function Ey(t){return E({},t,{"data-precedence":t.precedence,precedence:null})}function jT(t,n,a,l){t.querySelector('link[rel="preload"][as="style"]['+n+"]")?l.loading=1:(n=t.createElement("link"),l.preload=n,n.addEventListener("load",function(){return l.loading|=1}),n.addEventListener("error",function(){return l.loading|=2}),Be(n,"link",a),he(n),t.head.appendChild(n))}function As(t){return'[src="'+ge(t)+'"]'}function Gl(t){return"script[async]"+t}function Ty(t,n,a){if(n.count++,n.instance===null)switch(n.type){case"style":var l=t.querySelector('style[data-href~="'+ge(a.href)+'"]');if(l)return n.instance=l,he(l),l;var c=E({},a,{"data-href":a.href,"data-precedence":a.precedence,href:null,precedence:null});return l=(t.ownerDocument||t).createElement("style"),he(l),Be(l,"style",c),qu(l,a.precedence,t),n.instance=l;case"stylesheet":c=Ts(a.href);var f=t.querySelector(Fl(c));if(f)return n.state.loading|=4,n.instance=f,he(f),f;l=Ey(a),(c=wn.get(c))&&Hf(l,c),f=(t.ownerDocument||t).createElement("link"),he(f);var v=f;return v._p=new Promise(function(T,D){v.onload=T,v.onerror=D}),Be(f,"link",l),n.state.loading|=4,qu(f,a.precedence,t),n.instance=f;case"script":return f=As(a.src),(c=t.querySelector(Gl(f)))?(n.instance=c,he(c),c):(l=a,(c=wn.get(f))&&(l=E({},a),jf(l,c)),t=t.ownerDocument||t,c=t.createElement("script"),he(c),Be(c,"link",l),t.head.appendChild(c),n.instance=c);case"void":return null;default:throw Error(s(443,n.type))}else n.type==="stylesheet"&&(n.state.loading&4)===0&&(l=n.instance,n.state.loading|=4,qu(l,a.precedence,t));return n.instance}function qu(t,n,a){for(var l=a.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),c=l.length?l[l.length-1]:null,f=c,v=0;v<l.length;v++){var T=l[v];if(T.dataset.precedence===n)f=T;else if(f!==c)break}f?f.parentNode.insertBefore(t,f.nextSibling):(n=a.nodeType===9?a.head:a,n.insertBefore(t,n.firstChild))}function Hf(t,n){t.crossOrigin==null&&(t.crossOrigin=n.crossOrigin),t.referrerPolicy==null&&(t.referrerPolicy=n.referrerPolicy),t.title==null&&(t.title=n.title)}function jf(t,n){t.crossOrigin==null&&(t.crossOrigin=n.crossOrigin),t.referrerPolicy==null&&(t.referrerPolicy=n.referrerPolicy),t.integrity==null&&(t.integrity=n.integrity)}var Hu=null;function Ay(t,n,a){if(Hu===null){var l=new Map,c=Hu=new Map;c.set(a,l)}else c=Hu,l=c.get(a),l||(l=new Map,c.set(a,l));if(l.has(t))return l;for(l.set(t,null),a=a.getElementsByTagName(t),c=0;c<a.length;c++){var f=a[c];if(!(f[jr]||f[Te]||t==="link"&&f.getAttribute("rel")==="stylesheet")&&f.namespaceURI!=="http://www.w3.org/2000/svg"){var v=f.getAttribute(n)||"";v=t+v;var T=l.get(v);T?T.push(f):l.set(v,[f])}}return l}function Sy(t,n,a){t=t.ownerDocument||t,t.head.insertBefore(a,n==="title"?t.querySelector("head > title"):null)}function FT(t,n,a){if(a===1||n.itemProp!=null)return!1;switch(t){case"meta":case"title":return!0;case"style":if(typeof n.precedence!="string"||typeof n.href!="string"||n.href==="")break;return!0;case"link":if(typeof n.rel!="string"||typeof n.href!="string"||n.href===""||n.onLoad||n.onError)break;switch(n.rel){case"stylesheet":return t=n.disabled,typeof n.precedence=="string"&&t==null;default:return!0}case"script":if(n.async&&typeof n.async!="function"&&typeof n.async!="symbol"&&!n.onLoad&&!n.onError&&n.src&&typeof n.src=="string")return!0}return!1}function by(t){return!(t.type==="stylesheet"&&(t.state.loading&3)===0)}var Ql=null;function GT(){}function QT(t,n,a){if(Ql===null)throw Error(s(475));var l=Ql;if(n.type==="stylesheet"&&(typeof a.media!="string"||matchMedia(a.media).matches!==!1)&&(n.state.loading&4)===0){if(n.instance===null){var c=Ts(a.href),f=t.querySelector(Fl(c));if(f){t=f._p,t!==null&&typeof t=="object"&&typeof t.then=="function"&&(l.count++,l=ju.bind(l),t.then(l,l)),n.state.loading|=4,n.instance=f,he(f);return}f=t.ownerDocument||t,a=Ey(a),(c=wn.get(c))&&Hf(a,c),f=f.createElement("link"),he(f);var v=f;v._p=new Promise(function(T,D){v.onload=T,v.onerror=D}),Be(f,"link",a),n.instance=f}l.stylesheets===null&&(l.stylesheets=new Map),l.stylesheets.set(n,t),(t=n.state.preload)&&(n.state.loading&3)===0&&(l.count++,n=ju.bind(l),t.addEventListener("load",n),t.addEventListener("error",n))}}function YT(){if(Ql===null)throw Error(s(475));var t=Ql;return t.stylesheets&&t.count===0&&Ff(t,t.stylesheets),0<t.count?function(n){var a=setTimeout(function(){if(t.stylesheets&&Ff(t,t.stylesheets),t.unsuspend){var l=t.unsuspend;t.unsuspend=null,l()}},6e4);return t.unsuspend=n,function(){t.unsuspend=null,clearTimeout(a)}}:null}function ju(){if(this.count--,this.count===0){if(this.stylesheets)Ff(this,this.stylesheets);else if(this.unsuspend){var t=this.unsuspend;this.unsuspend=null,t()}}}var Fu=null;function Ff(t,n){t.stylesheets=null,t.unsuspend!==null&&(t.count++,Fu=new Map,n.forEach(KT,t),Fu=null,ju.call(t))}function KT(t,n){if(!(n.state.loading&4)){var a=Fu.get(t);if(a)var l=a.get(null);else{a=new Map,Fu.set(t,a);for(var c=t.querySelectorAll("link[data-precedence],style[data-precedence]"),f=0;f<c.length;f++){var v=c[f];(v.nodeName==="LINK"||v.getAttribute("media")!=="not all")&&(a.set(v.dataset.precedence,v),l=v)}l&&a.set(null,l)}c=n.instance,v=c.getAttribute("data-precedence"),f=a.get(v)||l,f===l&&a.set(null,c),a.set(v,c),this.count++,l=ju.bind(this),c.addEventListener("load",l),c.addEventListener("error",l),f?f.parentNode.insertBefore(c,f.nextSibling):(t=t.nodeType===9?t.head:t,t.insertBefore(c,t.firstChild)),n.state.loading|=4}}var Yl={$$typeof:it,Provider:null,Consumer:null,_currentValue:pt,_currentValue2:pt,_threadCount:0};function XT(t,n,a,l,c,f,v,T){this.tag=1,this.containerInfo=t,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=mi(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=mi(0),this.hiddenUpdates=mi(null),this.identifierPrefix=l,this.onUncaughtError=c,this.onCaughtError=f,this.onRecoverableError=v,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=T,this.incompleteTransitions=new Map}function Ry(t,n,a,l,c,f,v,T,D,z,K,J){return t=new XT(t,n,a,v,T,D,z,J),n=1,f===!0&&(n|=24),f=on(3,null,null,n),t.current=f,f.stateNode=t,n=bh(),n.refCount++,t.pooledCache=n,n.refCount++,f.memoizedState={element:l,isDehydrated:a,cache:n},Dh(f),t}function wy(t){return t?(t=Wa,t):Wa}function Cy(t,n,a,l,c,f){c=wy(c),l.context===null?l.context=c:l.pendingContext=c,l=tr(n),l.payload={element:a},f=f===void 0?null:f,f!==null&&(l.callback=f),a=er(t,l,n),a!==null&&(dn(a,t,n),Sl(a,t,n))}function Dy(t,n){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var a=t.retryLane;t.retryLane=a!==0&&a<n?a:n}}function Gf(t,n){Dy(t,n),(t=t.alternate)&&Dy(t,n)}function Ny(t){if(t.tag===13){var n=Ja(t,67108864);n!==null&&dn(n,t,67108864),Gf(t,67108864)}}var Gu=!0;function $T(t,n,a,l){var c=Y.T;Y.T=null;var f=lt.p;try{lt.p=2,Qf(t,n,a,l)}finally{lt.p=f,Y.T=c}}function ZT(t,n,a,l){var c=Y.T;Y.T=null;var f=lt.p;try{lt.p=8,Qf(t,n,a,l)}finally{lt.p=f,Y.T=c}}function Qf(t,n,a,l){if(Gu){var c=Yf(l);if(c===null)Mf(t,n,l,Qu,a),Vy(t,l);else if(WT(c,t,n,a,l))l.stopPropagation();else if(Vy(t,l),n&4&&-1<JT.indexOf(t)){for(;c!==null;){var f=qn(c);if(f!==null)switch(f.tag){case 3:if(f=f.stateNode,f.current.memoizedState.isDehydrated){var v=Nn(f.pendingLanes);if(v!==0){var T=f;for(T.pendingLanes|=2,T.entangledLanes|=2;v;){var D=1<<31-Fe(v);T.entanglements[1]|=D,v&=~D}ei(f),(Gt&6)===0&&(Nu=mn()+500,Bl(0))}}break;case 13:T=Ja(f,2),T!==null&&dn(T,f,2),Vu(),Gf(f,2)}if(f=Yf(l),f===null&&Mf(t,n,l,Qu,a),f===c)break;c=f}c!==null&&l.stopPropagation()}else Mf(t,n,l,null,a)}}function Yf(t){return t=yn(t),Kf(t)}var Qu=null;function Kf(t){if(Qu=null,t=gi(t),t!==null){var n=h(t);if(n===null)t=null;else{var a=n.tag;if(a===13){if(t=d(n),t!==null)return t;t=null}else if(a===3){if(n.stateNode.current.memoizedState.isDehydrated)return n.tag===3?n.stateNode.containerInfo:null;t=null}else n!==t&&(t=null)}}return Qu=t,null}function Iy(t){switch(t){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch($c()){case Gs:return 2;case Va:return 8;case kr:case Zc:return 32;case Oa:return 268435456;default:return 32}default:return 32}}var Xf=!1,mr=null,pr=null,gr=null,Kl=new Map,Xl=new Map,yr=[],JT="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function Vy(t,n){switch(t){case"focusin":case"focusout":mr=null;break;case"dragenter":case"dragleave":pr=null;break;case"mouseover":case"mouseout":gr=null;break;case"pointerover":case"pointerout":Kl.delete(n.pointerId);break;case"gotpointercapture":case"lostpointercapture":Xl.delete(n.pointerId)}}function $l(t,n,a,l,c,f){return t===null||t.nativeEvent!==f?(t={blockedOn:n,domEventName:a,eventSystemFlags:l,nativeEvent:f,targetContainers:[c]},n!==null&&(n=qn(n),n!==null&&Ny(n)),t):(t.eventSystemFlags|=l,n=t.targetContainers,c!==null&&n.indexOf(c)===-1&&n.push(c),t)}function WT(t,n,a,l,c){switch(n){case"focusin":return mr=$l(mr,t,n,a,l,c),!0;case"dragenter":return pr=$l(pr,t,n,a,l,c),!0;case"mouseover":return gr=$l(gr,t,n,a,l,c),!0;case"pointerover":var f=c.pointerId;return Kl.set(f,$l(Kl.get(f)||null,t,n,a,l,c)),!0;case"gotpointercapture":return f=c.pointerId,Xl.set(f,$l(Xl.get(f)||null,t,n,a,l,c)),!0}return!1}function Oy(t){var n=gi(t.target);if(n!==null){var a=h(n);if(a!==null){if(n=a.tag,n===13){if(n=d(a),n!==null){t.blockedOn=n,Vo(t.priority,function(){if(a.tag===13){var l=fn();l=Gi(l);var c=Ja(a,l);c!==null&&dn(c,a,l),Gf(a,l)}});return}}else if(n===3&&a.stateNode.current.memoizedState.isDehydrated){t.blockedOn=a.tag===3?a.stateNode.containerInfo:null;return}}}t.blockedOn=null}function Yu(t){if(t.blockedOn!==null)return!1;for(var n=t.targetContainers;0<n.length;){var a=Yf(t.nativeEvent);if(a===null){a=t.nativeEvent;var l=new a.constructor(a.type,a);Ei=l,a.target.dispatchEvent(l),Ei=null}else return n=qn(a),n!==null&&Ny(n),t.blockedOn=a,!1;n.shift()}return!0}function My(t,n,a){Yu(t)&&a.delete(n)}function t1(){Xf=!1,mr!==null&&Yu(mr)&&(mr=null),pr!==null&&Yu(pr)&&(pr=null),gr!==null&&Yu(gr)&&(gr=null),Kl.forEach(My),Xl.forEach(My)}function Ku(t,n){t.blockedOn===n&&(t.blockedOn=null,Xf||(Xf=!0,r.unstable_scheduleCallback(r.unstable_NormalPriority,t1)))}var Xu=null;function xy(t){Xu!==t&&(Xu=t,r.unstable_scheduleCallback(r.unstable_NormalPriority,function(){Xu===t&&(Xu=null);for(var n=0;n<t.length;n+=3){var a=t[n],l=t[n+1],c=t[n+2];if(typeof l!="function"){if(Kf(l||a)===null)continue;break}var f=qn(a);f!==null&&(t.splice(n,3),n-=3,Yh(f,{pending:!0,data:c,method:a.method,action:l},l,c))}}))}function Zl(t){function n(D){return Ku(D,t)}mr!==null&&Ku(mr,t),pr!==null&&Ku(pr,t),gr!==null&&Ku(gr,t),Kl.forEach(n),Xl.forEach(n);for(var a=0;a<yr.length;a++){var l=yr[a];l.blockedOn===t&&(l.blockedOn=null)}for(;0<yr.length&&(a=yr[0],a.blockedOn===null);)Oy(a),a.blockedOn===null&&yr.shift();if(a=(t.ownerDocument||t).$$reactFormReplay,a!=null)for(l=0;l<a.length;l+=3){var c=a[l],f=a[l+1],v=c[pe]||null;if(typeof f=="function")v||xy(a);else if(v){var T=null;if(f&&f.hasAttribute("formAction")){if(c=f,v=f[pe]||null)T=v.formAction;else if(Kf(c)!==null)continue}else T=v.action;typeof T=="function"?a[l+1]=T:(a.splice(l,3),l-=3),xy(a)}}}function $f(t){this._internalRoot=t}$u.prototype.render=$f.prototype.render=function(t){var n=this._internalRoot;if(n===null)throw Error(s(409));var a=n.current,l=fn();Cy(a,l,t,n,null,null)},$u.prototype.unmount=$f.prototype.unmount=function(){var t=this._internalRoot;if(t!==null){this._internalRoot=null;var n=t.containerInfo;Cy(t.current,2,null,t,null,null),Vu(),n[pn]=null}};function $u(t){this._internalRoot=t}$u.prototype.unstable_scheduleHydration=function(t){if(t){var n=Qi();t={blockedOn:null,target:t,priority:n};for(var a=0;a<yr.length&&n!==0&&n<yr[a].priority;a++);yr.splice(a,0,t),a===0&&Oy(t)}};var Uy=e.version;if(Uy!=="19.1.1")throw Error(s(527,Uy,"19.1.1"));lt.findDOMNode=function(t){var n=t._reactInternals;if(n===void 0)throw typeof t.render=="function"?Error(s(188)):(t=Object.keys(t).join(","),Error(s(268,t)));return t=g(n),t=t!==null?y(t):null,t=t===null?null:t.stateNode,t};var e1={bundleType:0,version:"19.1.1",rendererPackageName:"react-dom",currentDispatcherRef:Y,reconcilerVersion:"19.1.1"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Zu=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Zu.isDisabled&&Zu.supportsFiber)try{oe=Zu.inject(e1),Ft=Zu}catch{}}return Jl.createRoot=function(t,n){if(!o(t))throw Error(s(299));var a=!1,l="",c=Zp,f=Jp,v=Wp,T=null;return n!=null&&(n.unstable_strictMode===!0&&(a=!0),n.identifierPrefix!==void 0&&(l=n.identifierPrefix),n.onUncaughtError!==void 0&&(c=n.onUncaughtError),n.onCaughtError!==void 0&&(f=n.onCaughtError),n.onRecoverableError!==void 0&&(v=n.onRecoverableError),n.unstable_transitionCallbacks!==void 0&&(T=n.unstable_transitionCallbacks)),n=Ry(t,1,!1,null,null,a,l,c,f,v,T,null),t[pn]=n.current,Of(t),new $f(n)},Jl.hydrateRoot=function(t,n,a){if(!o(t))throw Error(s(299));var l=!1,c="",f=Zp,v=Jp,T=Wp,D=null,z=null;return a!=null&&(a.unstable_strictMode===!0&&(l=!0),a.identifierPrefix!==void 0&&(c=a.identifierPrefix),a.onUncaughtError!==void 0&&(f=a.onUncaughtError),a.onCaughtError!==void 0&&(v=a.onCaughtError),a.onRecoverableError!==void 0&&(T=a.onRecoverableError),a.unstable_transitionCallbacks!==void 0&&(D=a.unstable_transitionCallbacks),a.formState!==void 0&&(z=a.formState)),n=Ry(t,1,!0,n,a??null,l,c,f,v,T,D,z),n.context=wy(null),a=n.current,l=fn(),l=Gi(l),c=tr(l),c.callback=null,er(a,c,l),a=l,n.current.lanes=a,pi(n,a),ei(n),t[pn]=n.current,Of(t),new $u(n)},Jl.version="19.1.1",Jl}var jy;function c1(){if(jy)return Jf.exports;jy=1;function r(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(r)}catch(e){console.error(e)}}return r(),Jf.exports=u1(),Jf.exports}var h1=c1();/**
 * react-router v7.9.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */var Fy="popstate";function f1(r={}){function e(s,o){let{pathname:h,search:d,hash:p}=s.location;return md("",{pathname:h,search:d,hash:p},o.state&&o.state.usr||null,o.state&&o.state.key||"default")}function i(s,o){return typeof o=="string"?o:uo(o)}return m1(e,i,null,r)}function ae(r,e){if(r===!1||r===null||typeof r>"u")throw new Error(e)}function Pn(r,e){if(!r){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function d1(){return Math.random().toString(36).substring(2,10)}function Gy(r,e){return{usr:r.state,key:r.key,idx:e}}function md(r,e,i=null,s){return{pathname:typeof r=="string"?r:r.pathname,search:"",hash:"",...typeof e=="string"?Ps(e):e,state:i,key:e&&e.key||s||d1()}}function uo({pathname:r="/",search:e="",hash:i=""}){return e&&e!=="?"&&(r+=e.charAt(0)==="?"?e:"?"+e),i&&i!=="#"&&(r+=i.charAt(0)==="#"?i:"#"+i),r}function Ps(r){let e={};if(r){let i=r.indexOf("#");i>=0&&(e.hash=r.substring(i),r=r.substring(0,i));let s=r.indexOf("?");s>=0&&(e.search=r.substring(s),r=r.substring(0,s)),r&&(e.pathname=r)}return e}function m1(r,e,i,s={}){let{window:o=document.defaultView,v5Compat:h=!1}=s,d=o.history,p="POP",g=null,y=E();y==null&&(y=0,d.replaceState({...d.state,idx:y},""));function E(){return(d.state||{idx:null}).idx}function S(){p="POP";let H=E(),nt=H==null?null:H-y;y=H,g&&g({action:p,location:$.location,delta:nt})}function R(H,nt){p="PUSH";let tt=md($.location,H,nt);y=E()+1;let it=Gy(tt,y),ft=$.createHref(tt);try{d.pushState(it,"",ft)}catch(ot){if(ot instanceof DOMException&&ot.name==="DataCloneError")throw ot;o.location.assign(ft)}h&&g&&g({action:p,location:$.location,delta:1})}function L(H,nt){p="REPLACE";let tt=md($.location,H,nt);y=E();let it=Gy(tt,y),ft=$.createHref(tt);d.replaceState(it,"",ft),h&&g&&g({action:p,location:$.location,delta:0})}function G(H){return p1(H)}let $={get action(){return p},get location(){return r(o,d)},listen(H){if(g)throw new Error("A history only accepts one active listener");return o.addEventListener(Fy,S),g=H,()=>{o.removeEventListener(Fy,S),g=null}},createHref(H){return e(o,H)},createURL:G,encodeLocation(H){let nt=G(H);return{pathname:nt.pathname,search:nt.search,hash:nt.hash}},push:R,replace:L,go(H){return d.go(H)}};return $}function p1(r,e=!1){let i="http://localhost";typeof window<"u"&&(i=window.location.origin!=="null"?window.location.origin:window.location.href),ae(i,"No window.location.(origin|href) available to create URL");let s=typeof r=="string"?r:uo(r);return s=s.replace(/ $/,"%20"),!e&&s.startsWith("//")&&(s=i+s),new URL(s,i)}function mv(r,e,i="/"){return g1(r,e,i,!1)}function g1(r,e,i,s){let o=typeof e=="string"?Ps(e):e,h=Bi(o.pathname||"/",i);if(h==null)return null;let d=pv(r);y1(d);let p=null;for(let g=0;p==null&&g<d.length;++g){let y=D1(h);p=w1(d[g],y,s)}return p}function pv(r,e=[],i=[],s="",o=!1){let h=(d,p,g=o,y)=>{let E={relativePath:y===void 0?d.path||"":y,caseSensitive:d.caseSensitive===!0,childrenIndex:p,route:d};if(E.relativePath.startsWith("/")){if(!E.relativePath.startsWith(s)&&g)return;ae(E.relativePath.startsWith(s),`Absolute route path "${E.relativePath}" nested under path "${s}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),E.relativePath=E.relativePath.slice(s.length)}let S=zi([s,E.relativePath]),R=i.concat(E);d.children&&d.children.length>0&&(ae(d.index!==!0,`Index routes must not have child routes. Please remove all child routes from route path "${S}".`),pv(d.children,e,R,S,g)),!(d.path==null&&!d.index)&&e.push({path:S,score:b1(S,d.index),routesMeta:R})};return r.forEach((d,p)=>{if(d.path===""||!d.path?.includes("?"))h(d,p);else for(let g of gv(d.path))h(d,p,!0,g)}),e}function gv(r){let e=r.split("/");if(e.length===0)return[];let[i,...s]=e,o=i.endsWith("?"),h=i.replace(/\?$/,"");if(s.length===0)return o?[h,""]:[h];let d=gv(s.join("/")),p=[];return p.push(...d.map(g=>g===""?h:[h,g].join("/"))),o&&p.push(...d),p.map(g=>r.startsWith("/")&&g===""?"/":g)}function y1(r){r.sort((e,i)=>e.score!==i.score?i.score-e.score:R1(e.routesMeta.map(s=>s.childrenIndex),i.routesMeta.map(s=>s.childrenIndex)))}var _1=/^:[\w-]+$/,v1=3,E1=2,T1=1,A1=10,S1=-2,Qy=r=>r==="*";function b1(r,e){let i=r.split("/"),s=i.length;return i.some(Qy)&&(s+=S1),e&&(s+=E1),i.filter(o=>!Qy(o)).reduce((o,h)=>o+(_1.test(h)?v1:h===""?T1:A1),s)}function R1(r,e){return r.length===e.length&&r.slice(0,-1).every((s,o)=>s===e[o])?r[r.length-1]-e[e.length-1]:0}function w1(r,e,i=!1){let{routesMeta:s}=r,o={},h="/",d=[];for(let p=0;p<s.length;++p){let g=s[p],y=p===s.length-1,E=h==="/"?e:e.slice(h.length)||"/",S=pc({path:g.relativePath,caseSensitive:g.caseSensitive,end:y},E),R=g.route;if(!S&&y&&i&&!s[s.length-1].route.index&&(S=pc({path:g.relativePath,caseSensitive:g.caseSensitive,end:!1},E)),!S)return null;Object.assign(o,S.params),d.push({params:o,pathname:zi([h,S.pathname]),pathnameBase:O1(zi([h,S.pathnameBase])),route:R}),S.pathnameBase!=="/"&&(h=zi([h,S.pathnameBase]))}return d}function pc(r,e){typeof r=="string"&&(r={path:r,caseSensitive:!1,end:!0});let[i,s]=C1(r.path,r.caseSensitive,r.end),o=e.match(i);if(!o)return null;let h=o[0],d=h.replace(/(.)\/+$/,"$1"),p=o.slice(1);return{params:s.reduce((y,{paramName:E,isOptional:S},R)=>{if(E==="*"){let G=p[R]||"";d=h.slice(0,h.length-G.length).replace(/(.)\/+$/,"$1")}const L=p[R];return S&&!L?y[E]=void 0:y[E]=(L||"").replace(/%2F/g,"/"),y},{}),pathname:h,pathnameBase:d,pattern:r}}function C1(r,e=!1,i=!0){Pn(r==="*"||!r.endsWith("*")||r.endsWith("/*"),`Route path "${r}" will be treated as if it were "${r.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${r.replace(/\*$/,"/*")}".`);let s=[],o="^"+r.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(d,p,g)=>(s.push({paramName:p,isOptional:g!=null}),g?"/?([^\\/]+)?":"/([^\\/]+)")).replace(/\/([\w-]+)\?(\/|$)/g,"(/$1)?$2");return r.endsWith("*")?(s.push({paramName:"*"}),o+=r==="*"||r==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):i?o+="\\/*$":r!==""&&r!=="/"&&(o+="(?:(?=\\/|$))"),[new RegExp(o,e?void 0:"i"),s]}function D1(r){try{return r.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return Pn(!1,`The URL path "${r}" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (${e}).`),r}}function Bi(r,e){if(e==="/")return r;if(!r.toLowerCase().startsWith(e.toLowerCase()))return null;let i=e.endsWith("/")?e.length-1:e.length,s=r.charAt(i);return s&&s!=="/"?null:r.slice(i)||"/"}function N1(r,e="/"){let{pathname:i,search:s="",hash:o=""}=typeof r=="string"?Ps(r):r;return{pathname:i?i.startsWith("/")?i:I1(i,e):e,search:M1(s),hash:x1(o)}}function I1(r,e){let i=e.replace(/\/+$/,"").split("/");return r.split("/").forEach(o=>{o===".."?i.length>1&&i.pop():o!=="."&&i.push(o)}),i.length>1?i.join("/"):"/"}function nd(r,e,i,s){return`Cannot include a '${r}' character in a manually specified \`to.${e}\` field [${JSON.stringify(s)}].  Please separate it out to the \`to.${i}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function V1(r){return r.filter((e,i)=>i===0||e.route.path&&e.route.path.length>0)}function zd(r){let e=V1(r);return e.map((i,s)=>s===e.length-1?i.pathname:i.pathnameBase)}function Bd(r,e,i,s=!1){let o;typeof r=="string"?o=Ps(r):(o={...r},ae(!o.pathname||!o.pathname.includes("?"),nd("?","pathname","search",o)),ae(!o.pathname||!o.pathname.includes("#"),nd("#","pathname","hash",o)),ae(!o.search||!o.search.includes("#"),nd("#","search","hash",o)));let h=r===""||o.pathname==="",d=h?"/":o.pathname,p;if(d==null)p=i;else{let S=e.length-1;if(!s&&d.startsWith("..")){let R=d.split("/");for(;R[0]==="..";)R.shift(),S-=1;o.pathname=R.join("/")}p=S>=0?e[S]:"/"}let g=N1(o,p),y=d&&d!=="/"&&d.endsWith("/"),E=(h||d===".")&&i.endsWith("/");return!g.pathname.endsWith("/")&&(y||E)&&(g.pathname+="/"),g}var zi=r=>r.join("/").replace(/\/\/+/g,"/"),O1=r=>r.replace(/\/+$/,"").replace(/^\/*/,"/"),M1=r=>!r||r==="?"?"":r.startsWith("?")?r:"?"+r,x1=r=>!r||r==="#"?"":r.startsWith("#")?r:"#"+r;function U1(r){return r!=null&&typeof r.status=="number"&&typeof r.statusText=="string"&&typeof r.internal=="boolean"&&"data"in r}var yv=["POST","PUT","PATCH","DELETE"];new Set(yv);var L1=["GET",...yv];new Set(L1);var ks=q.createContext(null);ks.displayName="DataRouter";var Mc=q.createContext(null);Mc.displayName="DataRouterState";q.createContext(!1);var _v=q.createContext({isTransitioning:!1});_v.displayName="ViewTransition";var P1=q.createContext(new Map);P1.displayName="Fetchers";var k1=q.createContext(null);k1.displayName="Await";var kn=q.createContext(null);kn.displayName="Navigation";var Eo=q.createContext(null);Eo.displayName="Location";var hi=q.createContext({outlet:null,matches:[],isDataRoute:!1});hi.displayName="Route";var qd=q.createContext(null);qd.displayName="RouteError";function z1(r,{relative:e}={}){ae(zs(),"useHref() may be used only in the context of a <Router> component.");let{basename:i,navigator:s}=q.useContext(kn),{hash:o,pathname:h,search:d}=To(r,{relative:e}),p=h;return i!=="/"&&(p=h==="/"?i:zi([i,h])),s.createHref({pathname:p,search:d,hash:o})}function zs(){return q.useContext(Eo)!=null}function xr(){return ae(zs(),"useLocation() may be used only in the context of a <Router> component."),q.useContext(Eo).location}var vv="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function Ev(r){q.useContext(kn).static||q.useLayoutEffect(r)}function Tv(){let{isDataRoute:r}=q.useContext(hi);return r?J1():B1()}function B1(){ae(zs(),"useNavigate() may be used only in the context of a <Router> component.");let r=q.useContext(ks),{basename:e,navigator:i}=q.useContext(kn),{matches:s}=q.useContext(hi),{pathname:o}=xr(),h=JSON.stringify(zd(s)),d=q.useRef(!1);return Ev(()=>{d.current=!0}),q.useCallback((g,y={})=>{if(Pn(d.current,vv),!d.current)return;if(typeof g=="number"){i.go(g);return}let E=Bd(g,JSON.parse(h),o,y.relative==="path");r==null&&e!=="/"&&(E.pathname=E.pathname==="/"?e:zi([e,E.pathname])),(y.replace?i.replace:i.push)(E,y.state,y)},[e,i,h,o,r])}q.createContext(null);function To(r,{relative:e}={}){let{matches:i}=q.useContext(hi),{pathname:s}=xr(),o=JSON.stringify(zd(i));return q.useMemo(()=>Bd(r,JSON.parse(o),s,e==="path"),[r,o,s,e])}function q1(r,e){return Av(r,e)}function Av(r,e,i,s,o){ae(zs(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:h}=q.useContext(kn),{matches:d}=q.useContext(hi),p=d[d.length-1],g=p?p.params:{},y=p?p.pathname:"/",E=p?p.pathnameBase:"/",S=p&&p.route;{let tt=S&&S.path||"";Sv(y,!S||tt.endsWith("*")||tt.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${y}" (under <Route path="${tt}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.

Please change the parent <Route path="${tt}"> to <Route path="${tt==="/"?"*":`${tt}/*`}">.`)}let R=xr(),L;if(e){let tt=typeof e=="string"?Ps(e):e;ae(E==="/"||tt.pathname?.startsWith(E),`When overriding the location using \`<Routes location>\` or \`useRoutes(routes, location)\`, the location pathname must begin with the portion of the URL pathname that was matched by all parent routes. The current pathname base is "${E}" but pathname "${tt.pathname}" was given in the \`location\` prop.`),L=tt}else L=R;let G=L.pathname||"/",$=G;if(E!=="/"){let tt=E.replace(/^\//,"").split("/");$="/"+G.replace(/^\//,"").split("/").slice(tt.length).join("/")}let H=mv(r,{pathname:$});Pn(S||H!=null,`No routes matched location "${L.pathname}${L.search}${L.hash}" `),Pn(H==null||H[H.length-1].route.element!==void 0||H[H.length-1].route.Component!==void 0||H[H.length-1].route.lazy!==void 0,`Matched leaf route at location "${L.pathname}${L.search}${L.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`);let nt=Q1(H&&H.map(tt=>Object.assign({},tt,{params:Object.assign({},g,tt.params),pathname:zi([E,h.encodeLocation?h.encodeLocation(tt.pathname).pathname:tt.pathname]),pathnameBase:tt.pathnameBase==="/"?E:zi([E,h.encodeLocation?h.encodeLocation(tt.pathnameBase).pathname:tt.pathnameBase])})),d,i,s,o);return e&&nt?q.createElement(Eo.Provider,{value:{location:{pathname:"/",search:"",hash:"",state:null,key:"default",...L},navigationType:"POP"}},nt):nt}function H1(){let r=Z1(),e=U1(r)?`${r.status} ${r.statusText}`:r instanceof Error?r.message:JSON.stringify(r),i=r instanceof Error?r.stack:null,s="rgba(200,200,200, 0.5)",o={padding:"0.5rem",backgroundColor:s},h={padding:"2px 4px",backgroundColor:s},d=null;return console.error("Error handled by React Router default ErrorBoundary:",r),d=q.createElement(q.Fragment,null,q.createElement("p",null,"💿 Hey developer 👋"),q.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",q.createElement("code",{style:h},"ErrorBoundary")," or"," ",q.createElement("code",{style:h},"errorElement")," prop on your route.")),q.createElement(q.Fragment,null,q.createElement("h2",null,"Unexpected Application Error!"),q.createElement("h3",{style:{fontStyle:"italic"}},e),i?q.createElement("pre",{style:o},i):null,d)}var j1=q.createElement(H1,null),F1=class extends q.Component{constructor(r){super(r),this.state={location:r.location,revalidation:r.revalidation,error:r.error}}static getDerivedStateFromError(r){return{error:r}}static getDerivedStateFromProps(r,e){return e.location!==r.location||e.revalidation!=="idle"&&r.revalidation==="idle"?{error:r.error,location:r.location,revalidation:r.revalidation}:{error:r.error!==void 0?r.error:e.error,location:e.location,revalidation:r.revalidation||e.revalidation}}componentDidCatch(r,e){this.props.unstable_onError?this.props.unstable_onError(r,e):console.error("React Router caught the following error during render",r)}render(){return this.state.error!==void 0?q.createElement(hi.Provider,{value:this.props.routeContext},q.createElement(qd.Provider,{value:this.state.error,children:this.props.component})):this.props.children}};function G1({routeContext:r,match:e,children:i}){let s=q.useContext(ks);return s&&s.static&&s.staticContext&&(e.route.errorElement||e.route.ErrorBoundary)&&(s.staticContext._deepestRenderedBoundaryId=e.route.id),q.createElement(hi.Provider,{value:r},i)}function Q1(r,e=[],i=null,s=null,o=null){if(r==null){if(!i)return null;if(i.errors)r=i.matches;else if(e.length===0&&!i.initialized&&i.matches.length>0)r=i.matches;else return null}let h=r,d=i?.errors;if(d!=null){let y=h.findIndex(E=>E.route.id&&d?.[E.route.id]!==void 0);ae(y>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(d).join(",")}`),h=h.slice(0,Math.min(h.length,y+1))}let p=!1,g=-1;if(i)for(let y=0;y<h.length;y++){let E=h[y];if((E.route.HydrateFallback||E.route.hydrateFallbackElement)&&(g=y),E.route.id){let{loaderData:S,errors:R}=i,L=E.route.loader&&!S.hasOwnProperty(E.route.id)&&(!R||R[E.route.id]===void 0);if(E.route.lazy||L){p=!0,g>=0?h=h.slice(0,g+1):h=[h[0]];break}}}return h.reduceRight((y,E,S)=>{let R,L=!1,G=null,$=null;i&&(R=d&&E.route.id?d[E.route.id]:void 0,G=E.route.errorElement||j1,p&&(g<0&&S===0?(Sv("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),L=!0,$=null):g===S&&(L=!0,$=E.route.hydrateFallbackElement||null)));let H=e.concat(h.slice(0,S+1)),nt=()=>{let tt;return R?tt=G:L?tt=$:E.route.Component?tt=q.createElement(E.route.Component,null):E.route.element?tt=E.route.element:tt=y,q.createElement(G1,{match:E,routeContext:{outlet:y,matches:H,isDataRoute:i!=null},children:tt})};return i&&(E.route.ErrorBoundary||E.route.errorElement||S===0)?q.createElement(F1,{location:i.location,revalidation:i.revalidation,component:G,error:R,children:nt(),routeContext:{outlet:null,matches:H,isDataRoute:!0},unstable_onError:s}):nt()},null)}function Hd(r){return`${r} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function Y1(r){let e=q.useContext(ks);return ae(e,Hd(r)),e}function K1(r){let e=q.useContext(Mc);return ae(e,Hd(r)),e}function X1(r){let e=q.useContext(hi);return ae(e,Hd(r)),e}function jd(r){let e=X1(r),i=e.matches[e.matches.length-1];return ae(i.route.id,`${r} can only be used on routes that contain a unique "id"`),i.route.id}function $1(){return jd("useRouteId")}function Z1(){let r=q.useContext(qd),e=K1("useRouteError"),i=jd("useRouteError");return r!==void 0?r:e.errors?.[i]}function J1(){let{router:r}=Y1("useNavigate"),e=jd("useNavigate"),i=q.useRef(!1);return Ev(()=>{i.current=!0}),q.useCallback(async(o,h={})=>{Pn(i.current,vv),i.current&&(typeof o=="number"?r.navigate(o):await r.navigate(o,{fromRouteId:e,...h}))},[r,e])}var Yy={};function Sv(r,e,i){!e&&!Yy[r]&&(Yy[r]=!0,Pn(!1,i))}q.memo(W1);function W1({routes:r,future:e,state:i,unstable_onError:s}){return Av(r,void 0,i,s,e)}function Ky({to:r,replace:e,state:i,relative:s}){ae(zs(),"<Navigate> may be used only in the context of a <Router> component.");let{static:o}=q.useContext(kn);Pn(!o,"<Navigate> must not be used on the initial render in a <StaticRouter>. This is a no-op, but you should modify your code so the <Navigate> is only ever rendered in response to some user interaction or state change.");let{matches:h}=q.useContext(hi),{pathname:d}=xr(),p=Tv(),g=Bd(r,zd(h),d,s==="path"),y=JSON.stringify(g);return q.useEffect(()=>{p(JSON.parse(y),{replace:e,state:i,relative:s})},[p,y,s,e,i]),null}function Ss(r){ae(!1,"A <Route> is only ever to be used as the child of <Routes> element, never rendered directly. Please wrap your <Route> in a <Routes>.")}function tA({basename:r="/",children:e=null,location:i,navigationType:s="POP",navigator:o,static:h=!1}){ae(!zs(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let d=r.replace(/^\/*/,"/"),p=q.useMemo(()=>({basename:d,navigator:o,static:h,future:{}}),[d,o,h]);typeof i=="string"&&(i=Ps(i));let{pathname:g="/",search:y="",hash:E="",state:S=null,key:R="default"}=i,L=q.useMemo(()=>{let G=Bi(g,d);return G==null?null:{location:{pathname:G,search:y,hash:E,state:S,key:R},navigationType:s}},[d,g,y,E,S,R,s]);return Pn(L!=null,`<Router basename="${d}"> is not able to match the URL "${g}${y}${E}" because it does not start with the basename, so the <Router> won't render anything.`),L==null?null:q.createElement(kn.Provider,{value:p},q.createElement(Eo.Provider,{children:e,value:L}))}function eA({children:r,location:e}){return q1(pd(r),e)}function pd(r,e=[]){let i=[];return q.Children.forEach(r,(s,o)=>{if(!q.isValidElement(s))return;let h=[...e,o];if(s.type===q.Fragment){i.push.apply(i,pd(s.props.children,h));return}ae(s.type===Ss,`[${typeof s.type=="string"?s.type:s.type.name}] is not a <Route> component. All component children of <Routes> must be a <Route> or <React.Fragment>`),ae(!s.props.index||!s.props.children,"An index route cannot have child routes.");let d={id:s.props.id||h.join("-"),caseSensitive:s.props.caseSensitive,element:s.props.element,Component:s.props.Component,index:s.props.index,path:s.props.path,loader:s.props.loader,action:s.props.action,hydrateFallbackElement:s.props.hydrateFallbackElement,HydrateFallback:s.props.HydrateFallback,errorElement:s.props.errorElement,ErrorBoundary:s.props.ErrorBoundary,hasErrorBoundary:s.props.hasErrorBoundary===!0||s.props.ErrorBoundary!=null||s.props.errorElement!=null,shouldRevalidate:s.props.shouldRevalidate,handle:s.props.handle,lazy:s.props.lazy};s.props.children&&(d.children=pd(s.props.children,h)),i.push(d)}),i}var sc="get",lc="application/x-www-form-urlencoded";function xc(r){return r!=null&&typeof r.tagName=="string"}function nA(r){return xc(r)&&r.tagName.toLowerCase()==="button"}function iA(r){return xc(r)&&r.tagName.toLowerCase()==="form"}function rA(r){return xc(r)&&r.tagName.toLowerCase()==="input"}function aA(r){return!!(r.metaKey||r.altKey||r.ctrlKey||r.shiftKey)}function sA(r,e){return r.button===0&&(!e||e==="_self")&&!aA(r)}var Ju=null;function lA(){if(Ju===null)try{new FormData(document.createElement("form"),0),Ju=!1}catch{Ju=!0}return Ju}var oA=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function id(r){return r!=null&&!oA.has(r)?(Pn(!1,`"${r}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${lc}"`),null):r}function uA(r,e){let i,s,o,h,d;if(iA(r)){let p=r.getAttribute("action");s=p?Bi(p,e):null,i=r.getAttribute("method")||sc,o=id(r.getAttribute("enctype"))||lc,h=new FormData(r)}else if(nA(r)||rA(r)&&(r.type==="submit"||r.type==="image")){let p=r.form;if(p==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let g=r.getAttribute("formaction")||p.getAttribute("action");if(s=g?Bi(g,e):null,i=r.getAttribute("formmethod")||p.getAttribute("method")||sc,o=id(r.getAttribute("formenctype"))||id(p.getAttribute("enctype"))||lc,h=new FormData(p,r),!lA()){let{name:y,type:E,value:S}=r;if(E==="image"){let R=y?`${y}.`:"";h.append(`${R}x`,"0"),h.append(`${R}y`,"0")}else y&&h.append(y,S)}}else{if(xc(r))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');i=sc,s=null,o=lc,d=r}return h&&o==="text/plain"&&(d=h,h=void 0),{action:s,method:i.toLowerCase(),encType:o,formData:h,body:d}}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");function Fd(r,e){if(r===!1||r===null||typeof r>"u")throw new Error(e)}function cA(r,e,i){let s=typeof r=="string"?new URL(r,typeof window>"u"?"server://singlefetch/":window.location.origin):r;return s.pathname==="/"?s.pathname=`_root.${i}`:e&&Bi(s.pathname,e)==="/"?s.pathname=`${e.replace(/\/$/,"")}/_root.${i}`:s.pathname=`${s.pathname.replace(/\/$/,"")}.${i}`,s}async function hA(r,e){if(r.id in e)return e[r.id];try{let i=await import(r.module);return e[r.id]=i,i}catch(i){return console.error(`Error loading route module \`${r.module}\`, reloading page...`),console.error(i),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function fA(r){return r==null?!1:r.href==null?r.rel==="preload"&&typeof r.imageSrcSet=="string"&&typeof r.imageSizes=="string":typeof r.rel=="string"&&typeof r.href=="string"}async function dA(r,e,i){let s=await Promise.all(r.map(async o=>{let h=e.routes[o.route.id];if(h){let d=await hA(h,i);return d.links?d.links():[]}return[]}));return yA(s.flat(1).filter(fA).filter(o=>o.rel==="stylesheet"||o.rel==="preload").map(o=>o.rel==="stylesheet"?{...o,rel:"prefetch",as:"style"}:{...o,rel:"prefetch"}))}function Xy(r,e,i,s,o,h){let d=(g,y)=>i[y]?g.route.id!==i[y].route.id:!0,p=(g,y)=>i[y].pathname!==g.pathname||i[y].route.path?.endsWith("*")&&i[y].params["*"]!==g.params["*"];return h==="assets"?e.filter((g,y)=>d(g,y)||p(g,y)):h==="data"?e.filter((g,y)=>{let E=s.routes[g.route.id];if(!E||!E.hasLoader)return!1;if(d(g,y)||p(g,y))return!0;if(g.route.shouldRevalidate){let S=g.route.shouldRevalidate({currentUrl:new URL(o.pathname+o.search+o.hash,window.origin),currentParams:i[0]?.params||{},nextUrl:new URL(r,window.origin),nextParams:g.params,defaultShouldRevalidate:!0});if(typeof S=="boolean")return S}return!0}):[]}function mA(r,e,{includeHydrateFallback:i}={}){return pA(r.map(s=>{let o=e.routes[s.route.id];if(!o)return[];let h=[o.module];return o.clientActionModule&&(h=h.concat(o.clientActionModule)),o.clientLoaderModule&&(h=h.concat(o.clientLoaderModule)),i&&o.hydrateFallbackModule&&(h=h.concat(o.hydrateFallbackModule)),o.imports&&(h=h.concat(o.imports)),h}).flat(1))}function pA(r){return[...new Set(r)]}function gA(r){let e={},i=Object.keys(r).sort();for(let s of i)e[s]=r[s];return e}function yA(r,e){let i=new Set;return new Set(e),r.reduce((s,o)=>{let h=JSON.stringify(gA(o));return i.has(h)||(i.add(h),s.push({key:h,link:o})),s},[])}function bv(){let r=q.useContext(ks);return Fd(r,"You must render this element inside a <DataRouterContext.Provider> element"),r}function _A(){let r=q.useContext(Mc);return Fd(r,"You must render this element inside a <DataRouterStateContext.Provider> element"),r}var Gd=q.createContext(void 0);Gd.displayName="FrameworkContext";function Rv(){let r=q.useContext(Gd);return Fd(r,"You must render this element inside a <HydratedRouter> element"),r}function vA(r,e){let i=q.useContext(Gd),[s,o]=q.useState(!1),[h,d]=q.useState(!1),{onFocus:p,onBlur:g,onMouseEnter:y,onMouseLeave:E,onTouchStart:S}=e,R=q.useRef(null);q.useEffect(()=>{if(r==="render"&&d(!0),r==="viewport"){let $=nt=>{nt.forEach(tt=>{d(tt.isIntersecting)})},H=new IntersectionObserver($,{threshold:.5});return R.current&&H.observe(R.current),()=>{H.disconnect()}}},[r]),q.useEffect(()=>{if(s){let $=setTimeout(()=>{d(!0)},100);return()=>{clearTimeout($)}}},[s]);let L=()=>{o(!0)},G=()=>{o(!1),d(!1)};return i?r!=="intent"?[h,R,{}]:[h,R,{onFocus:Wl(p,L),onBlur:Wl(g,G),onMouseEnter:Wl(y,L),onMouseLeave:Wl(E,G),onTouchStart:Wl(S,L)}]:[!1,R,{}]}function Wl(r,e){return i=>{r&&r(i),i.defaultPrevented||e(i)}}function EA({page:r,...e}){let{router:i}=bv(),s=q.useMemo(()=>mv(i.routes,r,i.basename),[i.routes,r,i.basename]);return s?q.createElement(AA,{page:r,matches:s,...e}):null}function TA(r){let{manifest:e,routeModules:i}=Rv(),[s,o]=q.useState([]);return q.useEffect(()=>{let h=!1;return dA(r,e,i).then(d=>{h||o(d)}),()=>{h=!0}},[r,e,i]),s}function AA({page:r,matches:e,...i}){let s=xr(),{manifest:o,routeModules:h}=Rv(),{basename:d}=bv(),{loaderData:p,matches:g}=_A(),y=q.useMemo(()=>Xy(r,e,g,o,s,"data"),[r,e,g,o,s]),E=q.useMemo(()=>Xy(r,e,g,o,s,"assets"),[r,e,g,o,s]),S=q.useMemo(()=>{if(r===s.pathname+s.search+s.hash)return[];let G=new Set,$=!1;if(e.forEach(nt=>{let tt=o.routes[nt.route.id];!tt||!tt.hasLoader||(!y.some(it=>it.route.id===nt.route.id)&&nt.route.id in p&&h[nt.route.id]?.shouldRevalidate||tt.hasClientLoader?$=!0:G.add(nt.route.id))}),G.size===0)return[];let H=cA(r,d,"data");return $&&G.size>0&&H.searchParams.set("_routes",e.filter(nt=>G.has(nt.route.id)).map(nt=>nt.route.id).join(",")),[H.pathname+H.search]},[d,p,s,o,y,e,r,h]),R=q.useMemo(()=>mA(E,o),[E,o]),L=TA(E);return q.createElement(q.Fragment,null,S.map(G=>q.createElement("link",{key:G,rel:"prefetch",as:"fetch",href:G,...i})),R.map(G=>q.createElement("link",{key:G,rel:"modulepreload",href:G,...i})),L.map(({key:G,link:$})=>q.createElement("link",{key:G,nonce:i.nonce,...$})))}function SA(...r){return e=>{r.forEach(i=>{typeof i=="function"?i(e):i!=null&&(i.current=e)})}}var wv=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";try{wv&&(window.__reactRouterVersion="7.9.1")}catch{}function bA({basename:r,children:e,window:i}){let s=q.useRef();s.current==null&&(s.current=f1({window:i,v5Compat:!0}));let o=s.current,[h,d]=q.useState({action:o.action,location:o.location}),p=q.useCallback(g=>{q.startTransition(()=>d(g))},[d]);return q.useLayoutEffect(()=>o.listen(p),[o,p]),q.createElement(tA,{basename:r,children:e,location:h.location,navigationType:h.action,navigator:o})}var Cv=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,Dv=q.forwardRef(function({onClick:e,discover:i="render",prefetch:s="none",relative:o,reloadDocument:h,replace:d,state:p,target:g,to:y,preventScrollReset:E,viewTransition:S,...R},L){let{basename:G}=q.useContext(kn),$=typeof y=="string"&&Cv.test(y),H,nt=!1;if(typeof y=="string"&&$&&(H=y,wv))try{let w=new URL(window.location.href),O=y.startsWith("//")?new URL(w.protocol+y):new URL(y),x=Bi(O.pathname,G);O.origin===w.origin&&x!=null?y=x+O.search+O.hash:nt=!0}catch{Pn(!1,`<Link to="${y}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}let tt=z1(y,{relative:o}),[it,ft,ot]=vA(s,R),St=CA(y,{replace:d,state:p,target:g,preventScrollReset:E,relative:o,viewTransition:S});function M(w){e&&e(w),w.defaultPrevented||St(w)}let b=q.createElement("a",{...R,...ot,href:H||tt,onClick:nt||h?e:M,ref:SA(L,ft),target:g,"data-discover":!$&&i==="render"?"true":void 0});return it&&!$?q.createElement(q.Fragment,null,b,q.createElement(EA,{page:tt})):b});Dv.displayName="Link";var oc=q.forwardRef(function({"aria-current":e="page",caseSensitive:i=!1,className:s="",end:o=!1,style:h,to:d,viewTransition:p,children:g,...y},E){let S=To(d,{relative:y.relative}),R=xr(),L=q.useContext(Mc),{navigator:G,basename:$}=q.useContext(kn),H=L!=null&&OA(S)&&p===!0,nt=G.encodeLocation?G.encodeLocation(S).pathname:S.pathname,tt=R.pathname,it=L&&L.navigation&&L.navigation.location?L.navigation.location.pathname:null;i||(tt=tt.toLowerCase(),it=it?it.toLowerCase():null,nt=nt.toLowerCase()),it&&$&&(it=Bi(it,$)||it);const ft=nt!=="/"&&nt.endsWith("/")?nt.length-1:nt.length;let ot=tt===nt||!o&&tt.startsWith(nt)&&tt.charAt(ft)==="/",St=it!=null&&(it===nt||!o&&it.startsWith(nt)&&it.charAt(nt.length)==="/"),M={isActive:ot,isPending:St,isTransitioning:H},b=ot?e:void 0,w;typeof s=="function"?w=s(M):w=[s,ot?"active":null,St?"pending":null,H?"transitioning":null].filter(Boolean).join(" ");let O=typeof h=="function"?h(M):h;return q.createElement(Dv,{...y,"aria-current":b,className:w,ref:E,style:O,to:d,viewTransition:p},typeof g=="function"?g(M):g)});oc.displayName="NavLink";var RA=q.forwardRef(({discover:r="render",fetcherKey:e,navigate:i,reloadDocument:s,replace:o,state:h,method:d=sc,action:p,onSubmit:g,relative:y,preventScrollReset:E,viewTransition:S,...R},L)=>{let G=IA(),$=VA(p,{relative:y}),H=d.toLowerCase()==="get"?"get":"post",nt=typeof p=="string"&&Cv.test(p),tt=it=>{if(g&&g(it),it.defaultPrevented)return;it.preventDefault();let ft=it.nativeEvent.submitter,ot=ft?.getAttribute("formmethod")||d;G(ft||it.currentTarget,{fetcherKey:e,method:ot,navigate:i,replace:o,state:h,relative:y,preventScrollReset:E,viewTransition:S})};return q.createElement("form",{ref:L,method:H,action:$,onSubmit:s?g:tt,...R,"data-discover":!nt&&r==="render"?"true":void 0})});RA.displayName="Form";function wA(r){return`${r} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function Nv(r){let e=q.useContext(ks);return ae(e,wA(r)),e}function CA(r,{target:e,replace:i,state:s,preventScrollReset:o,relative:h,viewTransition:d}={}){let p=Tv(),g=xr(),y=To(r,{relative:h});return q.useCallback(E=>{if(sA(E,e)){E.preventDefault();let S=i!==void 0?i:uo(g)===uo(y);p(r,{replace:S,state:s,preventScrollReset:o,relative:h,viewTransition:d})}},[g,p,y,i,s,e,r,o,h,d])}var DA=0,NA=()=>`__${String(++DA)}__`;function IA(){let{router:r}=Nv("useSubmit"),{basename:e}=q.useContext(kn),i=$1();return q.useCallback(async(s,o={})=>{let{action:h,method:d,encType:p,formData:g,body:y}=uA(s,e);if(o.navigate===!1){let E=o.fetcherKey||NA();await r.fetch(E,i,o.action||h,{preventScrollReset:o.preventScrollReset,formData:g,body:y,formMethod:o.method||d,formEncType:o.encType||p,flushSync:o.flushSync})}else await r.navigate(o.action||h,{preventScrollReset:o.preventScrollReset,formData:g,body:y,formMethod:o.method||d,formEncType:o.encType||p,replace:o.replace,state:o.state,fromRouteId:i,flushSync:o.flushSync,viewTransition:o.viewTransition})},[r,e,i])}function VA(r,{relative:e}={}){let{basename:i}=q.useContext(kn),s=q.useContext(hi);ae(s,"useFormAction must be used inside a RouteContext");let[o]=s.matches.slice(-1),h={...To(r||".",{relative:e})},d=xr();if(r==null){h.search=d.search;let p=new URLSearchParams(h.search),g=p.getAll("index");if(g.some(E=>E==="")){p.delete("index"),g.filter(S=>S).forEach(S=>p.append("index",S));let E=p.toString();h.search=E?`?${E}`:""}}return(!r||r===".")&&o.route.index&&(h.search=h.search?h.search.replace(/^\?/,"?index&"):"?index"),i!=="/"&&(h.pathname=h.pathname==="/"?i:zi([i,h.pathname])),uo(h)}function OA(r,{relative:e}={}){let i=q.useContext(_v);ae(i!=null,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:s}=Nv("useViewTransitionState"),o=To(r,{relative:e});if(!i.isTransitioning)return!1;let h=Bi(i.currentLocation.pathname,s)||i.currentLocation.pathname,d=Bi(i.nextLocation.pathname,s)||i.nextLocation.pathname;return pc(o.pathname,d)!=null||pc(o.pathname,h)!=null}const MA=()=>{};var $y={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Iv=function(r){const e=[];let i=0;for(let s=0;s<r.length;s++){let o=r.charCodeAt(s);o<128?e[i++]=o:o<2048?(e[i++]=o>>6|192,e[i++]=o&63|128):(o&64512)===55296&&s+1<r.length&&(r.charCodeAt(s+1)&64512)===56320?(o=65536+((o&1023)<<10)+(r.charCodeAt(++s)&1023),e[i++]=o>>18|240,e[i++]=o>>12&63|128,e[i++]=o>>6&63|128,e[i++]=o&63|128):(e[i++]=o>>12|224,e[i++]=o>>6&63|128,e[i++]=o&63|128)}return e},xA=function(r){const e=[];let i=0,s=0;for(;i<r.length;){const o=r[i++];if(o<128)e[s++]=String.fromCharCode(o);else if(o>191&&o<224){const h=r[i++];e[s++]=String.fromCharCode((o&31)<<6|h&63)}else if(o>239&&o<365){const h=r[i++],d=r[i++],p=r[i++],g=((o&7)<<18|(h&63)<<12|(d&63)<<6|p&63)-65536;e[s++]=String.fromCharCode(55296+(g>>10)),e[s++]=String.fromCharCode(56320+(g&1023))}else{const h=r[i++],d=r[i++];e[s++]=String.fromCharCode((o&15)<<12|(h&63)<<6|d&63)}}return e.join("")},Vv={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(r,e){if(!Array.isArray(r))throw Error("encodeByteArray takes an array as a parameter");this.init_();const i=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,s=[];for(let o=0;o<r.length;o+=3){const h=r[o],d=o+1<r.length,p=d?r[o+1]:0,g=o+2<r.length,y=g?r[o+2]:0,E=h>>2,S=(h&3)<<4|p>>4;let R=(p&15)<<2|y>>6,L=y&63;g||(L=64,d||(R=64)),s.push(i[E],i[S],i[R],i[L])}return s.join("")},encodeString(r,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(r):this.encodeByteArray(Iv(r),e)},decodeString(r,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(r):xA(this.decodeStringToByteArray(r,e))},decodeStringToByteArray(r,e){this.init_();const i=e?this.charToByteMapWebSafe_:this.charToByteMap_,s=[];for(let o=0;o<r.length;){const h=i[r.charAt(o++)],p=o<r.length?i[r.charAt(o)]:0;++o;const y=o<r.length?i[r.charAt(o)]:64;++o;const S=o<r.length?i[r.charAt(o)]:64;if(++o,h==null||p==null||y==null||S==null)throw new UA;const R=h<<2|p>>4;if(s.push(R),y!==64){const L=p<<4&240|y>>2;if(s.push(L),S!==64){const G=y<<6&192|S;s.push(G)}}}return s},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let r=0;r<this.ENCODED_VALS.length;r++)this.byteToCharMap_[r]=this.ENCODED_VALS.charAt(r),this.charToByteMap_[this.byteToCharMap_[r]]=r,this.byteToCharMapWebSafe_[r]=this.ENCODED_VALS_WEBSAFE.charAt(r),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[r]]=r,r>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(r)]=r,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(r)]=r)}}};class UA extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const LA=function(r){const e=Iv(r);return Vv.encodeByteArray(e,!0)},gc=function(r){return LA(r).replace(/\./g,"")},PA=function(r){try{return Vv.decodeString(r,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function kA(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const zA=()=>kA().__FIREBASE_DEFAULTS__,BA=()=>{if(typeof process>"u"||typeof $y>"u")return;const r=$y.__FIREBASE_DEFAULTS__;if(r)return JSON.parse(r)},qA=()=>{if(typeof document>"u")return;let r;try{r=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=r&&PA(r[1]);return e&&JSON.parse(e)},Qd=()=>{try{return MA()||zA()||BA()||qA()}catch(r){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${r}`);return}},HA=r=>Qd()?.emulatorHosts?.[r],Ov=r=>{const e=HA(r);if(!e)return;const i=e.lastIndexOf(":");if(i<=0||i+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const s=parseInt(e.substring(i+1),10);return e[0]==="["?[e.substring(1,i-1),s]:[e.substring(0,i),s]},Mv=()=>Qd()?.config;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jA{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,i)=>{this.resolve=e,this.reject=i})}wrapCallback(e){return(i,s)=>{i?this.reject(i):this.resolve(s),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(i):e(i,s))}}}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Uc(r){try{return(r.startsWith("http://")||r.startsWith("https://")?new URL(r).hostname:r).endsWith(".cloudworkstations.dev")}catch{return!1}}async function xv(r){return(await fetch(r,{credentials:"include"})).ok}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Uv(r,e){if(r.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const i={alg:"none",type:"JWT"},s=e||"demo-project",o=r.iat||0,h=r.sub||r.user_id;if(!h)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const d={iss:`https://securetoken.google.com/${s}`,aud:s,iat:o,exp:o+3600,auth_time:o,sub:h,user_id:h,firebase:{sign_in_provider:"custom",identities:{}},...r};return[gc(JSON.stringify(i)),gc(JSON.stringify(d)),""].join(".")}const ro={};function FA(){const r={prod:[],emulator:[]};for(const e of Object.keys(ro))ro[e]?r.emulator.push(e):r.prod.push(e);return r}function GA(r){let e=document.getElementById(r),i=!1;return e||(e=document.createElement("div"),e.setAttribute("id",r),i=!0),{created:i,element:e}}let Zy=!1;function Lv(r,e){if(typeof window>"u"||typeof document>"u"||!Uc(window.location.host)||ro[r]===e||ro[r]||Zy)return;ro[r]=e;function i(R){return`__firebase__banner__${R}`}const s="__firebase__banner",h=FA().prod.length>0;function d(){const R=document.getElementById(s);R&&R.remove()}function p(R){R.style.display="flex",R.style.background="#7faaf0",R.style.position="fixed",R.style.bottom="5px",R.style.left="5px",R.style.padding=".5em",R.style.borderRadius="5px",R.style.alignItems="center"}function g(R,L){R.setAttribute("width","24"),R.setAttribute("id",L),R.setAttribute("height","24"),R.setAttribute("viewBox","0 0 24 24"),R.setAttribute("fill","none"),R.style.marginLeft="-6px"}function y(){const R=document.createElement("span");return R.style.cursor="pointer",R.style.marginLeft="16px",R.style.fontSize="24px",R.innerHTML=" &times;",R.onclick=()=>{Zy=!0,d()},R}function E(R,L){R.setAttribute("id",L),R.innerText="Learn more",R.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",R.setAttribute("target","__blank"),R.style.paddingLeft="5px",R.style.textDecoration="underline"}function S(){const R=GA(s),L=i("text"),G=document.getElementById(L)||document.createElement("span"),$=i("learnmore"),H=document.getElementById($)||document.createElement("a"),nt=i("preprendIcon"),tt=document.getElementById(nt)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(R.created){const it=R.element;p(it),E(H,$);const ft=y();g(tt,nt),it.append(tt,G,H,ft),document.body.appendChild(it)}h?(G.innerText="Preview backend disconnected.",tt.innerHTML=`<g clip-path="url(#clip0_6013_33858)">
<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6013_33858">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`):(tt.innerHTML=`<g clip-path="url(#clip0_6083_34804)">
<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6083_34804">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`,G.innerText="Preview backend running in this workspace."),G.setAttribute("id",L)}document.readyState==="loading"?window.addEventListener("DOMContentLoaded",S):S()}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function QA(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function YA(){const r=Qd()?.forceEnvironment;if(r==="node")return!0;if(r==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function KA(){return!YA()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function XA(){try{return typeof indexedDB=="object"}catch{return!1}}function $A(){return new Promise((r,e)=>{try{let i=!0;const s="validate-browser-context-for-indexeddb-analytics-module",o=self.indexedDB.open(s);o.onsuccess=()=>{o.result.close(),i||self.indexedDB.deleteDatabase(s),r(!0)},o.onupgradeneeded=()=>{i=!1},o.onerror=()=>{e(o.error?.message||"")}}catch(i){e(i)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ZA="FirebaseError";class Ra extends Error{constructor(e,i,s){super(i),this.code=e,this.customData=s,this.name=ZA,Object.setPrototypeOf(this,Ra.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,Pv.prototype.create)}}class Pv{constructor(e,i,s){this.service=e,this.serviceName=i,this.errors=s}create(e,...i){const s=i[0]||{},o=`${this.service}/${e}`,h=this.errors[e],d=h?JA(h,s):"Error",p=`${this.serviceName}: ${d} (${o}).`;return new Ra(o,p,s)}}function JA(r,e){return r.replace(WA,(i,s)=>{const o=e[s];return o!=null?String(o):`<${s}?>`})}const WA=/\{\$([^}]+)}/g;function yc(r,e){if(r===e)return!0;const i=Object.keys(r),s=Object.keys(e);for(const o of i){if(!s.includes(o))return!1;const h=r[o],d=e[o];if(Jy(h)&&Jy(d)){if(!yc(h,d))return!1}else if(h!==d)return!1}for(const o of s)if(!i.includes(o))return!1;return!0}function Jy(r){return r!==null&&typeof r=="object"}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Aa(r){return r&&r._delegate?r._delegate:r}class Ns{constructor(e,i,s){this.name=e,this.instanceFactory=i,this.type=s,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _a="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tS{constructor(e,i){this.name=e,this.container=i,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const i=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(i)){const s=new jA;if(this.instancesDeferred.set(i,s),this.isInitialized(i)||this.shouldAutoInitialize())try{const o=this.getOrInitializeService({instanceIdentifier:i});o&&s.resolve(o)}catch{}}return this.instancesDeferred.get(i).promise}getImmediate(e){const i=this.normalizeInstanceIdentifier(e?.identifier),s=e?.optional??!1;if(this.isInitialized(i)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:i})}catch(o){if(s)return null;throw o}else{if(s)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(nS(e))try{this.getOrInitializeService({instanceIdentifier:_a})}catch{}for(const[i,s]of this.instancesDeferred.entries()){const o=this.normalizeInstanceIdentifier(i);try{const h=this.getOrInitializeService({instanceIdentifier:o});s.resolve(h)}catch{}}}}clearInstance(e=_a){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(i=>"INTERNAL"in i).map(i=>i.INTERNAL.delete()),...e.filter(i=>"_delete"in i).map(i=>i._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=_a){return this.instances.has(e)}getOptions(e=_a){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:i={}}=e,s=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(s))throw Error(`${this.name}(${s}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const o=this.getOrInitializeService({instanceIdentifier:s,options:i});for(const[h,d]of this.instancesDeferred.entries()){const p=this.normalizeInstanceIdentifier(h);s===p&&d.resolve(o)}return o}onInit(e,i){const s=this.normalizeInstanceIdentifier(i),o=this.onInitCallbacks.get(s)??new Set;o.add(e),this.onInitCallbacks.set(s,o);const h=this.instances.get(s);return h&&e(h,s),()=>{o.delete(e)}}invokeOnInitCallbacks(e,i){const s=this.onInitCallbacks.get(i);if(s)for(const o of s)try{o(e,i)}catch{}}getOrInitializeService({instanceIdentifier:e,options:i={}}){let s=this.instances.get(e);if(!s&&this.component&&(s=this.component.instanceFactory(this.container,{instanceIdentifier:eS(e),options:i}),this.instances.set(e,s),this.instancesOptions.set(e,i),this.invokeOnInitCallbacks(s,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,s)}catch{}return s||null}normalizeInstanceIdentifier(e=_a){return this.component?this.component.multipleInstances?e:_a:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function eS(r){return r===_a?void 0:r}function nS(r){return r.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class iS{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const i=this.getProvider(e.name);if(i.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);i.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const i=new tS(e,this);return this.providers.set(e,i),i}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var kt;(function(r){r[r.DEBUG=0]="DEBUG",r[r.VERBOSE=1]="VERBOSE",r[r.INFO=2]="INFO",r[r.WARN=3]="WARN",r[r.ERROR=4]="ERROR",r[r.SILENT=5]="SILENT"})(kt||(kt={}));const rS={debug:kt.DEBUG,verbose:kt.VERBOSE,info:kt.INFO,warn:kt.WARN,error:kt.ERROR,silent:kt.SILENT},aS=kt.INFO,sS={[kt.DEBUG]:"log",[kt.VERBOSE]:"log",[kt.INFO]:"info",[kt.WARN]:"warn",[kt.ERROR]:"error"},lS=(r,e,...i)=>{if(e<r.logLevel)return;const s=new Date().toISOString(),o=sS[e];if(o)console[o](`[${s}]  ${r.name}:`,...i);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class kv{constructor(e){this.name=e,this._logLevel=aS,this._logHandler=lS,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in kt))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?rS[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,kt.DEBUG,...e),this._logHandler(this,kt.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,kt.VERBOSE,...e),this._logHandler(this,kt.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,kt.INFO,...e),this._logHandler(this,kt.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,kt.WARN,...e),this._logHandler(this,kt.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,kt.ERROR,...e),this._logHandler(this,kt.ERROR,...e)}}const oS=(r,e)=>e.some(i=>r instanceof i);let Wy,t_;function uS(){return Wy||(Wy=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function cS(){return t_||(t_=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const zv=new WeakMap,gd=new WeakMap,Bv=new WeakMap,rd=new WeakMap,Yd=new WeakMap;function hS(r){const e=new Promise((i,s)=>{const o=()=>{r.removeEventListener("success",h),r.removeEventListener("error",d)},h=()=>{i(Er(r.result)),o()},d=()=>{s(r.error),o()};r.addEventListener("success",h),r.addEventListener("error",d)});return e.then(i=>{i instanceof IDBCursor&&zv.set(i,r)}).catch(()=>{}),Yd.set(e,r),e}function fS(r){if(gd.has(r))return;const e=new Promise((i,s)=>{const o=()=>{r.removeEventListener("complete",h),r.removeEventListener("error",d),r.removeEventListener("abort",d)},h=()=>{i(),o()},d=()=>{s(r.error||new DOMException("AbortError","AbortError")),o()};r.addEventListener("complete",h),r.addEventListener("error",d),r.addEventListener("abort",d)});gd.set(r,e)}let yd={get(r,e,i){if(r instanceof IDBTransaction){if(e==="done")return gd.get(r);if(e==="objectStoreNames")return r.objectStoreNames||Bv.get(r);if(e==="store")return i.objectStoreNames[1]?void 0:i.objectStore(i.objectStoreNames[0])}return Er(r[e])},set(r,e,i){return r[e]=i,!0},has(r,e){return r instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in r}};function dS(r){yd=r(yd)}function mS(r){return r===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...i){const s=r.call(ad(this),e,...i);return Bv.set(s,e.sort?e.sort():[e]),Er(s)}:cS().includes(r)?function(...e){return r.apply(ad(this),e),Er(zv.get(this))}:function(...e){return Er(r.apply(ad(this),e))}}function pS(r){return typeof r=="function"?mS(r):(r instanceof IDBTransaction&&fS(r),oS(r,uS())?new Proxy(r,yd):r)}function Er(r){if(r instanceof IDBRequest)return hS(r);if(rd.has(r))return rd.get(r);const e=pS(r);return e!==r&&(rd.set(r,e),Yd.set(e,r)),e}const ad=r=>Yd.get(r);function gS(r,e,{blocked:i,upgrade:s,blocking:o,terminated:h}={}){const d=indexedDB.open(r,e),p=Er(d);return s&&d.addEventListener("upgradeneeded",g=>{s(Er(d.result),g.oldVersion,g.newVersion,Er(d.transaction),g)}),i&&d.addEventListener("blocked",g=>i(g.oldVersion,g.newVersion,g)),p.then(g=>{h&&g.addEventListener("close",()=>h()),o&&g.addEventListener("versionchange",y=>o(y.oldVersion,y.newVersion,y))}).catch(()=>{}),p}const yS=["get","getKey","getAll","getAllKeys","count"],_S=["put","add","delete","clear"],sd=new Map;function e_(r,e){if(!(r instanceof IDBDatabase&&!(e in r)&&typeof e=="string"))return;if(sd.get(e))return sd.get(e);const i=e.replace(/FromIndex$/,""),s=e!==i,o=_S.includes(i);if(!(i in(s?IDBIndex:IDBObjectStore).prototype)||!(o||yS.includes(i)))return;const h=async function(d,...p){const g=this.transaction(d,o?"readwrite":"readonly");let y=g.store;return s&&(y=y.index(p.shift())),(await Promise.all([y[i](...p),o&&g.done]))[0]};return sd.set(e,h),h}dS(r=>({...r,get:(e,i,s)=>e_(e,i)||r.get(e,i,s),has:(e,i)=>!!e_(e,i)||r.has(e,i)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vS{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(i=>{if(ES(i)){const s=i.getImmediate();return`${s.library}/${s.version}`}else return null}).filter(i=>i).join(" ")}}function ES(r){return r.getComponent()?.type==="VERSION"}const _d="@firebase/app",n_="0.14.2";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const qi=new kv("@firebase/app"),TS="@firebase/app-compat",AS="@firebase/analytics-compat",SS="@firebase/analytics",bS="@firebase/app-check-compat",RS="@firebase/app-check",wS="@firebase/auth",CS="@firebase/auth-compat",DS="@firebase/database",NS="@firebase/data-connect",IS="@firebase/database-compat",VS="@firebase/functions",OS="@firebase/functions-compat",MS="@firebase/installations",xS="@firebase/installations-compat",US="@firebase/messaging",LS="@firebase/messaging-compat",PS="@firebase/performance",kS="@firebase/performance-compat",zS="@firebase/remote-config",BS="@firebase/remote-config-compat",qS="@firebase/storage",HS="@firebase/storage-compat",jS="@firebase/firestore",FS="@firebase/ai",GS="@firebase/firestore-compat",QS="firebase",YS="12.2.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const vd="[DEFAULT]",KS={[_d]:"fire-core",[TS]:"fire-core-compat",[SS]:"fire-analytics",[AS]:"fire-analytics-compat",[RS]:"fire-app-check",[bS]:"fire-app-check-compat",[wS]:"fire-auth",[CS]:"fire-auth-compat",[DS]:"fire-rtdb",[NS]:"fire-data-connect",[IS]:"fire-rtdb-compat",[VS]:"fire-fn",[OS]:"fire-fn-compat",[MS]:"fire-iid",[xS]:"fire-iid-compat",[US]:"fire-fcm",[LS]:"fire-fcm-compat",[PS]:"fire-perf",[kS]:"fire-perf-compat",[zS]:"fire-rc",[BS]:"fire-rc-compat",[qS]:"fire-gcs",[HS]:"fire-gcs-compat",[jS]:"fire-fst",[GS]:"fire-fst-compat",[FS]:"fire-vertex","fire-js":"fire-js",[QS]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _c=new Map,XS=new Map,Ed=new Map;function i_(r,e){try{r.container.addComponent(e)}catch(i){qi.debug(`Component ${e.name} failed to register with FirebaseApp ${r.name}`,i)}}function co(r){const e=r.name;if(Ed.has(e))return qi.debug(`There were multiple attempts to register component ${e}.`),!1;Ed.set(e,r);for(const i of _c.values())i_(i,r);for(const i of XS.values())i_(i,r);return!0}function qv(r,e){const i=r.container.getProvider("heartbeat").getImmediate({optional:!0});return i&&i.triggerHeartbeat(),r.container.getProvider(e)}function Hv(r){return r==null?!1:r.settings!==void 0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $S={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},Tr=new Pv("app","Firebase",$S);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ZS{constructor(e,i,s){this._isDeleted=!1,this._options={...e},this._config={...i},this._name=i.name,this._automaticDataCollectionEnabled=i.automaticDataCollectionEnabled,this._container=s,this.container.addComponent(new Ns("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw Tr.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const jv=YS;function Fv(r,e={}){let i=r;typeof e!="object"&&(e={name:e});const s={name:vd,automaticDataCollectionEnabled:!0,...e},o=s.name;if(typeof o!="string"||!o)throw Tr.create("bad-app-name",{appName:String(o)});if(i||(i=Mv()),!i)throw Tr.create("no-options");const h=_c.get(o);if(h){if(yc(i,h.options)&&yc(s,h.config))return h;throw Tr.create("duplicate-app",{appName:o})}const d=new iS(o);for(const g of Ed.values())d.addComponent(g);const p=new ZS(i,s,d);return _c.set(o,p),p}function Gv(r=vd){const e=_c.get(r);if(!e&&r===vd&&Mv())return Fv();if(!e)throw Tr.create("no-app",{appName:r});return e}function Ar(r,e,i){let s=KS[r]??r;i&&(s+=`-${i}`);const o=s.match(/\s|\//),h=e.match(/\s|\//);if(o||h){const d=[`Unable to register library "${s}" with version "${e}":`];o&&d.push(`library name "${s}" contains illegal characters (whitespace or "/")`),o&&h&&d.push("and"),h&&d.push(`version name "${e}" contains illegal characters (whitespace or "/")`),qi.warn(d.join(" "));return}co(new Ns(`${s}-version`,()=>({library:s,version:e}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const JS="firebase-heartbeat-database",WS=1,ho="firebase-heartbeat-store";let ld=null;function Qv(){return ld||(ld=gS(JS,WS,{upgrade:(r,e)=>{switch(e){case 0:try{r.createObjectStore(ho)}catch(i){console.warn(i)}}}}).catch(r=>{throw Tr.create("idb-open",{originalErrorMessage:r.message})})),ld}async function tb(r){try{const i=(await Qv()).transaction(ho),s=await i.objectStore(ho).get(Yv(r));return await i.done,s}catch(e){if(e instanceof Ra)qi.warn(e.message);else{const i=Tr.create("idb-get",{originalErrorMessage:e?.message});qi.warn(i.message)}}}async function r_(r,e){try{const s=(await Qv()).transaction(ho,"readwrite");await s.objectStore(ho).put(e,Yv(r)),await s.done}catch(i){if(i instanceof Ra)qi.warn(i.message);else{const s=Tr.create("idb-set",{originalErrorMessage:i?.message});qi.warn(s.message)}}}function Yv(r){return`${r.name}!${r.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const eb=1024,nb=30;class ib{constructor(e){this.container=e,this._heartbeatsCache=null;const i=this.container.getProvider("app").getImmediate();this._storage=new ab(i),this._heartbeatsCachePromise=this._storage.read().then(s=>(this._heartbeatsCache=s,s))}async triggerHeartbeat(){try{const i=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),s=a_();if(this._heartbeatsCache?.heartbeats==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null)||this._heartbeatsCache.lastSentHeartbeatDate===s||this._heartbeatsCache.heartbeats.some(o=>o.date===s))return;if(this._heartbeatsCache.heartbeats.push({date:s,agent:i}),this._heartbeatsCache.heartbeats.length>nb){const o=sb(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(o,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(e){qi.warn(e)}}async getHeartbeatsHeader(){try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null||this._heartbeatsCache.heartbeats.length===0)return"";const e=a_(),{heartbeatsToSend:i,unsentEntries:s}=rb(this._heartbeatsCache.heartbeats),o=gc(JSON.stringify({version:2,heartbeats:i}));return this._heartbeatsCache.lastSentHeartbeatDate=e,s.length>0?(this._heartbeatsCache.heartbeats=s,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),o}catch(e){return qi.warn(e),""}}}function a_(){return new Date().toISOString().substring(0,10)}function rb(r,e=eb){const i=[];let s=r.slice();for(const o of r){const h=i.find(d=>d.agent===o.agent);if(h){if(h.dates.push(o.date),s_(i)>e){h.dates.pop();break}}else if(i.push({agent:o.agent,dates:[o.date]}),s_(i)>e){i.pop();break}s=s.slice(1)}return{heartbeatsToSend:i,unsentEntries:s}}class ab{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return XA()?$A().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const i=await tb(this.app);return i?.heartbeats?i:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){if(await this._canUseIndexedDBPromise){const s=await this.read();return r_(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??s.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){if(await this._canUseIndexedDBPromise){const s=await this.read();return r_(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??s.lastSentHeartbeatDate,heartbeats:[...s.heartbeats,...e.heartbeats]})}else return}}function s_(r){return gc(JSON.stringify({version:2,heartbeats:r})).length}function sb(r){if(r.length===0)return-1;let e=0,i=r[0].date;for(let s=1;s<r.length;s++)r[s].date<i&&(i=r[s].date,e=s);return e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function lb(r){co(new Ns("platform-logger",e=>new vS(e),"PRIVATE")),co(new Ns("heartbeat",e=>new ib(e),"PRIVATE")),Ar(_d,n_,r),Ar(_d,n_,"esm2020"),Ar("fire-js","")}lb("");var l_=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var Sr,Kv;(function(){var r;/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/function e(M,b){function w(){}w.prototype=b.prototype,M.D=b.prototype,M.prototype=new w,M.prototype.constructor=M,M.C=function(O,x,I){for(var C=Array(arguments.length-2),Jt=2;Jt<arguments.length;Jt++)C[Jt-2]=arguments[Jt];return b.prototype[x].apply(O,C)}}function i(){this.blockSize=-1}function s(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.B=Array(this.blockSize),this.o=this.h=0,this.s()}e(s,i),s.prototype.s=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function o(M,b,w){w||(w=0);var O=Array(16);if(typeof b=="string")for(var x=0;16>x;++x)O[x]=b.charCodeAt(w++)|b.charCodeAt(w++)<<8|b.charCodeAt(w++)<<16|b.charCodeAt(w++)<<24;else for(x=0;16>x;++x)O[x]=b[w++]|b[w++]<<8|b[w++]<<16|b[w++]<<24;b=M.g[0],w=M.g[1],x=M.g[2];var I=M.g[3],C=b+(I^w&(x^I))+O[0]+3614090360&4294967295;b=w+(C<<7&4294967295|C>>>25),C=I+(x^b&(w^x))+O[1]+3905402710&4294967295,I=b+(C<<12&4294967295|C>>>20),C=x+(w^I&(b^w))+O[2]+606105819&4294967295,x=I+(C<<17&4294967295|C>>>15),C=w+(b^x&(I^b))+O[3]+3250441966&4294967295,w=x+(C<<22&4294967295|C>>>10),C=b+(I^w&(x^I))+O[4]+4118548399&4294967295,b=w+(C<<7&4294967295|C>>>25),C=I+(x^b&(w^x))+O[5]+1200080426&4294967295,I=b+(C<<12&4294967295|C>>>20),C=x+(w^I&(b^w))+O[6]+2821735955&4294967295,x=I+(C<<17&4294967295|C>>>15),C=w+(b^x&(I^b))+O[7]+4249261313&4294967295,w=x+(C<<22&4294967295|C>>>10),C=b+(I^w&(x^I))+O[8]+1770035416&4294967295,b=w+(C<<7&4294967295|C>>>25),C=I+(x^b&(w^x))+O[9]+2336552879&4294967295,I=b+(C<<12&4294967295|C>>>20),C=x+(w^I&(b^w))+O[10]+4294925233&4294967295,x=I+(C<<17&4294967295|C>>>15),C=w+(b^x&(I^b))+O[11]+2304563134&4294967295,w=x+(C<<22&4294967295|C>>>10),C=b+(I^w&(x^I))+O[12]+1804603682&4294967295,b=w+(C<<7&4294967295|C>>>25),C=I+(x^b&(w^x))+O[13]+4254626195&4294967295,I=b+(C<<12&4294967295|C>>>20),C=x+(w^I&(b^w))+O[14]+2792965006&4294967295,x=I+(C<<17&4294967295|C>>>15),C=w+(b^x&(I^b))+O[15]+1236535329&4294967295,w=x+(C<<22&4294967295|C>>>10),C=b+(x^I&(w^x))+O[1]+4129170786&4294967295,b=w+(C<<5&4294967295|C>>>27),C=I+(w^x&(b^w))+O[6]+3225465664&4294967295,I=b+(C<<9&4294967295|C>>>23),C=x+(b^w&(I^b))+O[11]+643717713&4294967295,x=I+(C<<14&4294967295|C>>>18),C=w+(I^b&(x^I))+O[0]+3921069994&4294967295,w=x+(C<<20&4294967295|C>>>12),C=b+(x^I&(w^x))+O[5]+3593408605&4294967295,b=w+(C<<5&4294967295|C>>>27),C=I+(w^x&(b^w))+O[10]+38016083&4294967295,I=b+(C<<9&4294967295|C>>>23),C=x+(b^w&(I^b))+O[15]+3634488961&4294967295,x=I+(C<<14&4294967295|C>>>18),C=w+(I^b&(x^I))+O[4]+3889429448&4294967295,w=x+(C<<20&4294967295|C>>>12),C=b+(x^I&(w^x))+O[9]+568446438&4294967295,b=w+(C<<5&4294967295|C>>>27),C=I+(w^x&(b^w))+O[14]+3275163606&4294967295,I=b+(C<<9&4294967295|C>>>23),C=x+(b^w&(I^b))+O[3]+4107603335&4294967295,x=I+(C<<14&4294967295|C>>>18),C=w+(I^b&(x^I))+O[8]+1163531501&4294967295,w=x+(C<<20&4294967295|C>>>12),C=b+(x^I&(w^x))+O[13]+2850285829&4294967295,b=w+(C<<5&4294967295|C>>>27),C=I+(w^x&(b^w))+O[2]+4243563512&4294967295,I=b+(C<<9&4294967295|C>>>23),C=x+(b^w&(I^b))+O[7]+1735328473&4294967295,x=I+(C<<14&4294967295|C>>>18),C=w+(I^b&(x^I))+O[12]+2368359562&4294967295,w=x+(C<<20&4294967295|C>>>12),C=b+(w^x^I)+O[5]+4294588738&4294967295,b=w+(C<<4&4294967295|C>>>28),C=I+(b^w^x)+O[8]+2272392833&4294967295,I=b+(C<<11&4294967295|C>>>21),C=x+(I^b^w)+O[11]+1839030562&4294967295,x=I+(C<<16&4294967295|C>>>16),C=w+(x^I^b)+O[14]+4259657740&4294967295,w=x+(C<<23&4294967295|C>>>9),C=b+(w^x^I)+O[1]+2763975236&4294967295,b=w+(C<<4&4294967295|C>>>28),C=I+(b^w^x)+O[4]+1272893353&4294967295,I=b+(C<<11&4294967295|C>>>21),C=x+(I^b^w)+O[7]+4139469664&4294967295,x=I+(C<<16&4294967295|C>>>16),C=w+(x^I^b)+O[10]+3200236656&4294967295,w=x+(C<<23&4294967295|C>>>9),C=b+(w^x^I)+O[13]+681279174&4294967295,b=w+(C<<4&4294967295|C>>>28),C=I+(b^w^x)+O[0]+3936430074&4294967295,I=b+(C<<11&4294967295|C>>>21),C=x+(I^b^w)+O[3]+3572445317&4294967295,x=I+(C<<16&4294967295|C>>>16),C=w+(x^I^b)+O[6]+76029189&4294967295,w=x+(C<<23&4294967295|C>>>9),C=b+(w^x^I)+O[9]+3654602809&4294967295,b=w+(C<<4&4294967295|C>>>28),C=I+(b^w^x)+O[12]+3873151461&4294967295,I=b+(C<<11&4294967295|C>>>21),C=x+(I^b^w)+O[15]+530742520&4294967295,x=I+(C<<16&4294967295|C>>>16),C=w+(x^I^b)+O[2]+3299628645&4294967295,w=x+(C<<23&4294967295|C>>>9),C=b+(x^(w|~I))+O[0]+4096336452&4294967295,b=w+(C<<6&4294967295|C>>>26),C=I+(w^(b|~x))+O[7]+1126891415&4294967295,I=b+(C<<10&4294967295|C>>>22),C=x+(b^(I|~w))+O[14]+2878612391&4294967295,x=I+(C<<15&4294967295|C>>>17),C=w+(I^(x|~b))+O[5]+4237533241&4294967295,w=x+(C<<21&4294967295|C>>>11),C=b+(x^(w|~I))+O[12]+1700485571&4294967295,b=w+(C<<6&4294967295|C>>>26),C=I+(w^(b|~x))+O[3]+2399980690&4294967295,I=b+(C<<10&4294967295|C>>>22),C=x+(b^(I|~w))+O[10]+4293915773&4294967295,x=I+(C<<15&4294967295|C>>>17),C=w+(I^(x|~b))+O[1]+2240044497&4294967295,w=x+(C<<21&4294967295|C>>>11),C=b+(x^(w|~I))+O[8]+1873313359&4294967295,b=w+(C<<6&4294967295|C>>>26),C=I+(w^(b|~x))+O[15]+4264355552&4294967295,I=b+(C<<10&4294967295|C>>>22),C=x+(b^(I|~w))+O[6]+2734768916&4294967295,x=I+(C<<15&4294967295|C>>>17),C=w+(I^(x|~b))+O[13]+1309151649&4294967295,w=x+(C<<21&4294967295|C>>>11),C=b+(x^(w|~I))+O[4]+4149444226&4294967295,b=w+(C<<6&4294967295|C>>>26),C=I+(w^(b|~x))+O[11]+3174756917&4294967295,I=b+(C<<10&4294967295|C>>>22),C=x+(b^(I|~w))+O[2]+718787259&4294967295,x=I+(C<<15&4294967295|C>>>17),C=w+(I^(x|~b))+O[9]+3951481745&4294967295,M.g[0]=M.g[0]+b&4294967295,M.g[1]=M.g[1]+(x+(C<<21&4294967295|C>>>11))&4294967295,M.g[2]=M.g[2]+x&4294967295,M.g[3]=M.g[3]+I&4294967295}s.prototype.u=function(M,b){b===void 0&&(b=M.length);for(var w=b-this.blockSize,O=this.B,x=this.h,I=0;I<b;){if(x==0)for(;I<=w;)o(this,M,I),I+=this.blockSize;if(typeof M=="string"){for(;I<b;)if(O[x++]=M.charCodeAt(I++),x==this.blockSize){o(this,O),x=0;break}}else for(;I<b;)if(O[x++]=M[I++],x==this.blockSize){o(this,O),x=0;break}}this.h=x,this.o+=b},s.prototype.v=function(){var M=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);M[0]=128;for(var b=1;b<M.length-8;++b)M[b]=0;var w=8*this.o;for(b=M.length-8;b<M.length;++b)M[b]=w&255,w/=256;for(this.u(M),M=Array(16),b=w=0;4>b;++b)for(var O=0;32>O;O+=8)M[w++]=this.g[b]>>>O&255;return M};function h(M,b){var w=p;return Object.prototype.hasOwnProperty.call(w,M)?w[M]:w[M]=b(M)}function d(M,b){this.h=b;for(var w=[],O=!0,x=M.length-1;0<=x;x--){var I=M[x]|0;O&&I==b||(w[x]=I,O=!1)}this.g=w}var p={};function g(M){return-128<=M&&128>M?h(M,function(b){return new d([b|0],0>b?-1:0)}):new d([M|0],0>M?-1:0)}function y(M){if(isNaN(M)||!isFinite(M))return S;if(0>M)return H(y(-M));for(var b=[],w=1,O=0;M>=w;O++)b[O]=M/w|0,w*=4294967296;return new d(b,0)}function E(M,b){if(M.length==0)throw Error("number format error: empty string");if(b=b||10,2>b||36<b)throw Error("radix out of range: "+b);if(M.charAt(0)=="-")return H(E(M.substring(1),b));if(0<=M.indexOf("-"))throw Error('number format error: interior "-" character');for(var w=y(Math.pow(b,8)),O=S,x=0;x<M.length;x+=8){var I=Math.min(8,M.length-x),C=parseInt(M.substring(x,x+I),b);8>I?(I=y(Math.pow(b,I)),O=O.j(I).add(y(C))):(O=O.j(w),O=O.add(y(C)))}return O}var S=g(0),R=g(1),L=g(16777216);r=d.prototype,r.m=function(){if($(this))return-H(this).m();for(var M=0,b=1,w=0;w<this.g.length;w++){var O=this.i(w);M+=(0<=O?O:4294967296+O)*b,b*=4294967296}return M},r.toString=function(M){if(M=M||10,2>M||36<M)throw Error("radix out of range: "+M);if(G(this))return"0";if($(this))return"-"+H(this).toString(M);for(var b=y(Math.pow(M,6)),w=this,O="";;){var x=ft(w,b).g;w=nt(w,x.j(b));var I=((0<w.g.length?w.g[0]:w.h)>>>0).toString(M);if(w=x,G(w))return I+O;for(;6>I.length;)I="0"+I;O=I+O}},r.i=function(M){return 0>M?0:M<this.g.length?this.g[M]:this.h};function G(M){if(M.h!=0)return!1;for(var b=0;b<M.g.length;b++)if(M.g[b]!=0)return!1;return!0}function $(M){return M.h==-1}r.l=function(M){return M=nt(this,M),$(M)?-1:G(M)?0:1};function H(M){for(var b=M.g.length,w=[],O=0;O<b;O++)w[O]=~M.g[O];return new d(w,~M.h).add(R)}r.abs=function(){return $(this)?H(this):this},r.add=function(M){for(var b=Math.max(this.g.length,M.g.length),w=[],O=0,x=0;x<=b;x++){var I=O+(this.i(x)&65535)+(M.i(x)&65535),C=(I>>>16)+(this.i(x)>>>16)+(M.i(x)>>>16);O=C>>>16,I&=65535,C&=65535,w[x]=C<<16|I}return new d(w,w[w.length-1]&-2147483648?-1:0)};function nt(M,b){return M.add(H(b))}r.j=function(M){if(G(this)||G(M))return S;if($(this))return $(M)?H(this).j(H(M)):H(H(this).j(M));if($(M))return H(this.j(H(M)));if(0>this.l(L)&&0>M.l(L))return y(this.m()*M.m());for(var b=this.g.length+M.g.length,w=[],O=0;O<2*b;O++)w[O]=0;for(O=0;O<this.g.length;O++)for(var x=0;x<M.g.length;x++){var I=this.i(O)>>>16,C=this.i(O)&65535,Jt=M.i(x)>>>16,qt=M.i(x)&65535;w[2*O+2*x]+=C*qt,tt(w,2*O+2*x),w[2*O+2*x+1]+=I*qt,tt(w,2*O+2*x+1),w[2*O+2*x+1]+=C*Jt,tt(w,2*O+2*x+1),w[2*O+2*x+2]+=I*Jt,tt(w,2*O+2*x+2)}for(O=0;O<b;O++)w[O]=w[2*O+1]<<16|w[2*O];for(O=b;O<2*b;O++)w[O]=0;return new d(w,0)};function tt(M,b){for(;(M[b]&65535)!=M[b];)M[b+1]+=M[b]>>>16,M[b]&=65535,b++}function it(M,b){this.g=M,this.h=b}function ft(M,b){if(G(b))throw Error("division by zero");if(G(M))return new it(S,S);if($(M))return b=ft(H(M),b),new it(H(b.g),H(b.h));if($(b))return b=ft(M,H(b)),new it(H(b.g),b.h);if(30<M.g.length){if($(M)||$(b))throw Error("slowDivide_ only works with positive integers.");for(var w=R,O=b;0>=O.l(M);)w=ot(w),O=ot(O);var x=St(w,1),I=St(O,1);for(O=St(O,2),w=St(w,2);!G(O);){var C=I.add(O);0>=C.l(M)&&(x=x.add(w),I=C),O=St(O,1),w=St(w,1)}return b=nt(M,x.j(b)),new it(x,b)}for(x=S;0<=M.l(b);){for(w=Math.max(1,Math.floor(M.m()/b.m())),O=Math.ceil(Math.log(w)/Math.LN2),O=48>=O?1:Math.pow(2,O-48),I=y(w),C=I.j(b);$(C)||0<C.l(M);)w-=O,I=y(w),C=I.j(b);G(I)&&(I=R),x=x.add(I),M=nt(M,C)}return new it(x,M)}r.A=function(M){return ft(this,M).h},r.and=function(M){for(var b=Math.max(this.g.length,M.g.length),w=[],O=0;O<b;O++)w[O]=this.i(O)&M.i(O);return new d(w,this.h&M.h)},r.or=function(M){for(var b=Math.max(this.g.length,M.g.length),w=[],O=0;O<b;O++)w[O]=this.i(O)|M.i(O);return new d(w,this.h|M.h)},r.xor=function(M){for(var b=Math.max(this.g.length,M.g.length),w=[],O=0;O<b;O++)w[O]=this.i(O)^M.i(O);return new d(w,this.h^M.h)};function ot(M){for(var b=M.g.length+1,w=[],O=0;O<b;O++)w[O]=M.i(O)<<1|M.i(O-1)>>>31;return new d(w,M.h)}function St(M,b){var w=b>>5;b%=32;for(var O=M.g.length-w,x=[],I=0;I<O;I++)x[I]=0<b?M.i(I+w)>>>b|M.i(I+w+1)<<32-b:M.i(I+w);return new d(x,M.h)}s.prototype.digest=s.prototype.v,s.prototype.reset=s.prototype.s,s.prototype.update=s.prototype.u,Kv=s,d.prototype.add=d.prototype.add,d.prototype.multiply=d.prototype.j,d.prototype.modulo=d.prototype.A,d.prototype.compare=d.prototype.l,d.prototype.toNumber=d.prototype.m,d.prototype.toString=d.prototype.toString,d.prototype.getBits=d.prototype.i,d.fromNumber=y,d.fromString=E,Sr=d}).apply(typeof l_<"u"?l_:typeof self<"u"?self:typeof window<"u"?window:{});var Wu=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var Xv,to,$v,uc,Td,Zv,Jv,Wv;(function(){var r,e=typeof Object.defineProperties=="function"?Object.defineProperty:function(u,m,_){return u==Array.prototype||u==Object.prototype||(u[m]=_.value),u};function i(u){u=[typeof globalThis=="object"&&globalThis,u,typeof window=="object"&&window,typeof self=="object"&&self,typeof Wu=="object"&&Wu];for(var m=0;m<u.length;++m){var _=u[m];if(_&&_.Math==Math)return _}throw Error("Cannot find global object")}var s=i(this);function o(u,m){if(m)t:{var _=s;u=u.split(".");for(var A=0;A<u.length-1;A++){var P=u[A];if(!(P in _))break t;_=_[P]}u=u[u.length-1],A=_[u],m=m(A),m!=A&&m!=null&&e(_,u,{configurable:!0,writable:!0,value:m})}}function h(u,m){u instanceof String&&(u+="");var _=0,A=!1,P={next:function(){if(!A&&_<u.length){var Q=_++;return{value:m(Q,u[Q]),done:!1}}return A=!0,{done:!0,value:void 0}}};return P[Symbol.iterator]=function(){return P},P}o("Array.prototype.values",function(u){return u||function(){return h(this,function(m,_){return _})}});/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/var d=d||{},p=this||self;function g(u){var m=typeof u;return m=m!="object"?m:u?Array.isArray(u)?"array":m:"null",m=="array"||m=="object"&&typeof u.length=="number"}function y(u){var m=typeof u;return m=="object"&&u!=null||m=="function"}function E(u,m,_){return u.call.apply(u.bind,arguments)}function S(u,m,_){if(!u)throw Error();if(2<arguments.length){var A=Array.prototype.slice.call(arguments,2);return function(){var P=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(P,A),u.apply(m,P)}}return function(){return u.apply(m,arguments)}}function R(u,m,_){return R=Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?E:S,R.apply(null,arguments)}function L(u,m){var _=Array.prototype.slice.call(arguments,1);return function(){var A=_.slice();return A.push.apply(A,arguments),u.apply(this,A)}}function G(u,m){function _(){}_.prototype=m.prototype,u.aa=m.prototype,u.prototype=new _,u.prototype.constructor=u,u.Qb=function(A,P,Q){for(var st=Array(arguments.length-2),xt=2;xt<arguments.length;xt++)st[xt-2]=arguments[xt];return m.prototype[P].apply(A,st)}}function $(u){const m=u.length;if(0<m){const _=Array(m);for(let A=0;A<m;A++)_[A]=u[A];return _}return[]}function H(u,m){for(let _=1;_<arguments.length;_++){const A=arguments[_];if(g(A)){const P=u.length||0,Q=A.length||0;u.length=P+Q;for(let st=0;st<Q;st++)u[P+st]=A[st]}else u.push(A)}}class nt{constructor(m,_){this.i=m,this.j=_,this.h=0,this.g=null}get(){let m;return 0<this.h?(this.h--,m=this.g,this.g=m.next,m.next=null):m=this.i(),m}}function tt(u){return/^[\s\xa0]*$/.test(u)}function it(){var u=p.navigator;return u&&(u=u.userAgent)?u:""}function ft(u){return ft[" "](u),u}ft[" "]=function(){};var ot=it().indexOf("Gecko")!=-1&&!(it().toLowerCase().indexOf("webkit")!=-1&&it().indexOf("Edge")==-1)&&!(it().indexOf("Trident")!=-1||it().indexOf("MSIE")!=-1)&&it().indexOf("Edge")==-1;function St(u,m,_){for(const A in u)m.call(_,u[A],A,u)}function M(u,m){for(const _ in u)m.call(void 0,u[_],_,u)}function b(u){const m={};for(const _ in u)m[_]=u[_];return m}const w="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function O(u,m){let _,A;for(let P=1;P<arguments.length;P++){A=arguments[P];for(_ in A)u[_]=A[_];for(let Q=0;Q<w.length;Q++)_=w[Q],Object.prototype.hasOwnProperty.call(A,_)&&(u[_]=A[_])}}function x(u){var m=1;u=u.split(":");const _=[];for(;0<m&&u.length;)_.push(u.shift()),m--;return u.length&&_.push(u.join(":")),_}function I(u){p.setTimeout(()=>{throw u},0)}function C(){var u=ht;let m=null;return u.g&&(m=u.g,u.g=u.g.next,u.g||(u.h=null),m.next=null),m}class Jt{constructor(){this.h=this.g=null}add(m,_){const A=qt.get();A.set(m,_),this.h?this.h.next=A:this.g=A,this.h=A}}var qt=new nt(()=>new Y,u=>u.reset());class Y{constructor(){this.next=this.g=this.h=null}set(m,_){this.h=m,this.g=_,this.next=null}reset(){this.next=this.g=this.h=null}}let lt,pt=!1,ht=new Jt,N=()=>{const u=p.Promise.resolve(void 0);lt=()=>{u.then(Z)}};var Z=()=>{for(var u;u=C();){try{u.h.call(u.g)}catch(_){I(_)}var m=qt;m.j(u),100>m.h&&(m.h++,u.next=m.g,m.g=u)}pt=!1};function at(){this.s=this.s,this.C=this.C}at.prototype.s=!1,at.prototype.ma=function(){this.s||(this.s=!0,this.N())},at.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function rt(u,m){this.type=u,this.g=this.target=m,this.defaultPrevented=!1}rt.prototype.h=function(){this.defaultPrevented=!0};var dt=(function(){if(!p.addEventListener||!Object.defineProperty)return!1;var u=!1,m=Object.defineProperty({},"passive",{get:function(){u=!0}});try{const _=()=>{};p.addEventListener("test",_,m),p.removeEventListener("test",_,m)}catch{}return u})();function Dt(u,m){if(rt.call(this,u?u.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,u){var _=this.type=u.type,A=u.changedTouches&&u.changedTouches.length?u.changedTouches[0]:null;if(this.target=u.target||u.srcElement,this.g=m,m=u.relatedTarget){if(ot){t:{try{ft(m.nodeName);var P=!0;break t}catch{}P=!1}P||(m=null)}}else _=="mouseover"?m=u.fromElement:_=="mouseout"&&(m=u.toElement);this.relatedTarget=m,A?(this.clientX=A.clientX!==void 0?A.clientX:A.pageX,this.clientY=A.clientY!==void 0?A.clientY:A.pageY,this.screenX=A.screenX||0,this.screenY=A.screenY||0):(this.clientX=u.clientX!==void 0?u.clientX:u.pageX,this.clientY=u.clientY!==void 0?u.clientY:u.pageY,this.screenX=u.screenX||0,this.screenY=u.screenY||0),this.button=u.button,this.key=u.key||"",this.ctrlKey=u.ctrlKey,this.altKey=u.altKey,this.shiftKey=u.shiftKey,this.metaKey=u.metaKey,this.pointerId=u.pointerId||0,this.pointerType=typeof u.pointerType=="string"?u.pointerType:At[u.pointerType]||"",this.state=u.state,this.i=u,u.defaultPrevented&&Dt.aa.h.call(this)}}G(Dt,rt);var At={2:"touch",3:"pen",4:"mouse"};Dt.prototype.h=function(){Dt.aa.h.call(this);var u=this.i;u.preventDefault?u.preventDefault():u.returnValue=!1};var De="closure_listenable_"+(1e6*Math.random()|0),Wt=0;function zn(u,m,_,A,P){this.listener=u,this.proxy=null,this.src=m,this.type=_,this.capture=!!A,this.ha=P,this.key=++Wt,this.da=this.fa=!1}function Fi(u){u.da=!0,u.listener=null,u.proxy=null,u.src=null,u.ha=null}function di(u){this.src=u,this.g={},this.h=0}di.prototype.add=function(u,m,_,A,P){var Q=u.toString();u=this.g[Q],u||(u=this.g[Q]=[],this.h++);var st=Lr(u,m,A,P);return-1<st?(m=u[st],_||(m.fa=!1)):(m=new zn(m,this.src,Q,!!A,P),m.fa=_,u.push(m)),m};function Ur(u,m){var _=m.type;if(_ in u.g){var A=u.g[_],P=Array.prototype.indexOf.call(A,m,void 0),Q;(Q=0<=P)&&Array.prototype.splice.call(A,P,1),Q&&(Fi(m),u.g[_].length==0&&(delete u.g[_],u.h--))}}function Lr(u,m,_,A){for(var P=0;P<u.length;++P){var Q=u[P];if(!Q.da&&Q.listener==m&&Q.capture==!!_&&Q.ha==A)return P}return-1}var Pr="closure_lm_"+(1e6*Math.random()|0),Fs={};function Do(u,m,_,A,P){if(Array.isArray(m)){for(var Q=0;Q<m.length;Q++)Do(u,m[Q],_,A,P);return null}return _=No(_),u&&u[De]?u.K(m,_,y(A)?!!A.capture:!1,P):mn(u,m,_,!1,A,P)}function mn(u,m,_,A,P,Q){if(!m)throw Error("Invalid event type");var st=y(P)?!!P.capture:!!P,xt=Oa(u);if(xt||(u[Pr]=xt=new di(u)),_=xt.add(m,_,A,st,Q),_.proxy)return _;if(A=$c(),_.proxy=A,A.src=u,A.listener=_,u.addEventListener)dt||(P=st),P===void 0&&(P=!1),u.addEventListener(m.toString(),A,P);else if(u.attachEvent)u.attachEvent(kr(m.toString()),A);else if(u.addListener&&u.removeListener)u.addListener(A);else throw Error("addEventListener and attachEvent are unavailable.");return _}function $c(){function u(_){return m.call(u.src,u.listener,_)}const m=Zc;return u}function Gs(u,m,_,A,P){if(Array.isArray(m))for(var Q=0;Q<m.length;Q++)Gs(u,m[Q],_,A,P);else A=y(A)?!!A.capture:!!A,_=No(_),u&&u[De]?(u=u.i,m=String(m).toString(),m in u.g&&(Q=u.g[m],_=Lr(Q,_,A,P),-1<_&&(Fi(Q[_]),Array.prototype.splice.call(Q,_,1),Q.length==0&&(delete u.g[m],u.h--)))):u&&(u=Oa(u))&&(m=u.g[m.toString()],u=-1,m&&(u=Lr(m,_,A,P)),(_=-1<u?m[u]:null)&&Va(_))}function Va(u){if(typeof u!="number"&&u&&!u.da){var m=u.src;if(m&&m[De])Ur(m.i,u);else{var _=u.type,A=u.proxy;m.removeEventListener?m.removeEventListener(_,A,u.capture):m.detachEvent?m.detachEvent(kr(_),A):m.addListener&&m.removeListener&&m.removeListener(A),(_=Oa(m))?(Ur(_,u),_.h==0&&(_.src=null,m[Pr]=null)):Fi(u)}}}function kr(u){return u in Fs?Fs[u]:Fs[u]="on"+u}function Zc(u,m){if(u.da)u=!0;else{m=new Dt(m,this);var _=u.listener,A=u.ha||u.src;u.fa&&Va(u),u=_.call(A,m)}return u}function Oa(u){return u=u[Pr],u instanceof di?u:null}var Qs="__closure_events_fn_"+(1e9*Math.random()>>>0);function No(u){return typeof u=="function"?u:(u[Qs]||(u[Qs]=function(m){return u.handleEvent(m)}),u[Qs])}function oe(){at.call(this),this.i=new di(this),this.M=this,this.F=null}G(oe,at),oe.prototype[De]=!0,oe.prototype.removeEventListener=function(u,m,_,A){Gs(this,u,m,_,A)};function Ft(u,m){var _,A=u.F;if(A)for(_=[];A;A=A.F)_.push(A);if(u=u.M,A=m.type||m,typeof m=="string")m=new rt(m,u);else if(m instanceof rt)m.target=m.target||u;else{var P=m;m=new rt(A,u),O(m,P)}if(P=!0,_)for(var Q=_.length-1;0<=Q;Q--){var st=m.g=_[Q];P=an(st,A,!0,m)&&P}if(st=m.g=u,P=an(st,A,!0,m)&&P,P=an(st,A,!1,m)&&P,_)for(Q=0;Q<_.length;Q++)st=m.g=_[Q],P=an(st,A,!1,m)&&P}oe.prototype.N=function(){if(oe.aa.N.call(this),this.i){var u=this.i,m;for(m in u.g){for(var _=u.g[m],A=0;A<_.length;A++)Fi(_[A]);delete u.g[m],u.h--}}this.F=null},oe.prototype.K=function(u,m,_,A){return this.i.add(String(u),m,!1,_,A)},oe.prototype.L=function(u,m,_,A){return this.i.add(String(u),m,!0,_,A)};function an(u,m,_,A){if(m=u.i.g[String(m)],!m)return!0;m=m.concat();for(var P=!0,Q=0;Q<m.length;++Q){var st=m[Q];if(st&&!st.da&&st.capture==_){var xt=st.listener,Ae=st.ha||st.src;st.fa&&Ur(u.i,st),P=xt.call(Ae,A)!==!1&&P}}return P&&!A.defaultPrevented}function Fe(u,m,_){if(typeof u=="function")_&&(u=R(u,_));else if(u&&typeof u.handleEvent=="function")u=R(u.handleEvent,u);else throw Error("Invalid listener argument");return 2147483647<Number(m)?-1:p.setTimeout(u,m||0)}function Io(u){u.g=Fe(()=>{u.g=null,u.i&&(u.i=!1,Io(u))},u.l);const m=u.h;u.h=null,u.m.apply(null,m)}class Jc extends at{constructor(m,_){super(),this.m=m,this.l=_,this.h=null,this.i=!1,this.g=null}j(m){this.h=arguments,this.g?this.i=!0:Io(this)}N(){super.N(),this.g&&(p.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function zr(u){at.call(this),this.h=u,this.g={}}G(zr,at);var Br=[];function qr(u){St(u.g,function(m,_){this.g.hasOwnProperty(_)&&Va(m)},u),u.g={}}zr.prototype.N=function(){zr.aa.N.call(this),qr(this)},zr.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var Nn=p.JSON.stringify,Ma=p.JSON.parse,Hr=class{stringify(u){return p.JSON.stringify(u,void 0)}parse(u){return p.JSON.parse(u,void 0)}};function Ys(){}Ys.prototype.h=null;function Ks(u){return u.h||(u.h=u.i())}function Xs(){}var mi={OPEN:"a",kb:"b",Ja:"c",wb:"d"};function pi(){rt.call(this,"d")}G(pi,rt);function $s(){rt.call(this,"c")}G($s,rt);var Bn={},Zs=null;function Gi(){return Zs=Zs||new oe}Bn.La="serverreachability";function xa(u){rt.call(this,Bn.La,u)}G(xa,rt);function Qi(u){const m=Gi();Ft(m,new xa(m))}Bn.STAT_EVENT="statevent";function Vo(u,m){rt.call(this,Bn.STAT_EVENT,u),this.stat=m}G(Vo,rt);function ie(u){const m=Gi();Ft(m,new Vo(m,u))}Bn.Ma="timingevent";function Te(u,m){rt.call(this,Bn.Ma,u),this.size=m}G(Te,rt);function pe(u,m){if(typeof u!="function")throw Error("Fn must not be null and must be a function");return p.setTimeout(function(){u()},m)}function pn(){this.g=!0}pn.prototype.xa=function(){this.g=!1};function Js(u,m,_,A,P,Q){u.info(function(){if(u.g)if(Q)for(var st="",xt=Q.split("&"),Ae=0;Ae<xt.length;Ae++){var Ut=xt[Ae].split("=");if(1<Ut.length){var Ie=Ut[0];Ut=Ut[1];var Se=Ie.split("_");st=2<=Se.length&&Se[1]=="type"?st+(Ie+"="+Ut+"&"):st+(Ie+"=redacted&")}}else st=null;else st=Q;return"XMLHTTP REQ ("+A+") [attempt "+P+"]: "+m+`
`+_+`
`+st})}function Wc(u,m,_,A,P,Q,st){u.info(function(){return"XMLHTTP RESP ("+A+") [ attempt "+P+"]: "+m+`
`+_+`
`+Q+" "+st})}function Yi(u,m,_,A){u.info(function(){return"XMLHTTP TEXT ("+m+"): "+jr(u,_)+(A?" "+A:"")})}function Oo(u,m){u.info(function(){return"TIMEOUT: "+m})}pn.prototype.info=function(){};function jr(u,m){if(!u.g)return m;if(!m)return null;try{var _=JSON.parse(m);if(_){for(u=0;u<_.length;u++)if(Array.isArray(_[u])){var A=_[u];if(!(2>A.length)){var P=A[1];if(Array.isArray(P)&&!(1>P.length)){var Q=P[0];if(Q!="noop"&&Q!="stop"&&Q!="close")for(var st=1;st<P.length;st++)P[st]=""}}}}return Nn(_)}catch{return m}}var Ki={NO_ERROR:0,gb:1,tb:2,sb:3,nb:4,rb:5,ub:6,Ia:7,TIMEOUT:8,xb:9},gi={lb:"complete",Hb:"success",Ja:"error",Ia:"abort",zb:"ready",Ab:"readystatechange",TIMEOUT:"timeout",vb:"incrementaldata",yb:"progress",ob:"downloadprogress",Pb:"uploadprogress"},qn;function Hn(){}G(Hn,Ys),Hn.prototype.g=function(){return new XMLHttpRequest},Hn.prototype.i=function(){return{}},qn=new Hn;function $e(u,m,_,A){this.j=u,this.i=m,this.l=_,this.R=A||1,this.U=new zr(this),this.I=45e3,this.H=null,this.o=!1,this.m=this.A=this.v=this.L=this.F=this.S=this.B=null,this.D=[],this.g=null,this.C=0,this.s=this.u=null,this.X=-1,this.J=!1,this.O=0,this.M=null,this.W=this.K=this.T=this.P=!1,this.h=new he}function he(){this.i=null,this.g="",this.h=!1}var Ws={},Ua={};function In(u,m,_){u.L=1,u.v=Kr(sn(m)),u.m=_,u.P=!0,yi(u,null)}function yi(u,m){u.F=Date.now(),Fr(u),u.A=sn(u.v);var _=u.A,A=u.R;Array.isArray(A)||(A=[String(A)]),al(_.i,"t",A),u.C=0,_=u.j.J,u.h=new he,u.g=Ko(u.j,_?m:null,!u.m),0<u.O&&(u.M=new Jc(R(u.Y,u,u.g),u.O)),m=u.U,_=u.g,A=u.ca;var P="readystatechange";Array.isArray(P)||(P&&(Br[0]=P.toString()),P=Br);for(var Q=0;Q<P.length;Q++){var st=Do(_,P[Q],A||m.handleEvent,!1,m.h||m);if(!st)break;m.g[st.key]=st}m=u.H?b(u.H):{},u.m?(u.u||(u.u="POST"),m["Content-Type"]="application/x-www-form-urlencoded",u.g.ea(u.A,u.u,u.m,m)):(u.u="GET",u.g.ea(u.A,u.u,null,m)),Qi(),Js(u.i,u.u,u.A,u.l,u.R,u.m)}$e.prototype.ca=function(u){u=u.target;const m=this.M;m&&vn(u)==3?m.j():this.Y(u)},$e.prototype.Y=function(u){try{if(u==this.g)t:{const Se=vn(this.g);var m=this.g.Ba();const Ri=this.g.Z();if(!(3>Se)&&(Se!=3||this.g&&(this.h.h||this.g.oa()||Bo(this.g)))){this.J||Se!=4||m==7||(m==8||0>=Ri?Qi(3):Qi(2)),Xi(this);var _=this.g.Z();this.X=_;e:if(Mo(this)){var A=Bo(this.g);u="";var P=A.length,Q=vn(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){Le(this),jn(this);var st="";break e}this.h.i=new p.TextDecoder}for(m=0;m<P;m++)this.h.h=!0,u+=this.h.i.decode(A[m],{stream:!(Q&&m==P-1)});A.length=0,this.h.g+=u,this.C=0,st=this.h.g}else st=this.g.oa();if(this.o=_==200,Wc(this.i,this.u,this.A,this.l,this.R,Se,_),this.o){if(this.T&&!this.K){e:{if(this.g){var xt,Ae=this.g;if((xt=Ae.g?Ae.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!tt(xt)){var Ut=xt;break e}}Ut=null}if(_=Ut)Yi(this.i,this.l,_,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,Gr(this,_);else{this.o=!1,this.s=3,ie(12),Le(this),jn(this);break t}}if(this.P){_=!0;let Pe;for(;!this.J&&this.C<st.length;)if(Pe=xo(this,st),Pe==Ua){Se==4&&(this.s=4,ie(14),_=!1),Yi(this.i,this.l,null,"[Incomplete Response]");break}else if(Pe==Ws){this.s=4,ie(15),Yi(this.i,this.l,st,"[Invalid Chunk]"),_=!1;break}else Yi(this.i,this.l,Pe,null),Gr(this,Pe);if(Mo(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),Se!=4||st.length!=0||this.h.h||(this.s=1,ie(16),_=!1),this.o=this.o&&_,!_)Yi(this.i,this.l,st,"[Invalid Chunked Response]"),Le(this),jn(this);else if(0<st.length&&!this.W){this.W=!0;var Ie=this.j;Ie.g==this&&Ie.ba&&!Ie.M&&(Ie.j.info("Great, no buffering proxy detected. Bytes received: "+st.length),na(Ie),Ie.M=!0,ie(11))}}else Yi(this.i,this.l,st,null),Gr(this,st);Se==4&&Le(this),this.o&&!this.J&&(Se==4?Go(this.j,this):(this.o=!1,Fr(this)))}else rh(this.g),_==400&&0<st.indexOf("Unknown SID")?(this.s=3,ie(12)):(this.s=0,ie(13)),Le(this),jn(this)}}}catch{}finally{}};function Mo(u){return u.g?u.u=="GET"&&u.L!=2&&u.j.Ca:!1}function xo(u,m){var _=u.C,A=m.indexOf(`
`,_);return A==-1?Ua:(_=Number(m.substring(_,A)),isNaN(_)?Ws:(A+=1,A+_>m.length?Ua:(m=m.slice(A,A+_),u.C=A+_,m)))}$e.prototype.cancel=function(){this.J=!0,Le(this)};function Fr(u){u.S=Date.now()+u.I,Uo(u,u.I)}function Uo(u,m){if(u.B!=null)throw Error("WatchDog timer not null");u.B=pe(R(u.ba,u),m)}function Xi(u){u.B&&(p.clearTimeout(u.B),u.B=null)}$e.prototype.ba=function(){this.B=null;const u=Date.now();0<=u-this.S?(Oo(this.i,this.A),this.L!=2&&(Qi(),ie(17)),Le(this),this.s=2,jn(this)):Uo(this,this.S-u)};function jn(u){u.j.G==0||u.J||Go(u.j,u)}function Le(u){Xi(u);var m=u.M;m&&typeof m.ma=="function"&&m.ma(),u.M=null,qr(u.U),u.g&&(m=u.g,u.g=null,m.abort(),m.ma())}function Gr(u,m){try{var _=u.j;if(_.G!=0&&(_.g==u||tl(_.h,u))){if(!u.K&&tl(_.h,u)&&_.G==3){try{var A=_.Da.g.parse(m)}catch{A=null}if(Array.isArray(A)&&A.length==3){var P=A;if(P[0]==0){t:if(!_.u){if(_.g)if(_.g.F+3e3<u.F)Ya(_),Ga(_);else break t;cl(_),ie(18)}}else _.za=P[1],0<_.za-_.T&&37500>P[2]&&_.F&&_.v==0&&!_.C&&(_.C=pe(R(_.Za,_),6e3));if(1>=Pa(_.h)&&_.ca){try{_.ca()}catch{}_.ca=void 0}}else bi(_,11)}else if((u.K||_.g==u)&&Ya(_),!tt(m))for(P=_.Da.g.parse(m),m=0;m<P.length;m++){let Ut=P[m];if(_.T=Ut[0],Ut=Ut[1],_.G==2)if(Ut[0]=="c"){_.K=Ut[1],_.ia=Ut[2];const Ie=Ut[3];Ie!=null&&(_.la=Ie,_.j.info("VER="+_.la));const Se=Ut[4];Se!=null&&(_.Aa=Se,_.j.info("SVER="+_.Aa));const Ri=Ut[5];Ri!=null&&typeof Ri=="number"&&0<Ri&&(A=1.5*Ri,_.L=A,_.j.info("backChannelRequestTimeoutMs_="+A)),A=_;const Pe=u.g;if(Pe){const $n=Pe.g?Pe.g.getResponseHeader("X-Client-Wire-Protocol"):null;if($n){var Q=A.h;Q.g||$n.indexOf("spdy")==-1&&$n.indexOf("quic")==-1&&$n.indexOf("h2")==-1||(Q.j=Q.l,Q.g=new Set,Q.h&&(ka(Q,Q.h),Q.h=null))}if(A.D){const fl=Pe.g?Pe.g.getResponseHeader("X-HTTP-Session-Id"):null;fl&&(A.ya=fl,Yt(A.I,A.D,fl))}}_.G=3,_.l&&_.l.ua(),_.ba&&(_.R=Date.now()-u.F,_.j.info("Handshake RTT: "+_.R+"ms")),A=_;var st=u;if(A.qa=Yo(A,A.J?A.ia:null,A.W),st.K){Ze(A.h,st);var xt=st,Ae=A.L;Ae&&(xt.I=Ae),xt.B&&(Xi(xt),Fr(xt)),A.g=st}else jo(A);0<_.i.length&&Qa(_)}else Ut[0]!="stop"&&Ut[0]!="close"||bi(_,7);else _.G==3&&(Ut[0]=="stop"||Ut[0]=="close"?Ut[0]=="stop"?bi(_,7):ol(_):Ut[0]!="noop"&&_.l&&_.l.ta(Ut),_.v=0)}}Qi(4)}catch{}}var Lo=class{constructor(u,m){this.g=u,this.map=m}};function _i(u){this.l=u||10,p.PerformanceNavigationTiming?(u=p.performance.getEntriesByType("navigation"),u=0<u.length&&(u[0].nextHopProtocol=="hq"||u[0].nextHopProtocol=="h2")):u=!!(p.chrome&&p.chrome.loadTimes&&p.chrome.loadTimes()&&p.chrome.loadTimes().wasFetchedViaSpdy),this.j=u?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}function La(u){return u.h?!0:u.g?u.g.size>=u.j:!1}function Pa(u){return u.h?1:u.g?u.g.size:0}function tl(u,m){return u.h?u.h==m:u.g?u.g.has(m):!1}function ka(u,m){u.g?u.g.add(m):u.h=m}function Ze(u,m){u.h&&u.h==m?u.h=null:u.g&&u.g.has(m)&&u.g.delete(m)}_i.prototype.cancel=function(){if(this.i=el(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const u of this.g.values())u.cancel();this.g.clear()}};function el(u){if(u.h!=null)return u.i.concat(u.h.D);if(u.g!=null&&u.g.size!==0){let m=u.i;for(const _ of u.g.values())m=m.concat(_.D);return m}return $(u.i)}function th(u){if(u.V&&typeof u.V=="function")return u.V();if(typeof Map<"u"&&u instanceof Map||typeof Set<"u"&&u instanceof Set)return Array.from(u.values());if(typeof u=="string")return u.split("");if(g(u)){for(var m=[],_=u.length,A=0;A<_;A++)m.push(u[A]);return m}m=[],_=0;for(A in u)m[_++]=u[A];return m}function za(u){if(u.na&&typeof u.na=="function")return u.na();if(!u.V||typeof u.V!="function"){if(typeof Map<"u"&&u instanceof Map)return Array.from(u.keys());if(!(typeof Set<"u"&&u instanceof Set)){if(g(u)||typeof u=="string"){var m=[];u=u.length;for(var _=0;_<u;_++)m.push(_);return m}m=[],_=0;for(const A in u)m[_++]=A;return m}}}function nl(u,m){if(u.forEach&&typeof u.forEach=="function")u.forEach(m,void 0);else if(g(u)||typeof u=="string")Array.prototype.forEach.call(u,m,void 0);else for(var _=za(u),A=th(u),P=A.length,Q=0;Q<P;Q++)m.call(void 0,A[Q],_&&_[Q],u)}var Qr=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function eh(u,m){if(u){u=u.split("&");for(var _=0;_<u.length;_++){var A=u[_].indexOf("="),P=null;if(0<=A){var Q=u[_].substring(0,A);P=u[_].substring(A+1)}else Q=u[_];m(Q,P?decodeURIComponent(P.replace(/\+/g," ")):"")}}}function ge(u){if(this.g=this.o=this.j="",this.s=null,this.m=this.l="",this.h=!1,u instanceof ge){this.h=u.h,Yr(this,u.j),this.o=u.o,this.g=u.g,$i(this,u.s),this.l=u.l;var m=u.i,_=new Ei;_.i=m.i,m.g&&(_.g=new Map(m.g),_.h=m.h),vi(this,_),this.m=u.m}else u&&(m=String(u).match(Qr))?(this.h=!1,Yr(this,m[1]||"",!0),this.o=gn(m[2]||""),this.g=gn(m[3]||"",!0),$i(this,m[4]),this.l=gn(m[5]||"",!0),vi(this,m[6]||"",!0),this.m=gn(m[7]||"")):(this.h=!1,this.i=new Ei(null,this.h))}ge.prototype.toString=function(){var u=[],m=this.j;m&&u.push(Xr(m,il,!0),":");var _=this.g;return(_||m=="file")&&(u.push("//"),(m=this.o)&&u.push(Xr(m,il,!0),"@"),u.push(encodeURIComponent(String(_)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),_=this.s,_!=null&&u.push(":",String(_))),(_=this.l)&&(this.g&&_.charAt(0)!="/"&&u.push("/"),u.push(Xr(_,_.charAt(0)=="/"?nh:rl,!0))),(_=this.i.toString())&&u.push("?",_),(_=this.m)&&u.push("#",Xr(_,Ba)),u.join("")};function sn(u){return new ge(u)}function Yr(u,m,_){u.j=_?gn(m,!0):m,u.j&&(u.j=u.j.replace(/:$/,""))}function $i(u,m){if(m){if(m=Number(m),isNaN(m)||0>m)throw Error("Bad port number "+m);u.s=m}else u.s=null}function vi(u,m,_){m instanceof Ei?(u.i=m,ko(u.i,u.h)):(_||(m=Xr(m,ih)),u.i=new Ei(m,u.h))}function Yt(u,m,_){u.i.set(m,_)}function Kr(u){return Yt(u,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),u}function gn(u,m){return u?m?decodeURI(u.replace(/%25/g,"%2525")):decodeURIComponent(u):""}function Xr(u,m,_){return typeof u=="string"?(u=encodeURI(u).replace(m,Po),_&&(u=u.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),u):null}function Po(u){return u=u.charCodeAt(0),"%"+(u>>4&15).toString(16)+(u&15).toString(16)}var il=/[#\/\?@]/g,rl=/[#\?:]/g,nh=/[#\?]/g,ih=/[#\?@]/g,Ba=/#/g;function Ei(u,m){this.h=this.g=null,this.i=u||null,this.j=!!m}function yn(u){u.g||(u.g=new Map,u.h=0,u.i&&eh(u.i,function(m,_){u.add(decodeURIComponent(m.replace(/\+/g," ")),_)}))}r=Ei.prototype,r.add=function(u,m){yn(this),this.i=null,u=Fn(this,u);var _=this.g.get(u);return _||this.g.set(u,_=[]),_.push(m),this.h+=1,this};function Ti(u,m){yn(u),m=Fn(u,m),u.g.has(m)&&(u.i=null,u.h-=u.g.get(m).length,u.g.delete(m))}function Ai(u,m){return yn(u),m=Fn(u,m),u.g.has(m)}r.forEach=function(u,m){yn(this),this.g.forEach(function(_,A){_.forEach(function(P){u.call(m,P,A,this)},this)},this)},r.na=function(){yn(this);const u=Array.from(this.g.values()),m=Array.from(this.g.keys()),_=[];for(let A=0;A<m.length;A++){const P=u[A];for(let Q=0;Q<P.length;Q++)_.push(m[A])}return _},r.V=function(u){yn(this);let m=[];if(typeof u=="string")Ai(this,u)&&(m=m.concat(this.g.get(Fn(this,u))));else{u=Array.from(this.g.values());for(let _=0;_<u.length;_++)m=m.concat(u[_])}return m},r.set=function(u,m){return yn(this),this.i=null,u=Fn(this,u),Ai(this,u)&&(this.h-=this.g.get(u).length),this.g.set(u,[m]),this.h+=1,this},r.get=function(u,m){return u?(u=this.V(u),0<u.length?String(u[0]):m):m};function al(u,m,_){Ti(u,m),0<_.length&&(u.i=null,u.g.set(Fn(u,m),$(_)),u.h+=_.length)}r.toString=function(){if(this.i)return this.i;if(!this.g)return"";const u=[],m=Array.from(this.g.keys());for(var _=0;_<m.length;_++){var A=m[_];const Q=encodeURIComponent(String(A)),st=this.V(A);for(A=0;A<st.length;A++){var P=Q;st[A]!==""&&(P+="="+encodeURIComponent(String(st[A]))),u.push(P)}}return this.i=u.join("&")};function Fn(u,m){return m=String(m),u.j&&(m=m.toLowerCase()),m}function ko(u,m){m&&!u.j&&(yn(u),u.i=null,u.g.forEach(function(_,A){var P=A.toLowerCase();A!=P&&(Ti(this,A),al(this,P,_))},u)),u.j=m}function $r(u,m){const _=new pn;if(p.Image){const A=new Image;A.onload=L(_n,_,"TestLoadImage: loaded",!0,m,A),A.onerror=L(_n,_,"TestLoadImage: error",!1,m,A),A.onabort=L(_n,_,"TestLoadImage: abort",!1,m,A),A.ontimeout=L(_n,_,"TestLoadImage: timeout",!1,m,A),p.setTimeout(function(){A.ontimeout&&A.ontimeout()},1e4),A.src=u}else m(!1)}function Vn(u,m){const _=new pn,A=new AbortController,P=setTimeout(()=>{A.abort(),_n(_,"TestPingServer: timeout",!1,m)},1e4);fetch(u,{signal:A.signal}).then(Q=>{clearTimeout(P),Q.ok?_n(_,"TestPingServer: ok",!0,m):_n(_,"TestPingServer: server error",!1,m)}).catch(()=>{clearTimeout(P),_n(_,"TestPingServer: error",!1,m)})}function _n(u,m,_,A,P){try{P&&(P.onload=null,P.onerror=null,P.onabort=null,P.ontimeout=null),A(_)}catch{}}function Zr(){this.g=new Hr}function Gn(u,m,_){const A=_||"";try{nl(u,function(P,Q){let st=P;y(P)&&(st=Nn(P)),m.push(A+Q+"="+encodeURIComponent(st))})}catch(P){throw m.push(A+"type="+encodeURIComponent("_badmap")),P}}function Zi(u){this.l=u.Ub||null,this.j=u.eb||!1}G(Zi,Ys),Zi.prototype.g=function(){return new Si(this.l,this.j)},Zi.prototype.i=(function(u){return function(){return u}})({});function Si(u,m){oe.call(this),this.D=u,this.o=m,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.u=new Headers,this.h=null,this.B="GET",this.A="",this.g=!1,this.v=this.j=this.l=null}G(Si,oe),r=Si.prototype,r.open=function(u,m){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.B=u,this.A=m,this.readyState=1,Yn(this)},r.send=function(u){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;const m={headers:this.u,method:this.B,credentials:this.m,cache:void 0};u&&(m.body=u),(this.D||p).fetch(new Request(this.A,m)).then(this.Sa.bind(this),this.ga.bind(this))},r.abort=function(){this.response=this.responseText="",this.u=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,Qn(this)),this.readyState=0},r.Sa=function(u){if(this.g&&(this.l=u,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=u.headers,this.readyState=2,Yn(this)),this.g&&(this.readyState=3,Yn(this),this.g)))if(this.responseType==="arraybuffer")u.arrayBuffer().then(this.Qa.bind(this),this.ga.bind(this));else if(typeof p.ReadableStream<"u"&&"body"in u){if(this.j=u.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.v=new TextDecoder;sl(this)}else u.text().then(this.Ra.bind(this),this.ga.bind(this))};function sl(u){u.j.read().then(u.Pa.bind(u)).catch(u.ga.bind(u))}r.Pa=function(u){if(this.g){if(this.o&&u.value)this.response.push(u.value);else if(!this.o){var m=u.value?u.value:new Uint8Array(0);(m=this.v.decode(m,{stream:!u.done}))&&(this.response=this.responseText+=m)}u.done?Qn(this):Yn(this),this.readyState==3&&sl(this)}},r.Ra=function(u){this.g&&(this.response=this.responseText=u,Qn(this))},r.Qa=function(u){this.g&&(this.response=u,Qn(this))},r.ga=function(){this.g&&Qn(this)};function Qn(u){u.readyState=4,u.l=null,u.j=null,u.v=null,Yn(u)}r.setRequestHeader=function(u,m){this.u.append(u,m)},r.getResponseHeader=function(u){return this.h&&this.h.get(u.toLowerCase())||""},r.getAllResponseHeaders=function(){if(!this.h)return"";const u=[],m=this.h.entries();for(var _=m.next();!_.done;)_=_.value,u.push(_[0]+": "+_[1]),_=m.next();return u.join(`\r
`)};function Yn(u){u.onreadystatechange&&u.onreadystatechange.call(u)}Object.defineProperty(Si.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(u){this.m=u?"include":"same-origin"}});function ll(u){let m="";return St(u,function(_,A){m+=A,m+=":",m+=_,m+=`\r
`}),m}function Ne(u,m,_){t:{for(A in _){var A=!1;break t}A=!0}A||(_=ll(_),typeof u=="string"?_!=null&&encodeURIComponent(String(_)):Yt(u,m,_))}function Ht(u){oe.call(this),this.headers=new Map,this.o=u||null,this.h=!1,this.v=this.g=null,this.D="",this.m=0,this.l="",this.j=this.B=this.u=this.A=!1,this.I=null,this.H="",this.J=!1}G(Ht,oe);var qa=/^https?$/i,Jr=["POST","PUT"];r=Ht.prototype,r.Ha=function(u){this.J=u},r.ea=function(u,m,_,A){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+u);m=m?m.toUpperCase():"GET",this.D=u,this.l="",this.m=0,this.A=!1,this.h=!0,this.g=this.o?this.o.g():qn.g(),this.v=this.o?Ks(this.o):Ks(qn),this.g.onreadystatechange=R(this.Ea,this);try{this.B=!0,this.g.open(m,String(u),!0),this.B=!1}catch(Q){zo(this,Q);return}if(u=_||"",_=new Map(this.headers),A)if(Object.getPrototypeOf(A)===Object.prototype)for(var P in A)_.set(P,A[P]);else if(typeof A.keys=="function"&&typeof A.get=="function")for(const Q of A.keys())_.set(Q,A.get(Q));else throw Error("Unknown input type for opt_headers: "+String(A));A=Array.from(_.keys()).find(Q=>Q.toLowerCase()=="content-type"),P=p.FormData&&u instanceof p.FormData,!(0<=Array.prototype.indexOf.call(Jr,m,void 0))||A||P||_.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[Q,st]of _)this.g.setRequestHeader(Q,st);this.H&&(this.g.responseType=this.H),"withCredentials"in this.g&&this.g.withCredentials!==this.J&&(this.g.withCredentials=this.J);try{Wr(this),this.u=!0,this.g.send(u),this.u=!1}catch(Q){zo(this,Q)}};function zo(u,m){u.h=!1,u.g&&(u.j=!0,u.g.abort(),u.j=!1),u.l=m,u.m=5,Ha(u),Kn(u)}function Ha(u){u.A||(u.A=!0,Ft(u,"complete"),Ft(u,"error"))}r.abort=function(u){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.m=u||7,Ft(this,"complete"),Ft(this,"abort"),Kn(this))},r.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),Kn(this,!0)),Ht.aa.N.call(this)},r.Ea=function(){this.s||(this.B||this.u||this.j?ja(this):this.bb())},r.bb=function(){ja(this)};function ja(u){if(u.h&&typeof d<"u"&&(!u.v[1]||vn(u)!=4||u.Z()!=2)){if(u.u&&vn(u)==4)Fe(u.Ea,0,u);else if(Ft(u,"readystatechange"),vn(u)==4){u.h=!1;try{const st=u.Z();t:switch(st){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var m=!0;break t;default:m=!1}var _;if(!(_=m)){var A;if(A=st===0){var P=String(u.D).match(Qr)[1]||null;!P&&p.self&&p.self.location&&(P=p.self.location.protocol.slice(0,-1)),A=!qa.test(P?P.toLowerCase():"")}_=A}if(_)Ft(u,"complete"),Ft(u,"success");else{u.m=6;try{var Q=2<vn(u)?u.g.statusText:""}catch{Q=""}u.l=Q+" ["+u.Z()+"]",Ha(u)}}finally{Kn(u)}}}}function Kn(u,m){if(u.g){Wr(u);const _=u.g,A=u.v[0]?()=>{}:null;u.g=null,u.v=null,m||Ft(u,"ready");try{_.onreadystatechange=A}catch{}}}function Wr(u){u.I&&(p.clearTimeout(u.I),u.I=null)}r.isActive=function(){return!!this.g};function vn(u){return u.g?u.g.readyState:0}r.Z=function(){try{return 2<vn(this)?this.g.status:-1}catch{return-1}},r.oa=function(){try{return this.g?this.g.responseText:""}catch{return""}},r.Oa=function(u){if(this.g){var m=this.g.responseText;return u&&m.indexOf(u)==0&&(m=m.substring(u.length)),Ma(m)}};function Bo(u){try{if(!u.g)return null;if("response"in u.g)return u.g.response;switch(u.H){case"":case"text":return u.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in u.g)return u.g.mozResponseArrayBuffer}return null}catch{return null}}function rh(u){const m={};u=(u.g&&2<=vn(u)&&u.g.getAllResponseHeaders()||"").split(`\r
`);for(let A=0;A<u.length;A++){if(tt(u[A]))continue;var _=x(u[A]);const P=_[0];if(_=_[1],typeof _!="string")continue;_=_.trim();const Q=m[P]||[];m[P]=Q,Q.push(_)}M(m,function(A){return A.join(", ")})}r.Ba=function(){return this.m},r.Ka=function(){return typeof this.l=="string"?this.l:String(this.l)};function ta(u,m,_){return _&&_.internalChannelParams&&_.internalChannelParams[u]||m}function Fa(u){this.Aa=0,this.i=[],this.j=new pn,this.ia=this.qa=this.I=this.W=this.g=this.ya=this.D=this.H=this.m=this.S=this.o=null,this.Ya=this.U=0,this.Va=ta("failFast",!1,u),this.F=this.C=this.u=this.s=this.l=null,this.X=!0,this.za=this.T=-1,this.Y=this.v=this.B=0,this.Ta=ta("baseRetryDelayMs",5e3,u),this.cb=ta("retryDelaySeedMs",1e4,u),this.Wa=ta("forwardChannelMaxRetries",2,u),this.wa=ta("forwardChannelRequestTimeoutMs",2e4,u),this.pa=u&&u.xmlHttpFactory||void 0,this.Xa=u&&u.Tb||void 0,this.Ca=u&&u.useFetchStreams||!1,this.L=void 0,this.J=u&&u.supportsCrossDomainXhr||!1,this.K="",this.h=new _i(u&&u.concurrentRequestLimit),this.Da=new Zr,this.P=u&&u.fastHandshake||!1,this.O=u&&u.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.Ua=u&&u.Rb||!1,u&&u.xa&&this.j.xa(),u&&u.forceLongPolling&&(this.X=!1),this.ba=!this.P&&this.X&&u&&u.detectBufferingProxy||!1,this.ja=void 0,u&&u.longPollingTimeout&&0<u.longPollingTimeout&&(this.ja=u.longPollingTimeout),this.ca=void 0,this.R=0,this.M=!1,this.ka=this.A=null}r=Fa.prototype,r.la=8,r.G=1,r.connect=function(u,m,_,A){ie(0),this.W=u,this.H=m||{},_&&A!==void 0&&(this.H.OSID=_,this.H.OAID=A),this.F=this.X,this.I=Yo(this,null,this.W),Qa(this)};function ol(u){if(qo(u),u.G==3){var m=u.U++,_=sn(u.I);if(Yt(_,"SID",u.K),Yt(_,"RID",m),Yt(_,"TYPE","terminate"),ea(u,_),m=new $e(u,u.j,m),m.L=2,m.v=Kr(sn(_)),_=!1,p.navigator&&p.navigator.sendBeacon)try{_=p.navigator.sendBeacon(m.v.toString(),"")}catch{}!_&&p.Image&&(new Image().src=m.v,_=!0),_||(m.g=Ko(m.j,null),m.g.ea(m.v)),m.F=Date.now(),Fr(m)}Qo(u)}function Ga(u){u.g&&(na(u),u.g.cancel(),u.g=null)}function qo(u){Ga(u),u.u&&(p.clearTimeout(u.u),u.u=null),Ya(u),u.h.cancel(),u.s&&(typeof u.s=="number"&&p.clearTimeout(u.s),u.s=null)}function Qa(u){if(!La(u.h)&&!u.s){u.s=!0;var m=u.Ga;lt||N(),pt||(lt(),pt=!0),ht.add(m,u),u.B=0}}function ah(u,m){return Pa(u.h)>=u.h.j-(u.s?1:0)?!1:u.s?(u.i=m.D.concat(u.i),!0):u.G==1||u.G==2||u.B>=(u.Va?0:u.Wa)?!1:(u.s=pe(R(u.Ga,u,m),hl(u,u.B)),u.B++,!0)}r.Ga=function(u){if(this.s)if(this.s=null,this.G==1){if(!u){this.U=Math.floor(1e5*Math.random()),u=this.U++;const P=new $e(this,this.j,u);let Q=this.o;if(this.S&&(Q?(Q=b(Q),O(Q,this.S)):Q=this.S),this.m!==null||this.O||(P.H=Q,Q=null),this.P)t:{for(var m=0,_=0;_<this.i.length;_++){e:{var A=this.i[_];if("__data__"in A.map&&(A=A.map.__data__,typeof A=="string")){A=A.length;break e}A=void 0}if(A===void 0)break;if(m+=A,4096<m){m=_;break t}if(m===4096||_===this.i.length-1){m=_+1;break t}}m=1e3}else m=1e3;m=Ho(this,P,m),_=sn(this.I),Yt(_,"RID",u),Yt(_,"CVER",22),this.D&&Yt(_,"X-HTTP-Session-Id",this.D),ea(this,_),Q&&(this.O?m="headers="+encodeURIComponent(String(ll(Q)))+"&"+m:this.m&&Ne(_,this.m,Q)),ka(this.h,P),this.Ua&&Yt(_,"TYPE","init"),this.P?(Yt(_,"$req",m),Yt(_,"SID","null"),P.T=!0,In(P,_,null)):In(P,_,m),this.G=2}}else this.G==3&&(u?ul(this,u):this.i.length==0||La(this.h)||ul(this))};function ul(u,m){var _;m?_=m.l:_=u.U++;const A=sn(u.I);Yt(A,"SID",u.K),Yt(A,"RID",_),Yt(A,"AID",u.T),ea(u,A),u.m&&u.o&&Ne(A,u.m,u.o),_=new $e(u,u.j,_,u.B+1),u.m===null&&(_.H=u.o),m&&(u.i=m.D.concat(u.i)),m=Ho(u,_,1e3),_.I=Math.round(.5*u.wa)+Math.round(.5*u.wa*Math.random()),ka(u.h,_),In(_,A,m)}function ea(u,m){u.H&&St(u.H,function(_,A){Yt(m,A,_)}),u.l&&nl({},function(_,A){Yt(m,A,_)})}function Ho(u,m,_){_=Math.min(u.i.length,_);var A=u.l?R(u.l.Na,u.l,u):null;t:{var P=u.i;let Q=-1;for(;;){const st=["count="+_];Q==-1?0<_?(Q=P[0].g,st.push("ofs="+Q)):Q=0:st.push("ofs="+Q);let xt=!0;for(let Ae=0;Ae<_;Ae++){let Ut=P[Ae].g;const Ie=P[Ae].map;if(Ut-=Q,0>Ut)Q=Math.max(0,P[Ae].g-100),xt=!1;else try{Gn(Ie,st,"req"+Ut+"_")}catch{A&&A(Ie)}}if(xt){A=st.join("&");break t}}}return u=u.i.splice(0,_),m.D=u,A}function jo(u){if(!u.g&&!u.u){u.Y=1;var m=u.Fa;lt||N(),pt||(lt(),pt=!0),ht.add(m,u),u.v=0}}function cl(u){return u.g||u.u||3<=u.v?!1:(u.Y++,u.u=pe(R(u.Fa,u),hl(u,u.v)),u.v++,!0)}r.Fa=function(){if(this.u=null,Fo(this),this.ba&&!(this.M||this.g==null||0>=this.R)){var u=2*this.R;this.j.info("BP detection timer enabled: "+u),this.A=pe(R(this.ab,this),u)}},r.ab=function(){this.A&&(this.A=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.M=!0,ie(10),Ga(this),Fo(this))};function na(u){u.A!=null&&(p.clearTimeout(u.A),u.A=null)}function Fo(u){u.g=new $e(u,u.j,"rpc",u.Y),u.m===null&&(u.g.H=u.o),u.g.O=0;var m=sn(u.qa);Yt(m,"RID","rpc"),Yt(m,"SID",u.K),Yt(m,"AID",u.T),Yt(m,"CI",u.F?"0":"1"),!u.F&&u.ja&&Yt(m,"TO",u.ja),Yt(m,"TYPE","xmlhttp"),ea(u,m),u.m&&u.o&&Ne(m,u.m,u.o),u.L&&(u.g.I=u.L);var _=u.g;u=u.ia,_.L=1,_.v=Kr(sn(m)),_.m=null,_.P=!0,yi(_,u)}r.Za=function(){this.C!=null&&(this.C=null,Ga(this),cl(this),ie(19))};function Ya(u){u.C!=null&&(p.clearTimeout(u.C),u.C=null)}function Go(u,m){var _=null;if(u.g==m){Ya(u),na(u),u.g=null;var A=2}else if(tl(u.h,m))_=m.D,Ze(u.h,m),A=1;else return;if(u.G!=0){if(m.o)if(A==1){_=m.m?m.m.length:0,m=Date.now()-m.F;var P=u.B;A=Gi(),Ft(A,new Te(A,_)),Qa(u)}else jo(u);else if(P=m.s,P==3||P==0&&0<m.X||!(A==1&&ah(u,m)||A==2&&cl(u)))switch(_&&0<_.length&&(m=u.h,m.i=m.i.concat(_)),P){case 1:bi(u,5);break;case 4:bi(u,10);break;case 3:bi(u,6);break;default:bi(u,2)}}}function hl(u,m){let _=u.Ta+Math.floor(Math.random()*u.cb);return u.isActive()||(_*=2),_*m}function bi(u,m){if(u.j.info("Error code "+m),m==2){var _=R(u.fb,u),A=u.Xa;const P=!A;A=new ge(A||"//www.google.com/images/cleardot.gif"),p.location&&p.location.protocol=="http"||Yr(A,"https"),Kr(A),P?$r(A.toString(),_):Vn(A.toString(),_)}else ie(2);u.G=0,u.l&&u.l.sa(m),Qo(u),qo(u)}r.fb=function(u){u?(this.j.info("Successfully pinged google.com"),ie(2)):(this.j.info("Failed to ping google.com"),ie(1))};function Qo(u){if(u.G=0,u.ka=[],u.l){const m=el(u.h);(m.length!=0||u.i.length!=0)&&(H(u.ka,m),H(u.ka,u.i),u.h.i.length=0,$(u.i),u.i.length=0),u.l.ra()}}function Yo(u,m,_){var A=_ instanceof ge?sn(_):new ge(_);if(A.g!="")m&&(A.g=m+"."+A.g),$i(A,A.s);else{var P=p.location;A=P.protocol,m=m?m+"."+P.hostname:P.hostname,P=+P.port;var Q=new ge(null);A&&Yr(Q,A),m&&(Q.g=m),P&&$i(Q,P),_&&(Q.l=_),A=Q}return _=u.D,m=u.ya,_&&m&&Yt(A,_,m),Yt(A,"VER",u.la),ea(u,A),A}function Ko(u,m,_){if(m&&!u.J)throw Error("Can't create secondary domain capable XhrIo object.");return m=u.Ca&&!u.pa?new Ht(new Zi({eb:_})):new Ht(u.pa),m.Ha(u.J),m}r.isActive=function(){return!!this.l&&this.l.isActive(this)};function Xo(){}r=Xo.prototype,r.ua=function(){},r.ta=function(){},r.sa=function(){},r.ra=function(){},r.isActive=function(){return!0},r.Na=function(){};function Ka(){}Ka.prototype.g=function(u,m){return new Je(u,m)};function Je(u,m){oe.call(this),this.g=new Fa(m),this.l=u,this.h=m&&m.messageUrlParams||null,u=m&&m.messageHeaders||null,m&&m.clientProtocolHeaderRequired&&(u?u["X-Client-Protocol"]="webchannel":u={"X-Client-Protocol":"webchannel"}),this.g.o=u,u=m&&m.initMessageHeaders||null,m&&m.messageContentType&&(u?u["X-WebChannel-Content-Type"]=m.messageContentType:u={"X-WebChannel-Content-Type":m.messageContentType}),m&&m.va&&(u?u["X-WebChannel-Client-Profile"]=m.va:u={"X-WebChannel-Client-Profile":m.va}),this.g.S=u,(u=m&&m.Sb)&&!tt(u)&&(this.g.m=u),this.v=m&&m.supportsCrossDomainXhr||!1,this.u=m&&m.sendRawJson||!1,(m=m&&m.httpSessionIdParam)&&!tt(m)&&(this.g.D=m,u=this.h,u!==null&&m in u&&(u=this.h,m in u&&delete u[m])),this.j=new Xn(this)}G(Je,oe),Je.prototype.m=function(){this.g.l=this.j,this.v&&(this.g.J=!0),this.g.connect(this.l,this.h||void 0)},Je.prototype.close=function(){ol(this.g)},Je.prototype.o=function(u){var m=this.g;if(typeof u=="string"){var _={};_.__data__=u,u=_}else this.u&&(_={},_.__data__=Nn(u),u=_);m.i.push(new Lo(m.Ya++,u)),m.G==3&&Qa(m)},Je.prototype.N=function(){this.g.l=null,delete this.j,ol(this.g),delete this.g,Je.aa.N.call(this)};function $o(u){pi.call(this),u.__headers__&&(this.headers=u.__headers__,this.statusCode=u.__status__,delete u.__headers__,delete u.__status__);var m=u.__sm__;if(m){t:{for(const _ in m){u=_;break t}u=void 0}(this.i=u)&&(u=this.i,m=m!==null&&u in m?m[u]:void 0),this.data=m}else this.data=u}G($o,pi);function Zo(){$s.call(this),this.status=1}G(Zo,$s);function Xn(u){this.g=u}G(Xn,Xo),Xn.prototype.ua=function(){Ft(this.g,"a")},Xn.prototype.ta=function(u){Ft(this.g,new $o(u))},Xn.prototype.sa=function(u){Ft(this.g,new Zo)},Xn.prototype.ra=function(){Ft(this.g,"b")},Ka.prototype.createWebChannel=Ka.prototype.g,Je.prototype.send=Je.prototype.o,Je.prototype.open=Je.prototype.m,Je.prototype.close=Je.prototype.close,Wv=function(){return new Ka},Jv=function(){return Gi()},Zv=Bn,Td={mb:0,pb:1,qb:2,Jb:3,Ob:4,Lb:5,Mb:6,Kb:7,Ib:8,Nb:9,PROXY:10,NOPROXY:11,Gb:12,Cb:13,Db:14,Bb:15,Eb:16,Fb:17,ib:18,hb:19,jb:20},Ki.NO_ERROR=0,Ki.TIMEOUT=8,Ki.HTTP_ERROR=6,uc=Ki,gi.COMPLETE="complete",$v=gi,Xs.EventType=mi,mi.OPEN="a",mi.CLOSE="b",mi.ERROR="c",mi.MESSAGE="d",oe.prototype.listen=oe.prototype.K,to=Xs,Ht.prototype.listenOnce=Ht.prototype.L,Ht.prototype.getLastError=Ht.prototype.Ka,Ht.prototype.getLastErrorCode=Ht.prototype.Ba,Ht.prototype.getStatus=Ht.prototype.Z,Ht.prototype.getResponseJson=Ht.prototype.Oa,Ht.prototype.getResponseText=Ht.prototype.oa,Ht.prototype.send=Ht.prototype.ea,Ht.prototype.setWithCredentials=Ht.prototype.Ha,Xv=Ht}).apply(typeof Wu<"u"?Wu:typeof self<"u"?self:typeof window<"u"?window:{});const o_="@firebase/firestore",u_="4.9.1";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ke{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}Ke.UNAUTHENTICATED=new Ke(null),Ke.GOOGLE_CREDENTIALS=new Ke("google-credentials-uid"),Ke.FIRST_PARTY=new Ke("first-party-uid"),Ke.MOCK_USER=new Ke("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Bs="12.2.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Sa=new kv("@firebase/firestore");function bs(){return Sa.logLevel}function ut(r,...e){if(Sa.logLevel<=kt.DEBUG){const i=e.map(Kd);Sa.debug(`Firestore (${Bs}): ${r}`,...i)}}function Hi(r,...e){if(Sa.logLevel<=kt.ERROR){const i=e.map(Kd);Sa.error(`Firestore (${Bs}): ${r}`,...i)}}function Is(r,...e){if(Sa.logLevel<=kt.WARN){const i=e.map(Kd);Sa.warn(`Firestore (${Bs}): ${r}`,...i)}}function Kd(r){if(typeof r=="string")return r;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return(function(i){return JSON.stringify(i)})(r)}catch{return r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Et(r,e,i){let s="Unexpected state";typeof e=="string"?s=e:i=e,tE(r,s,i)}function tE(r,e,i){let s=`FIRESTORE (${Bs}) INTERNAL ASSERTION FAILED: ${e} (ID: ${r.toString(16)})`;if(i!==void 0)try{s+=" CONTEXT: "+JSON.stringify(i)}catch{s+=" CONTEXT: "+i}throw Hi(s),new Error(s)}function jt(r,e,i,s){let o="Unexpected state";typeof i=="string"?o=i:s=i,r||tE(e,o,s)}function Rt(r,e){return r}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const et={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class mt extends Ra{constructor(e,i){super(e,i),this.code=e,this.message=i,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class br{constructor(){this.promise=new Promise(((e,i)=>{this.resolve=e,this.reject=i}))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class eE{constructor(e,i){this.user=i,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class ob{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,i){e.enqueueRetryable((()=>i(Ke.UNAUTHENTICATED)))}shutdown(){}}class ub{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,i){this.changeListener=i,e.enqueueRetryable((()=>i(this.token.user)))}shutdown(){this.changeListener=null}}class cb{constructor(e){this.t=e,this.currentUser=Ke.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,i){jt(this.o===void 0,42304);let s=this.i;const o=g=>this.i!==s?(s=this.i,i(g)):Promise.resolve();let h=new br;this.o=()=>{this.i++,this.currentUser=this.u(),h.resolve(),h=new br,e.enqueueRetryable((()=>o(this.currentUser)))};const d=()=>{const g=h;e.enqueueRetryable((async()=>{await g.promise,await o(this.currentUser)}))},p=g=>{ut("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=g,this.o&&(this.auth.addAuthTokenListener(this.o),d())};this.t.onInit((g=>p(g))),setTimeout((()=>{if(!this.auth){const g=this.t.getImmediate({optional:!0});g?p(g):(ut("FirebaseAuthCredentialsProvider","Auth not yet detected"),h.resolve(),h=new br)}}),0),d()}getToken(){const e=this.i,i=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(i).then((s=>this.i!==e?(ut("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):s?(jt(typeof s.accessToken=="string",31837,{l:s}),new eE(s.accessToken,this.currentUser)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return jt(e===null||typeof e=="string",2055,{h:e}),new Ke(e)}}class hb{constructor(e,i,s){this.P=e,this.T=i,this.I=s,this.type="FirstParty",this.user=Ke.FIRST_PARTY,this.A=new Map}R(){return this.I?this.I():null}get headers(){this.A.set("X-Goog-AuthUser",this.P);const e=this.R();return e&&this.A.set("Authorization",e),this.T&&this.A.set("X-Goog-Iam-Authorization-Token",this.T),this.A}}class fb{constructor(e,i,s){this.P=e,this.T=i,this.I=s}getToken(){return Promise.resolve(new hb(this.P,this.T,this.I))}start(e,i){e.enqueueRetryable((()=>i(Ke.FIRST_PARTY)))}shutdown(){}invalidateToken(){}}class c_{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class db{constructor(e,i){this.V=i,this.forceRefresh=!1,this.appCheck=null,this.m=null,this.p=null,Hv(e)&&e.settings.appCheckToken&&(this.p=e.settings.appCheckToken)}start(e,i){jt(this.o===void 0,3512);const s=h=>{h.error!=null&&ut("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${h.error.message}`);const d=h.token!==this.m;return this.m=h.token,ut("FirebaseAppCheckTokenProvider",`Received ${d?"new":"existing"} token.`),d?i(h.token):Promise.resolve()};this.o=h=>{e.enqueueRetryable((()=>s(h)))};const o=h=>{ut("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=h,this.o&&this.appCheck.addTokenListener(this.o)};this.V.onInit((h=>o(h))),setTimeout((()=>{if(!this.appCheck){const h=this.V.getImmediate({optional:!0});h?o(h):ut("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}}),0)}getToken(){if(this.p)return Promise.resolve(new c_(this.p));const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then((i=>i?(jt(typeof i.token=="string",44558,{tokenResult:i}),this.m=i.token,new c_(i.token)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function mb(r){const e=typeof self<"u"&&(self.crypto||self.msCrypto),i=new Uint8Array(r);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(i);else for(let s=0;s<r;s++)i[s]=Math.floor(256*Math.random());return i}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xd{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",i=62*Math.floor(4.129032258064516);let s="";for(;s.length<20;){const o=mb(40);for(let h=0;h<o.length;++h)s.length<20&&o[h]<i&&(s+=e.charAt(o[h]%62))}return s}}function Ot(r,e){return r<e?-1:r>e?1:0}function Ad(r,e){const i=Math.min(r.length,e.length);for(let s=0;s<i;s++){const o=r.charAt(s),h=e.charAt(s);if(o!==h)return od(o)===od(h)?Ot(o,h):od(o)?1:-1}return Ot(r.length,e.length)}const pb=55296,gb=57343;function od(r){const e=r.charCodeAt(0);return e>=pb&&e<=gb}function Vs(r,e,i){return r.length===e.length&&r.every(((s,o)=>i(s,e[o])))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const h_="__name__";class ni{constructor(e,i,s){i===void 0?i=0:i>e.length&&Et(637,{offset:i,range:e.length}),s===void 0?s=e.length-i:s>e.length-i&&Et(1746,{length:s,range:e.length-i}),this.segments=e,this.offset=i,this.len=s}get length(){return this.len}isEqual(e){return ni.comparator(this,e)===0}child(e){const i=this.segments.slice(this.offset,this.limit());return e instanceof ni?e.forEach((s=>{i.push(s)})):i.push(e),this.construct(i)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let i=0;i<this.length;i++)if(this.get(i)!==e.get(i))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let i=0;i<this.length;i++)if(this.get(i)!==e.get(i))return!1;return!0}forEach(e){for(let i=this.offset,s=this.limit();i<s;i++)e(this.segments[i])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,i){const s=Math.min(e.length,i.length);for(let o=0;o<s;o++){const h=ni.compareSegments(e.get(o),i.get(o));if(h!==0)return h}return Ot(e.length,i.length)}static compareSegments(e,i){const s=ni.isNumericId(e),o=ni.isNumericId(i);return s&&!o?-1:!s&&o?1:s&&o?ni.extractNumericId(e).compare(ni.extractNumericId(i)):Ad(e,i)}static isNumericId(e){return e.startsWith("__id")&&e.endsWith("__")}static extractNumericId(e){return Sr.fromString(e.substring(4,e.length-2))}}class ee extends ni{construct(e,i,s){return new ee(e,i,s)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const i=[];for(const s of e){if(s.indexOf("//")>=0)throw new mt(et.INVALID_ARGUMENT,`Invalid segment (${s}). Paths must not contain // in them.`);i.push(...s.split("/").filter((o=>o.length>0)))}return new ee(i)}static emptyPath(){return new ee([])}}const yb=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class He extends ni{construct(e,i,s){return new He(e,i,s)}static isValidIdentifier(e){return yb.test(e)}canonicalString(){return this.toArray().map((e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),He.isValidIdentifier(e)||(e="`"+e+"`"),e))).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===h_}static keyField(){return new He([h_])}static fromServerFormat(e){const i=[];let s="",o=0;const h=()=>{if(s.length===0)throw new mt(et.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);i.push(s),s=""};let d=!1;for(;o<e.length;){const p=e[o];if(p==="\\"){if(o+1===e.length)throw new mt(et.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const g=e[o+1];if(g!=="\\"&&g!=="."&&g!=="`")throw new mt(et.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);s+=g,o+=2}else p==="`"?(d=!d,o++):p!=="."||d?(s+=p,o++):(h(),o++)}if(h(),d)throw new mt(et.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new He(i)}static emptyPath(){return new He([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yt{constructor(e){this.path=e}static fromPath(e){return new yt(ee.fromString(e))}static fromName(e){return new yt(ee.fromString(e).popFirst(5))}static empty(){return new yt(ee.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&ee.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,i){return ee.comparator(e.path,i.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new yt(new ee(e.slice()))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function nE(r,e,i){if(!i)throw new mt(et.INVALID_ARGUMENT,`Function ${r}() cannot be called with an empty ${e}.`)}function _b(r,e,i,s){if(e===!0&&s===!0)throw new mt(et.INVALID_ARGUMENT,`${r} and ${i} cannot be used together.`)}function f_(r){if(!yt.isDocumentKey(r))throw new mt(et.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${r} has ${r.length}.`)}function d_(r){if(yt.isDocumentKey(r))throw new mt(et.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${r} has ${r.length}.`)}function iE(r){return typeof r=="object"&&r!==null&&(Object.getPrototypeOf(r)===Object.prototype||Object.getPrototypeOf(r)===null)}function $d(r){if(r===void 0)return"undefined";if(r===null)return"null";if(typeof r=="string")return r.length>20&&(r=`${r.substring(0,20)}...`),JSON.stringify(r);if(typeof r=="number"||typeof r=="boolean")return""+r;if(typeof r=="object"){if(r instanceof Array)return"an array";{const e=(function(s){return s.constructor?s.constructor.name:null})(r);return e?`a custom ${e} object`:"an object"}}return typeof r=="function"?"a function":Et(12329,{type:typeof r})}function Rr(r,e){if("_delegate"in r&&(r=r._delegate),!(r instanceof e)){if(e.name===r.constructor.name)throw new mt(et.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const i=$d(r);throw new mt(et.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${i}`)}}return r}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ee(r,e){const i={typeString:r};return e&&(i.value=e),i}function Ao(r,e){if(!iE(r))throw new mt(et.INVALID_ARGUMENT,"JSON must be an object");let i;for(const s in e)if(e[s]){const o=e[s].typeString,h="value"in e[s]?{value:e[s].value}:void 0;if(!(s in r)){i=`JSON missing required field: '${s}'`;break}const d=r[s];if(o&&typeof d!==o){i=`JSON field '${s}' must be a ${o}.`;break}if(h!==void 0&&d!==h.value){i=`Expected '${s}' field to equal '${h.value}'`;break}}if(i)throw new mt(et.INVALID_ARGUMENT,i);return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const m_=-62135596800,p_=1e6;class ne{static now(){return ne.fromMillis(Date.now())}static fromDate(e){return ne.fromMillis(e.getTime())}static fromMillis(e){const i=Math.floor(e/1e3),s=Math.floor((e-1e3*i)*p_);return new ne(i,s)}constructor(e,i){if(this.seconds=e,this.nanoseconds=i,i<0)throw new mt(et.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+i);if(i>=1e9)throw new mt(et.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+i);if(e<m_)throw new mt(et.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new mt(et.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/p_}_compareTo(e){return this.seconds===e.seconds?Ot(this.nanoseconds,e.nanoseconds):Ot(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{type:ne._jsonSchemaVersion,seconds:this.seconds,nanoseconds:this.nanoseconds}}static fromJSON(e){if(Ao(e,ne._jsonSchema))return new ne(e.seconds,e.nanoseconds)}valueOf(){const e=this.seconds-m_;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}ne._jsonSchemaVersion="firestore/timestamp/1.0",ne._jsonSchema={type:Ee("string",ne._jsonSchemaVersion),seconds:Ee("number"),nanoseconds:Ee("number")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bt{static fromTimestamp(e){return new bt(e)}static min(){return new bt(new ne(0,0))}static max(){return new bt(new ne(253402300799,999999999))}constructor(e){this.timestamp=e}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const fo=-1;function vb(r,e){const i=r.toTimestamp().seconds,s=r.toTimestamp().nanoseconds+1,o=bt.fromTimestamp(s===1e9?new ne(i+1,0):new ne(i,s));return new Dr(o,yt.empty(),e)}function Eb(r){return new Dr(r.readTime,r.key,fo)}class Dr{constructor(e,i,s){this.readTime=e,this.documentKey=i,this.largestBatchId=s}static min(){return new Dr(bt.min(),yt.empty(),fo)}static max(){return new Dr(bt.max(),yt.empty(),fo)}}function Tb(r,e){let i=r.readTime.compareTo(e.readTime);return i!==0?i:(i=yt.comparator(r.documentKey,e.documentKey),i!==0?i:Ot(r.largestBatchId,e.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ab="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class Sb{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach((e=>e()))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function qs(r){if(r.code!==et.FAILED_PRECONDITION||r.message!==Ab)throw r;ut("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class W{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e((i=>{this.isDone=!0,this.result=i,this.nextCallback&&this.nextCallback(i)}),(i=>{this.isDone=!0,this.error=i,this.catchCallback&&this.catchCallback(i)}))}catch(e){return this.next(void 0,e)}next(e,i){return this.callbackAttached&&Et(59440),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(i,this.error):this.wrapSuccess(e,this.result):new W(((s,o)=>{this.nextCallback=h=>{this.wrapSuccess(e,h).next(s,o)},this.catchCallback=h=>{this.wrapFailure(i,h).next(s,o)}}))}toPromise(){return new Promise(((e,i)=>{this.next(e,i)}))}wrapUserFunction(e){try{const i=e();return i instanceof W?i:W.resolve(i)}catch(i){return W.reject(i)}}wrapSuccess(e,i){return e?this.wrapUserFunction((()=>e(i))):W.resolve(i)}wrapFailure(e,i){return e?this.wrapUserFunction((()=>e(i))):W.reject(i)}static resolve(e){return new W(((i,s)=>{i(e)}))}static reject(e){return new W(((i,s)=>{s(e)}))}static waitFor(e){return new W(((i,s)=>{let o=0,h=0,d=!1;e.forEach((p=>{++o,p.next((()=>{++h,d&&h===o&&i()}),(g=>s(g)))})),d=!0,h===o&&i()}))}static or(e){let i=W.resolve(!1);for(const s of e)i=i.next((o=>o?W.resolve(o):s()));return i}static forEach(e,i){const s=[];return e.forEach(((o,h)=>{s.push(i.call(this,o,h))})),this.waitFor(s)}static mapArray(e,i){return new W(((s,o)=>{const h=e.length,d=new Array(h);let p=0;for(let g=0;g<h;g++){const y=g;i(e[y]).next((E=>{d[y]=E,++p,p===h&&s(d)}),(E=>o(E)))}}))}static doWhile(e,i){return new W(((s,o)=>{const h=()=>{e()===!0?i().next((()=>{h()}),o):s()};h()}))}}function bb(r){const e=r.match(/Android ([\d.]+)/i),i=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(i)}function Hs(r){return r.name==="IndexedDbTransactionError"}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Lc{constructor(e,i){this.previousValue=e,i&&(i.sequenceNumberHandler=s=>this.ae(s),this.ue=s=>i.writeSequenceNumber(s))}ae(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.ue&&this.ue(e),e}}Lc.ce=-1;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Zd=-1;function Pc(r){return r==null}function vc(r){return r===0&&1/r==-1/0}function Rb(r){return typeof r=="number"&&Number.isInteger(r)&&!vc(r)&&r<=Number.MAX_SAFE_INTEGER&&r>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const rE="";function wb(r){let e="";for(let i=0;i<r.length;i++)e.length>0&&(e=g_(e)),e=Cb(r.get(i),e);return g_(e)}function Cb(r,e){let i=e;const s=r.length;for(let o=0;o<s;o++){const h=r.charAt(o);switch(h){case"\0":i+="";break;case rE:i+="";break;default:i+=h}}return i}function g_(r){return r+rE+""}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function y_(r){let e=0;for(const i in r)Object.prototype.hasOwnProperty.call(r,i)&&e++;return e}function wa(r,e){for(const i in r)Object.prototype.hasOwnProperty.call(r,i)&&e(i,r[i])}function aE(r){for(const e in r)if(Object.prototype.hasOwnProperty.call(r,e))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class le{constructor(e,i){this.comparator=e,this.root=i||qe.EMPTY}insert(e,i){return new le(this.comparator,this.root.insert(e,i,this.comparator).copy(null,null,qe.BLACK,null,null))}remove(e){return new le(this.comparator,this.root.remove(e,this.comparator).copy(null,null,qe.BLACK,null,null))}get(e){let i=this.root;for(;!i.isEmpty();){const s=this.comparator(e,i.key);if(s===0)return i.value;s<0?i=i.left:s>0&&(i=i.right)}return null}indexOf(e){let i=0,s=this.root;for(;!s.isEmpty();){const o=this.comparator(e,s.key);if(o===0)return i+s.left.size;o<0?s=s.left:(i+=s.left.size+1,s=s.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal(((i,s)=>(e(i,s),!1)))}toString(){const e=[];return this.inorderTraversal(((i,s)=>(e.push(`${i}:${s}`),!1))),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new tc(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new tc(this.root,e,this.comparator,!1)}getReverseIterator(){return new tc(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new tc(this.root,e,this.comparator,!0)}}class tc{constructor(e,i,s,o){this.isReverse=o,this.nodeStack=[];let h=1;for(;!e.isEmpty();)if(h=i?s(e.key,i):1,i&&o&&(h*=-1),h<0)e=this.isReverse?e.left:e.right;else{if(h===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const i={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return i}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class qe{constructor(e,i,s,o,h){this.key=e,this.value=i,this.color=s??qe.RED,this.left=o??qe.EMPTY,this.right=h??qe.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,i,s,o,h){return new qe(e??this.key,i??this.value,s??this.color,o??this.left,h??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,i,s){let o=this;const h=s(e,o.key);return o=h<0?o.copy(null,null,null,o.left.insert(e,i,s),null):h===0?o.copy(null,i,null,null,null):o.copy(null,null,null,null,o.right.insert(e,i,s)),o.fixUp()}removeMin(){if(this.left.isEmpty())return qe.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,i){let s,o=this;if(i(e,o.key)<0)o.left.isEmpty()||o.left.isRed()||o.left.left.isRed()||(o=o.moveRedLeft()),o=o.copy(null,null,null,o.left.remove(e,i),null);else{if(o.left.isRed()&&(o=o.rotateRight()),o.right.isEmpty()||o.right.isRed()||o.right.left.isRed()||(o=o.moveRedRight()),i(e,o.key)===0){if(o.right.isEmpty())return qe.EMPTY;s=o.right.min(),o=o.copy(s.key,s.value,null,null,o.right.removeMin())}o=o.copy(null,null,null,null,o.right.remove(e,i))}return o.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,qe.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,qe.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),i=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,i)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw Et(43730,{key:this.key,value:this.value});if(this.right.isRed())throw Et(14113,{key:this.key,value:this.value});const e=this.left.check();if(e!==this.right.check())throw Et(27949);return e+(this.isRed()?0:1)}}qe.EMPTY=null,qe.RED=!0,qe.BLACK=!1;qe.EMPTY=new class{constructor(){this.size=0}get key(){throw Et(57766)}get value(){throw Et(16141)}get color(){throw Et(16727)}get left(){throw Et(29726)}get right(){throw Et(36894)}copy(e,i,s,o,h){return this}insert(e,i,s){return new qe(e,i)}remove(e,i){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ce{constructor(e){this.comparator=e,this.data=new le(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal(((i,s)=>(e(i),!1)))}forEachInRange(e,i){const s=this.data.getIteratorFrom(e[0]);for(;s.hasNext();){const o=s.getNext();if(this.comparator(o.key,e[1])>=0)return;i(o.key)}}forEachWhile(e,i){let s;for(s=i!==void 0?this.data.getIteratorFrom(i):this.data.getIterator();s.hasNext();)if(!e(s.getNext().key))return}firstAfterOrEqual(e){const i=this.data.getIteratorFrom(e);return i.hasNext()?i.getNext().key:null}getIterator(){return new __(this.data.getIterator())}getIteratorFrom(e){return new __(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let i=this;return i.size<e.size&&(i=e,e=this),e.forEach((s=>{i=i.add(s)})),i}isEqual(e){if(!(e instanceof Ce)||this.size!==e.size)return!1;const i=this.data.getIterator(),s=e.data.getIterator();for(;i.hasNext();){const o=i.getNext().key,h=s.getNext().key;if(this.comparator(o,h)!==0)return!1}return!0}toArray(){const e=[];return this.forEach((i=>{e.push(i)})),e}toString(){const e=[];return this.forEach((i=>e.push(i))),"SortedSet("+e.toString()+")"}copy(e){const i=new Ce(this.comparator);return i.data=e,i}}class __{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Un{constructor(e){this.fields=e,e.sort(He.comparator)}static empty(){return new Un([])}unionWith(e){let i=new Ce(He.comparator);for(const s of this.fields)i=i.add(s);for(const s of e)i=i.add(s);return new Un(i.toArray())}covers(e){for(const i of this.fields)if(i.isPrefixOf(e))return!0;return!1}isEqual(e){return Vs(this.fields,e.fields,((i,s)=>i.isEqual(s)))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sE extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class je{constructor(e){this.binaryString=e}static fromBase64String(e){const i=(function(o){try{return atob(o)}catch(h){throw typeof DOMException<"u"&&h instanceof DOMException?new sE("Invalid base64 string: "+h):h}})(e);return new je(i)}static fromUint8Array(e){const i=(function(o){let h="";for(let d=0;d<o.length;++d)h+=String.fromCharCode(o[d]);return h})(e);return new je(i)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return(function(i){return btoa(i)})(this.binaryString)}toUint8Array(){return(function(i){const s=new Uint8Array(i.length);for(let o=0;o<i.length;o++)s[o]=i.charCodeAt(o);return s})(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return Ot(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}je.EMPTY_BYTE_STRING=new je("");const Db=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Nr(r){if(jt(!!r,39018),typeof r=="string"){let e=0;const i=Db.exec(r);if(jt(!!i,46558,{timestamp:r}),i[1]){let o=i[1];o=(o+"000000000").substr(0,9),e=Number(o)}const s=new Date(r);return{seconds:Math.floor(s.getTime()/1e3),nanos:e}}return{seconds:me(r.seconds),nanos:me(r.nanos)}}function me(r){return typeof r=="number"?r:typeof r=="string"?Number(r):0}function Ir(r){return typeof r=="string"?je.fromBase64String(r):je.fromUint8Array(r)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const lE="server_timestamp",oE="__type__",uE="__previous_value__",cE="__local_write_time__";function Jd(r){return(r?.mapValue?.fields||{})[oE]?.stringValue===lE}function kc(r){const e=r.mapValue.fields[uE];return Jd(e)?kc(e):e}function mo(r){const e=Nr(r.mapValue.fields[cE].timestampValue);return new ne(e.seconds,e.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Nb{constructor(e,i,s,o,h,d,p,g,y,E){this.databaseId=e,this.appId=i,this.persistenceKey=s,this.host=o,this.ssl=h,this.forceLongPolling=d,this.autoDetectLongPolling=p,this.longPollingOptions=g,this.useFetchStreams=y,this.isUsingEmulator=E}}const Ec="(default)";class po{constructor(e,i){this.projectId=e,this.database=i||Ec}static empty(){return new po("","")}get isDefaultDatabase(){return this.database===Ec}isEqual(e){return e instanceof po&&e.projectId===this.projectId&&e.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const hE="__type__",Ib="__max__",ec={mapValue:{}},fE="__vector__",Tc="value";function Vr(r){return"nullValue"in r?0:"booleanValue"in r?1:"integerValue"in r||"doubleValue"in r?2:"timestampValue"in r?3:"stringValue"in r?5:"bytesValue"in r?6:"referenceValue"in r?7:"geoPointValue"in r?8:"arrayValue"in r?9:"mapValue"in r?Jd(r)?4:Ob(r)?9007199254740991:Vb(r)?10:11:Et(28295,{value:r})}function oi(r,e){if(r===e)return!0;const i=Vr(r);if(i!==Vr(e))return!1;switch(i){case 0:case 9007199254740991:return!0;case 1:return r.booleanValue===e.booleanValue;case 4:return mo(r).isEqual(mo(e));case 3:return(function(o,h){if(typeof o.timestampValue=="string"&&typeof h.timestampValue=="string"&&o.timestampValue.length===h.timestampValue.length)return o.timestampValue===h.timestampValue;const d=Nr(o.timestampValue),p=Nr(h.timestampValue);return d.seconds===p.seconds&&d.nanos===p.nanos})(r,e);case 5:return r.stringValue===e.stringValue;case 6:return(function(o,h){return Ir(o.bytesValue).isEqual(Ir(h.bytesValue))})(r,e);case 7:return r.referenceValue===e.referenceValue;case 8:return(function(o,h){return me(o.geoPointValue.latitude)===me(h.geoPointValue.latitude)&&me(o.geoPointValue.longitude)===me(h.geoPointValue.longitude)})(r,e);case 2:return(function(o,h){if("integerValue"in o&&"integerValue"in h)return me(o.integerValue)===me(h.integerValue);if("doubleValue"in o&&"doubleValue"in h){const d=me(o.doubleValue),p=me(h.doubleValue);return d===p?vc(d)===vc(p):isNaN(d)&&isNaN(p)}return!1})(r,e);case 9:return Vs(r.arrayValue.values||[],e.arrayValue.values||[],oi);case 10:case 11:return(function(o,h){const d=o.mapValue.fields||{},p=h.mapValue.fields||{};if(y_(d)!==y_(p))return!1;for(const g in d)if(d.hasOwnProperty(g)&&(p[g]===void 0||!oi(d[g],p[g])))return!1;return!0})(r,e);default:return Et(52216,{left:r})}}function go(r,e){return(r.values||[]).find((i=>oi(i,e)))!==void 0}function Os(r,e){if(r===e)return 0;const i=Vr(r),s=Vr(e);if(i!==s)return Ot(i,s);switch(i){case 0:case 9007199254740991:return 0;case 1:return Ot(r.booleanValue,e.booleanValue);case 2:return(function(h,d){const p=me(h.integerValue||h.doubleValue),g=me(d.integerValue||d.doubleValue);return p<g?-1:p>g?1:p===g?0:isNaN(p)?isNaN(g)?0:-1:1})(r,e);case 3:return v_(r.timestampValue,e.timestampValue);case 4:return v_(mo(r),mo(e));case 5:return Ad(r.stringValue,e.stringValue);case 6:return(function(h,d){const p=Ir(h),g=Ir(d);return p.compareTo(g)})(r.bytesValue,e.bytesValue);case 7:return(function(h,d){const p=h.split("/"),g=d.split("/");for(let y=0;y<p.length&&y<g.length;y++){const E=Ot(p[y],g[y]);if(E!==0)return E}return Ot(p.length,g.length)})(r.referenceValue,e.referenceValue);case 8:return(function(h,d){const p=Ot(me(h.latitude),me(d.latitude));return p!==0?p:Ot(me(h.longitude),me(d.longitude))})(r.geoPointValue,e.geoPointValue);case 9:return E_(r.arrayValue,e.arrayValue);case 10:return(function(h,d){const p=h.fields||{},g=d.fields||{},y=p[Tc]?.arrayValue,E=g[Tc]?.arrayValue,S=Ot(y?.values?.length||0,E?.values?.length||0);return S!==0?S:E_(y,E)})(r.mapValue,e.mapValue);case 11:return(function(h,d){if(h===ec.mapValue&&d===ec.mapValue)return 0;if(h===ec.mapValue)return 1;if(d===ec.mapValue)return-1;const p=h.fields||{},g=Object.keys(p),y=d.fields||{},E=Object.keys(y);g.sort(),E.sort();for(let S=0;S<g.length&&S<E.length;++S){const R=Ad(g[S],E[S]);if(R!==0)return R;const L=Os(p[g[S]],y[E[S]]);if(L!==0)return L}return Ot(g.length,E.length)})(r.mapValue,e.mapValue);default:throw Et(23264,{he:i})}}function v_(r,e){if(typeof r=="string"&&typeof e=="string"&&r.length===e.length)return Ot(r,e);const i=Nr(r),s=Nr(e),o=Ot(i.seconds,s.seconds);return o!==0?o:Ot(i.nanos,s.nanos)}function E_(r,e){const i=r.values||[],s=e.values||[];for(let o=0;o<i.length&&o<s.length;++o){const h=Os(i[o],s[o]);if(h)return h}return Ot(i.length,s.length)}function Ms(r){return Sd(r)}function Sd(r){return"nullValue"in r?"null":"booleanValue"in r?""+r.booleanValue:"integerValue"in r?""+r.integerValue:"doubleValue"in r?""+r.doubleValue:"timestampValue"in r?(function(i){const s=Nr(i);return`time(${s.seconds},${s.nanos})`})(r.timestampValue):"stringValue"in r?r.stringValue:"bytesValue"in r?(function(i){return Ir(i).toBase64()})(r.bytesValue):"referenceValue"in r?(function(i){return yt.fromName(i).toString()})(r.referenceValue):"geoPointValue"in r?(function(i){return`geo(${i.latitude},${i.longitude})`})(r.geoPointValue):"arrayValue"in r?(function(i){let s="[",o=!0;for(const h of i.values||[])o?o=!1:s+=",",s+=Sd(h);return s+"]"})(r.arrayValue):"mapValue"in r?(function(i){const s=Object.keys(i.fields||{}).sort();let o="{",h=!0;for(const d of s)h?h=!1:o+=",",o+=`${d}:${Sd(i.fields[d])}`;return o+"}"})(r.mapValue):Et(61005,{value:r})}function cc(r){switch(Vr(r)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const e=kc(r);return e?16+cc(e):16;case 5:return 2*r.stringValue.length;case 6:return Ir(r.bytesValue).approximateByteSize();case 7:return r.referenceValue.length;case 9:return(function(s){return(s.values||[]).reduce(((o,h)=>o+cc(h)),0)})(r.arrayValue);case 10:case 11:return(function(s){let o=0;return wa(s.fields,((h,d)=>{o+=h.length+cc(d)})),o})(r.mapValue);default:throw Et(13486,{value:r})}}function bd(r){return!!r&&"integerValue"in r}function Wd(r){return!!r&&"arrayValue"in r}function T_(r){return!!r&&"nullValue"in r}function A_(r){return!!r&&"doubleValue"in r&&isNaN(Number(r.doubleValue))}function hc(r){return!!r&&"mapValue"in r}function Vb(r){return(r?.mapValue?.fields||{})[hE]?.stringValue===fE}function ao(r){if(r.geoPointValue)return{geoPointValue:{...r.geoPointValue}};if(r.timestampValue&&typeof r.timestampValue=="object")return{timestampValue:{...r.timestampValue}};if(r.mapValue){const e={mapValue:{fields:{}}};return wa(r.mapValue.fields,((i,s)=>e.mapValue.fields[i]=ao(s))),e}if(r.arrayValue){const e={arrayValue:{values:[]}};for(let i=0;i<(r.arrayValue.values||[]).length;++i)e.arrayValue.values[i]=ao(r.arrayValue.values[i]);return e}return{...r}}function Ob(r){return(((r.mapValue||{}).fields||{}).__type__||{}).stringValue===Ib}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Cn{constructor(e){this.value=e}static empty(){return new Cn({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let i=this.value;for(let s=0;s<e.length-1;++s)if(i=(i.mapValue.fields||{})[e.get(s)],!hc(i))return null;return i=(i.mapValue.fields||{})[e.lastSegment()],i||null}}set(e,i){this.getFieldsMap(e.popLast())[e.lastSegment()]=ao(i)}setAll(e){let i=He.emptyPath(),s={},o=[];e.forEach(((d,p)=>{if(!i.isImmediateParentOf(p)){const g=this.getFieldsMap(i);this.applyChanges(g,s,o),s={},o=[],i=p.popLast()}d?s[p.lastSegment()]=ao(d):o.push(p.lastSegment())}));const h=this.getFieldsMap(i);this.applyChanges(h,s,o)}delete(e){const i=this.field(e.popLast());hc(i)&&i.mapValue.fields&&delete i.mapValue.fields[e.lastSegment()]}isEqual(e){return oi(this.value,e.value)}getFieldsMap(e){let i=this.value;i.mapValue.fields||(i.mapValue={fields:{}});for(let s=0;s<e.length;++s){let o=i.mapValue.fields[e.get(s)];hc(o)&&o.mapValue.fields||(o={mapValue:{fields:{}}},i.mapValue.fields[e.get(s)]=o),i=o}return i.mapValue.fields}applyChanges(e,i,s){wa(i,((o,h)=>e[o]=h));for(const o of s)delete e[o]}clone(){return new Cn(ao(this.value))}}function dE(r){const e=[];return wa(r.fields,((i,s)=>{const o=new He([i]);if(hc(s)){const h=dE(s.mapValue).fields;if(h.length===0)e.push(o);else for(const d of h)e.push(o.child(d))}else e.push(o)})),new Un(e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xe{constructor(e,i,s,o,h,d,p){this.key=e,this.documentType=i,this.version=s,this.readTime=o,this.createTime=h,this.data=d,this.documentState=p}static newInvalidDocument(e){return new Xe(e,0,bt.min(),bt.min(),bt.min(),Cn.empty(),0)}static newFoundDocument(e,i,s,o){return new Xe(e,1,i,bt.min(),s,o,0)}static newNoDocument(e,i){return new Xe(e,2,i,bt.min(),bt.min(),Cn.empty(),0)}static newUnknownDocument(e,i){return new Xe(e,3,i,bt.min(),bt.min(),Cn.empty(),2)}convertToFoundDocument(e,i){return!this.createTime.isEqual(bt.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=i,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=Cn.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=Cn.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=bt.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof Xe&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new Xe(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ac{constructor(e,i){this.position=e,this.inclusive=i}}function S_(r,e,i){let s=0;for(let o=0;o<r.position.length;o++){const h=e[o],d=r.position[o];if(h.field.isKeyField()?s=yt.comparator(yt.fromName(d.referenceValue),i.key):s=Os(d,i.data.field(h.field)),h.dir==="desc"&&(s*=-1),s!==0)break}return s}function b_(r,e){if(r===null)return e===null;if(e===null||r.inclusive!==e.inclusive||r.position.length!==e.position.length)return!1;for(let i=0;i<r.position.length;i++)if(!oi(r.position[i],e.position[i]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Sc{constructor(e,i="asc"){this.field=e,this.dir=i}}function Mb(r,e){return r.dir===e.dir&&r.field.isEqual(e.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mE{}class we extends mE{constructor(e,i,s){super(),this.field=e,this.op=i,this.value=s}static create(e,i,s){return e.isKeyField()?i==="in"||i==="not-in"?this.createKeyFieldInFilter(e,i,s):new Ub(e,i,s):i==="array-contains"?new kb(e,s):i==="in"?new zb(e,s):i==="not-in"?new Bb(e,s):i==="array-contains-any"?new qb(e,s):new we(e,i,s)}static createKeyFieldInFilter(e,i,s){return i==="in"?new Lb(e,s):new Pb(e,s)}matches(e){const i=e.data.field(this.field);return this.op==="!="?i!==null&&i.nullValue===void 0&&this.matchesComparison(Os(i,this.value)):i!==null&&Vr(this.value)===Vr(i)&&this.matchesComparison(Os(i,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return Et(47266,{operator:this.op})}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class ui extends mE{constructor(e,i){super(),this.filters=e,this.op=i,this.Pe=null}static create(e,i){return new ui(e,i)}matches(e){return pE(this)?this.filters.find((i=>!i.matches(e)))===void 0:this.filters.find((i=>i.matches(e)))!==void 0}getFlattenedFilters(){return this.Pe!==null||(this.Pe=this.filters.reduce(((e,i)=>e.concat(i.getFlattenedFilters())),[])),this.Pe}getFilters(){return Object.assign([],this.filters)}}function pE(r){return r.op==="and"}function gE(r){return xb(r)&&pE(r)}function xb(r){for(const e of r.filters)if(e instanceof ui)return!1;return!0}function Rd(r){if(r instanceof we)return r.field.canonicalString()+r.op.toString()+Ms(r.value);if(gE(r))return r.filters.map((e=>Rd(e))).join(",");{const e=r.filters.map((i=>Rd(i))).join(",");return`${r.op}(${e})`}}function yE(r,e){return r instanceof we?(function(s,o){return o instanceof we&&s.op===o.op&&s.field.isEqual(o.field)&&oi(s.value,o.value)})(r,e):r instanceof ui?(function(s,o){return o instanceof ui&&s.op===o.op&&s.filters.length===o.filters.length?s.filters.reduce(((h,d,p)=>h&&yE(d,o.filters[p])),!0):!1})(r,e):void Et(19439)}function _E(r){return r instanceof we?(function(i){return`${i.field.canonicalString()} ${i.op} ${Ms(i.value)}`})(r):r instanceof ui?(function(i){return i.op.toString()+" {"+i.getFilters().map(_E).join(" ,")+"}"})(r):"Filter"}class Ub extends we{constructor(e,i,s){super(e,i,s),this.key=yt.fromName(s.referenceValue)}matches(e){const i=yt.comparator(e.key,this.key);return this.matchesComparison(i)}}class Lb extends we{constructor(e,i){super(e,"in",i),this.keys=vE("in",i)}matches(e){return this.keys.some((i=>i.isEqual(e.key)))}}class Pb extends we{constructor(e,i){super(e,"not-in",i),this.keys=vE("not-in",i)}matches(e){return!this.keys.some((i=>i.isEqual(e.key)))}}function vE(r,e){return(e.arrayValue?.values||[]).map((i=>yt.fromName(i.referenceValue)))}class kb extends we{constructor(e,i){super(e,"array-contains",i)}matches(e){const i=e.data.field(this.field);return Wd(i)&&go(i.arrayValue,this.value)}}class zb extends we{constructor(e,i){super(e,"in",i)}matches(e){const i=e.data.field(this.field);return i!==null&&go(this.value.arrayValue,i)}}class Bb extends we{constructor(e,i){super(e,"not-in",i)}matches(e){if(go(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const i=e.data.field(this.field);return i!==null&&i.nullValue===void 0&&!go(this.value.arrayValue,i)}}class qb extends we{constructor(e,i){super(e,"array-contains-any",i)}matches(e){const i=e.data.field(this.field);return!(!Wd(i)||!i.arrayValue.values)&&i.arrayValue.values.some((s=>go(this.value.arrayValue,s)))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Hb{constructor(e,i=null,s=[],o=[],h=null,d=null,p=null){this.path=e,this.collectionGroup=i,this.orderBy=s,this.filters=o,this.limit=h,this.startAt=d,this.endAt=p,this.Te=null}}function R_(r,e=null,i=[],s=[],o=null,h=null,d=null){return new Hb(r,e,i,s,o,h,d)}function tm(r){const e=Rt(r);if(e.Te===null){let i=e.path.canonicalString();e.collectionGroup!==null&&(i+="|cg:"+e.collectionGroup),i+="|f:",i+=e.filters.map((s=>Rd(s))).join(","),i+="|ob:",i+=e.orderBy.map((s=>(function(h){return h.field.canonicalString()+h.dir})(s))).join(","),Pc(e.limit)||(i+="|l:",i+=e.limit),e.startAt&&(i+="|lb:",i+=e.startAt.inclusive?"b:":"a:",i+=e.startAt.position.map((s=>Ms(s))).join(",")),e.endAt&&(i+="|ub:",i+=e.endAt.inclusive?"a:":"b:",i+=e.endAt.position.map((s=>Ms(s))).join(",")),e.Te=i}return e.Te}function em(r,e){if(r.limit!==e.limit||r.orderBy.length!==e.orderBy.length)return!1;for(let i=0;i<r.orderBy.length;i++)if(!Mb(r.orderBy[i],e.orderBy[i]))return!1;if(r.filters.length!==e.filters.length)return!1;for(let i=0;i<r.filters.length;i++)if(!yE(r.filters[i],e.filters[i]))return!1;return r.collectionGroup===e.collectionGroup&&!!r.path.isEqual(e.path)&&!!b_(r.startAt,e.startAt)&&b_(r.endAt,e.endAt)}function wd(r){return yt.isDocumentKey(r.path)&&r.collectionGroup===null&&r.filters.length===0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zc{constructor(e,i=null,s=[],o=[],h=null,d="F",p=null,g=null){this.path=e,this.collectionGroup=i,this.explicitOrderBy=s,this.filters=o,this.limit=h,this.limitType=d,this.startAt=p,this.endAt=g,this.Ie=null,this.Ee=null,this.de=null,this.startAt,this.endAt}}function jb(r,e,i,s,o,h,d,p){return new zc(r,e,i,s,o,h,d,p)}function nm(r){return new zc(r)}function w_(r){return r.filters.length===0&&r.limit===null&&r.startAt==null&&r.endAt==null&&(r.explicitOrderBy.length===0||r.explicitOrderBy.length===1&&r.explicitOrderBy[0].field.isKeyField())}function Fb(r){return r.collectionGroup!==null}function so(r){const e=Rt(r);if(e.Ie===null){e.Ie=[];const i=new Set;for(const h of e.explicitOrderBy)e.Ie.push(h),i.add(h.field.canonicalString());const s=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(d){let p=new Ce(He.comparator);return d.filters.forEach((g=>{g.getFlattenedFilters().forEach((y=>{y.isInequality()&&(p=p.add(y.field))}))})),p})(e).forEach((h=>{i.has(h.canonicalString())||h.isKeyField()||e.Ie.push(new Sc(h,s))})),i.has(He.keyField().canonicalString())||e.Ie.push(new Sc(He.keyField(),s))}return e.Ie}function ii(r){const e=Rt(r);return e.Ee||(e.Ee=Gb(e,so(r))),e.Ee}function Gb(r,e){if(r.limitType==="F")return R_(r.path,r.collectionGroup,e,r.filters,r.limit,r.startAt,r.endAt);{e=e.map((o=>{const h=o.dir==="desc"?"asc":"desc";return new Sc(o.field,h)}));const i=r.endAt?new Ac(r.endAt.position,r.endAt.inclusive):null,s=r.startAt?new Ac(r.startAt.position,r.startAt.inclusive):null;return R_(r.path,r.collectionGroup,e,r.filters,r.limit,i,s)}}function Cd(r,e,i){return new zc(r.path,r.collectionGroup,r.explicitOrderBy.slice(),r.filters.slice(),e,i,r.startAt,r.endAt)}function Bc(r,e){return em(ii(r),ii(e))&&r.limitType===e.limitType}function EE(r){return`${tm(ii(r))}|lt:${r.limitType}`}function Rs(r){return`Query(target=${(function(i){let s=i.path.canonicalString();return i.collectionGroup!==null&&(s+=" collectionGroup="+i.collectionGroup),i.filters.length>0&&(s+=`, filters: [${i.filters.map((o=>_E(o))).join(", ")}]`),Pc(i.limit)||(s+=", limit: "+i.limit),i.orderBy.length>0&&(s+=`, orderBy: [${i.orderBy.map((o=>(function(d){return`${d.field.canonicalString()} (${d.dir})`})(o))).join(", ")}]`),i.startAt&&(s+=", startAt: ",s+=i.startAt.inclusive?"b:":"a:",s+=i.startAt.position.map((o=>Ms(o))).join(",")),i.endAt&&(s+=", endAt: ",s+=i.endAt.inclusive?"a:":"b:",s+=i.endAt.position.map((o=>Ms(o))).join(",")),`Target(${s})`})(ii(r))}; limitType=${r.limitType})`}function qc(r,e){return e.isFoundDocument()&&(function(s,o){const h=o.key.path;return s.collectionGroup!==null?o.key.hasCollectionId(s.collectionGroup)&&s.path.isPrefixOf(h):yt.isDocumentKey(s.path)?s.path.isEqual(h):s.path.isImmediateParentOf(h)})(r,e)&&(function(s,o){for(const h of so(s))if(!h.field.isKeyField()&&o.data.field(h.field)===null)return!1;return!0})(r,e)&&(function(s,o){for(const h of s.filters)if(!h.matches(o))return!1;return!0})(r,e)&&(function(s,o){return!(s.startAt&&!(function(d,p,g){const y=S_(d,p,g);return d.inclusive?y<=0:y<0})(s.startAt,so(s),o)||s.endAt&&!(function(d,p,g){const y=S_(d,p,g);return d.inclusive?y>=0:y>0})(s.endAt,so(s),o))})(r,e)}function Qb(r){return r.collectionGroup||(r.path.length%2==1?r.path.lastSegment():r.path.get(r.path.length-2))}function TE(r){return(e,i)=>{let s=!1;for(const o of so(r)){const h=Yb(o,e,i);if(h!==0)return h;s=s||o.field.isKeyField()}return 0}}function Yb(r,e,i){const s=r.field.isKeyField()?yt.comparator(e.key,i.key):(function(h,d,p){const g=d.data.field(h),y=p.data.field(h);return g!==null&&y!==null?Os(g,y):Et(42886)})(r.field,e,i);switch(r.dir){case"asc":return s;case"desc":return-1*s;default:return Et(19790,{direction:r.dir})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ca{constructor(e,i){this.mapKeyFn=e,this.equalsFn=i,this.inner={},this.innerSize=0}get(e){const i=this.mapKeyFn(e),s=this.inner[i];if(s!==void 0){for(const[o,h]of s)if(this.equalsFn(o,e))return h}}has(e){return this.get(e)!==void 0}set(e,i){const s=this.mapKeyFn(e),o=this.inner[s];if(o===void 0)return this.inner[s]=[[e,i]],void this.innerSize++;for(let h=0;h<o.length;h++)if(this.equalsFn(o[h][0],e))return void(o[h]=[e,i]);o.push([e,i]),this.innerSize++}delete(e){const i=this.mapKeyFn(e),s=this.inner[i];if(s===void 0)return!1;for(let o=0;o<s.length;o++)if(this.equalsFn(s[o][0],e))return s.length===1?delete this.inner[i]:s.splice(o,1),this.innerSize--,!0;return!1}forEach(e){wa(this.inner,((i,s)=>{for(const[o,h]of s)e(o,h)}))}isEmpty(){return aE(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Kb=new le(yt.comparator);function ji(){return Kb}const AE=new le(yt.comparator);function eo(...r){let e=AE;for(const i of r)e=e.insert(i.key,i);return e}function SE(r){let e=AE;return r.forEach(((i,s)=>e=e.insert(i,s.overlayedDocument))),e}function va(){return lo()}function bE(){return lo()}function lo(){return new Ca((r=>r.toString()),((r,e)=>r.isEqual(e)))}const Xb=new le(yt.comparator),$b=new Ce(yt.comparator);function Mt(...r){let e=$b;for(const i of r)e=e.add(i);return e}const Zb=new Ce(Ot);function Jb(){return Zb}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function im(r,e){if(r.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:vc(e)?"-0":e}}function RE(r){return{integerValue:""+r}}function Wb(r,e){return Rb(e)?RE(e):im(r,e)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Hc{constructor(){this._=void 0}}function tR(r,e,i){return r instanceof bc?(function(o,h){const d={fields:{[oE]:{stringValue:lE},[cE]:{timestampValue:{seconds:o.seconds,nanos:o.nanoseconds}}}};return h&&Jd(h)&&(h=kc(h)),h&&(d.fields[uE]=h),{mapValue:d}})(i,e):r instanceof yo?CE(r,e):r instanceof _o?DE(r,e):(function(o,h){const d=wE(o,h),p=C_(d)+C_(o.Ae);return bd(d)&&bd(o.Ae)?RE(p):im(o.serializer,p)})(r,e)}function eR(r,e,i){return r instanceof yo?CE(r,e):r instanceof _o?DE(r,e):i}function wE(r,e){return r instanceof Rc?(function(s){return bd(s)||(function(h){return!!h&&"doubleValue"in h})(s)})(e)?e:{integerValue:0}:null}class bc extends Hc{}class yo extends Hc{constructor(e){super(),this.elements=e}}function CE(r,e){const i=NE(e);for(const s of r.elements)i.some((o=>oi(o,s)))||i.push(s);return{arrayValue:{values:i}}}class _o extends Hc{constructor(e){super(),this.elements=e}}function DE(r,e){let i=NE(e);for(const s of r.elements)i=i.filter((o=>!oi(o,s)));return{arrayValue:{values:i}}}class Rc extends Hc{constructor(e,i){super(),this.serializer=e,this.Ae=i}}function C_(r){return me(r.integerValue||r.doubleValue)}function NE(r){return Wd(r)&&r.arrayValue.values?r.arrayValue.values.slice():[]}function nR(r,e){return r.field.isEqual(e.field)&&(function(s,o){return s instanceof yo&&o instanceof yo||s instanceof _o&&o instanceof _o?Vs(s.elements,o.elements,oi):s instanceof Rc&&o instanceof Rc?oi(s.Ae,o.Ae):s instanceof bc&&o instanceof bc})(r.transform,e.transform)}class iR{constructor(e,i){this.version=e,this.transformResults=i}}class ri{constructor(e,i){this.updateTime=e,this.exists=i}static none(){return new ri}static exists(e){return new ri(void 0,e)}static updateTime(e){return new ri(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function fc(r,e){return r.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(r.updateTime):r.exists===void 0||r.exists===e.isFoundDocument()}class jc{}function IE(r,e){if(!r.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return r.isNoDocument()?new rm(r.key,ri.none()):new So(r.key,r.data,ri.none());{const i=r.data,s=Cn.empty();let o=new Ce(He.comparator);for(let h of e.fields)if(!o.has(h)){let d=i.field(h);d===null&&h.length>1&&(h=h.popLast(),d=i.field(h)),d===null?s.delete(h):s.set(h,d),o=o.add(h)}return new Da(r.key,s,new Un(o.toArray()),ri.none())}}function rR(r,e,i){r instanceof So?(function(o,h,d){const p=o.value.clone(),g=N_(o.fieldTransforms,h,d.transformResults);p.setAll(g),h.convertToFoundDocument(d.version,p).setHasCommittedMutations()})(r,e,i):r instanceof Da?(function(o,h,d){if(!fc(o.precondition,h))return void h.convertToUnknownDocument(d.version);const p=N_(o.fieldTransforms,h,d.transformResults),g=h.data;g.setAll(VE(o)),g.setAll(p),h.convertToFoundDocument(d.version,g).setHasCommittedMutations()})(r,e,i):(function(o,h,d){h.convertToNoDocument(d.version).setHasCommittedMutations()})(0,e,i)}function oo(r,e,i,s){return r instanceof So?(function(h,d,p,g){if(!fc(h.precondition,d))return p;const y=h.value.clone(),E=I_(h.fieldTransforms,g,d);return y.setAll(E),d.convertToFoundDocument(d.version,y).setHasLocalMutations(),null})(r,e,i,s):r instanceof Da?(function(h,d,p,g){if(!fc(h.precondition,d))return p;const y=I_(h.fieldTransforms,g,d),E=d.data;return E.setAll(VE(h)),E.setAll(y),d.convertToFoundDocument(d.version,E).setHasLocalMutations(),p===null?null:p.unionWith(h.fieldMask.fields).unionWith(h.fieldTransforms.map((S=>S.field)))})(r,e,i,s):(function(h,d,p){return fc(h.precondition,d)?(d.convertToNoDocument(d.version).setHasLocalMutations(),null):p})(r,e,i)}function aR(r,e){let i=null;for(const s of r.fieldTransforms){const o=e.data.field(s.field),h=wE(s.transform,o||null);h!=null&&(i===null&&(i=Cn.empty()),i.set(s.field,h))}return i||null}function D_(r,e){return r.type===e.type&&!!r.key.isEqual(e.key)&&!!r.precondition.isEqual(e.precondition)&&!!(function(s,o){return s===void 0&&o===void 0||!(!s||!o)&&Vs(s,o,((h,d)=>nR(h,d)))})(r.fieldTransforms,e.fieldTransforms)&&(r.type===0?r.value.isEqual(e.value):r.type!==1||r.data.isEqual(e.data)&&r.fieldMask.isEqual(e.fieldMask))}class So extends jc{constructor(e,i,s,o=[]){super(),this.key=e,this.value=i,this.precondition=s,this.fieldTransforms=o,this.type=0}getFieldMask(){return null}}class Da extends jc{constructor(e,i,s,o,h=[]){super(),this.key=e,this.data=i,this.fieldMask=s,this.precondition=o,this.fieldTransforms=h,this.type=1}getFieldMask(){return this.fieldMask}}function VE(r){const e=new Map;return r.fieldMask.fields.forEach((i=>{if(!i.isEmpty()){const s=r.data.field(i);e.set(i,s)}})),e}function N_(r,e,i){const s=new Map;jt(r.length===i.length,32656,{Re:i.length,Ve:r.length});for(let o=0;o<i.length;o++){const h=r[o],d=h.transform,p=e.data.field(h.field);s.set(h.field,eR(d,p,i[o]))}return s}function I_(r,e,i){const s=new Map;for(const o of r){const h=o.transform,d=i.data.field(o.field);s.set(o.field,tR(h,d,e))}return s}class rm extends jc{constructor(e,i){super(),this.key=e,this.precondition=i,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class sR extends jc{constructor(e,i){super(),this.key=e,this.precondition=i,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lR{constructor(e,i,s,o){this.batchId=e,this.localWriteTime=i,this.baseMutations=s,this.mutations=o}applyToRemoteDocument(e,i){const s=i.mutationResults;for(let o=0;o<this.mutations.length;o++){const h=this.mutations[o];h.key.isEqual(e.key)&&rR(h,e,s[o])}}applyToLocalView(e,i){for(const s of this.baseMutations)s.key.isEqual(e.key)&&(i=oo(s,e,i,this.localWriteTime));for(const s of this.mutations)s.key.isEqual(e.key)&&(i=oo(s,e,i,this.localWriteTime));return i}applyToLocalDocumentSet(e,i){const s=bE();return this.mutations.forEach((o=>{const h=e.get(o.key),d=h.overlayedDocument;let p=this.applyToLocalView(d,h.mutatedFields);p=i.has(o.key)?null:p;const g=IE(d,p);g!==null&&s.set(o.key,g),d.isValidDocument()||d.convertToNoDocument(bt.min())})),s}keys(){return this.mutations.reduce(((e,i)=>e.add(i.key)),Mt())}isEqual(e){return this.batchId===e.batchId&&Vs(this.mutations,e.mutations,((i,s)=>D_(i,s)))&&Vs(this.baseMutations,e.baseMutations,((i,s)=>D_(i,s)))}}class am{constructor(e,i,s,o){this.batch=e,this.commitVersion=i,this.mutationResults=s,this.docVersions=o}static from(e,i,s){jt(e.mutations.length===s.length,58842,{me:e.mutations.length,fe:s.length});let o=(function(){return Xb})();const h=e.mutations;for(let d=0;d<h.length;d++)o=o.insert(h[d].key,s[d].version);return new am(e,i,s,o)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oR{constructor(e,i){this.largestBatchId=e,this.mutation=i}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uR{constructor(e,i){this.count=e,this.unchangedNames=i}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var ve,Pt;function cR(r){switch(r){case et.OK:return Et(64938);case et.CANCELLED:case et.UNKNOWN:case et.DEADLINE_EXCEEDED:case et.RESOURCE_EXHAUSTED:case et.INTERNAL:case et.UNAVAILABLE:case et.UNAUTHENTICATED:return!1;case et.INVALID_ARGUMENT:case et.NOT_FOUND:case et.ALREADY_EXISTS:case et.PERMISSION_DENIED:case et.FAILED_PRECONDITION:case et.ABORTED:case et.OUT_OF_RANGE:case et.UNIMPLEMENTED:case et.DATA_LOSS:return!0;default:return Et(15467,{code:r})}}function OE(r){if(r===void 0)return Hi("GRPC error has no .code"),et.UNKNOWN;switch(r){case ve.OK:return et.OK;case ve.CANCELLED:return et.CANCELLED;case ve.UNKNOWN:return et.UNKNOWN;case ve.DEADLINE_EXCEEDED:return et.DEADLINE_EXCEEDED;case ve.RESOURCE_EXHAUSTED:return et.RESOURCE_EXHAUSTED;case ve.INTERNAL:return et.INTERNAL;case ve.UNAVAILABLE:return et.UNAVAILABLE;case ve.UNAUTHENTICATED:return et.UNAUTHENTICATED;case ve.INVALID_ARGUMENT:return et.INVALID_ARGUMENT;case ve.NOT_FOUND:return et.NOT_FOUND;case ve.ALREADY_EXISTS:return et.ALREADY_EXISTS;case ve.PERMISSION_DENIED:return et.PERMISSION_DENIED;case ve.FAILED_PRECONDITION:return et.FAILED_PRECONDITION;case ve.ABORTED:return et.ABORTED;case ve.OUT_OF_RANGE:return et.OUT_OF_RANGE;case ve.UNIMPLEMENTED:return et.UNIMPLEMENTED;case ve.DATA_LOSS:return et.DATA_LOSS;default:return Et(39323,{code:r})}}(Pt=ve||(ve={}))[Pt.OK=0]="OK",Pt[Pt.CANCELLED=1]="CANCELLED",Pt[Pt.UNKNOWN=2]="UNKNOWN",Pt[Pt.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",Pt[Pt.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",Pt[Pt.NOT_FOUND=5]="NOT_FOUND",Pt[Pt.ALREADY_EXISTS=6]="ALREADY_EXISTS",Pt[Pt.PERMISSION_DENIED=7]="PERMISSION_DENIED",Pt[Pt.UNAUTHENTICATED=16]="UNAUTHENTICATED",Pt[Pt.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",Pt[Pt.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",Pt[Pt.ABORTED=10]="ABORTED",Pt[Pt.OUT_OF_RANGE=11]="OUT_OF_RANGE",Pt[Pt.UNIMPLEMENTED=12]="UNIMPLEMENTED",Pt[Pt.INTERNAL=13]="INTERNAL",Pt[Pt.UNAVAILABLE=14]="UNAVAILABLE",Pt[Pt.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function hR(){return new TextEncoder}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const fR=new Sr([4294967295,4294967295],0);function V_(r){const e=hR().encode(r),i=new Kv;return i.update(e),new Uint8Array(i.digest())}function O_(r){const e=new DataView(r.buffer),i=e.getUint32(0,!0),s=e.getUint32(4,!0),o=e.getUint32(8,!0),h=e.getUint32(12,!0);return[new Sr([i,s],0),new Sr([o,h],0)]}class sm{constructor(e,i,s){if(this.bitmap=e,this.padding=i,this.hashCount=s,i<0||i>=8)throw new no(`Invalid padding: ${i}`);if(s<0)throw new no(`Invalid hash count: ${s}`);if(e.length>0&&this.hashCount===0)throw new no(`Invalid hash count: ${s}`);if(e.length===0&&i!==0)throw new no(`Invalid padding when bitmap length is 0: ${i}`);this.ge=8*e.length-i,this.pe=Sr.fromNumber(this.ge)}ye(e,i,s){let o=e.add(i.multiply(Sr.fromNumber(s)));return o.compare(fR)===1&&(o=new Sr([o.getBits(0),o.getBits(1)],0)),o.modulo(this.pe).toNumber()}we(e){return!!(this.bitmap[Math.floor(e/8)]&1<<e%8)}mightContain(e){if(this.ge===0)return!1;const i=V_(e),[s,o]=O_(i);for(let h=0;h<this.hashCount;h++){const d=this.ye(s,o,h);if(!this.we(d))return!1}return!0}static create(e,i,s){const o=e%8==0?0:8-e%8,h=new Uint8Array(Math.ceil(e/8)),d=new sm(h,o,i);return s.forEach((p=>d.insert(p))),d}insert(e){if(this.ge===0)return;const i=V_(e),[s,o]=O_(i);for(let h=0;h<this.hashCount;h++){const d=this.ye(s,o,h);this.Se(d)}}Se(e){const i=Math.floor(e/8),s=e%8;this.bitmap[i]|=1<<s}}class no extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fc{constructor(e,i,s,o,h){this.snapshotVersion=e,this.targetChanges=i,this.targetMismatches=s,this.documentUpdates=o,this.resolvedLimboDocuments=h}static createSynthesizedRemoteEventForCurrentChange(e,i,s){const o=new Map;return o.set(e,bo.createSynthesizedTargetChangeForCurrentChange(e,i,s)),new Fc(bt.min(),o,new le(Ot),ji(),Mt())}}class bo{constructor(e,i,s,o,h){this.resumeToken=e,this.current=i,this.addedDocuments=s,this.modifiedDocuments=o,this.removedDocuments=h}static createSynthesizedTargetChangeForCurrentChange(e,i,s){return new bo(s,i,Mt(),Mt(),Mt())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dc{constructor(e,i,s,o){this.be=e,this.removedTargetIds=i,this.key=s,this.De=o}}class ME{constructor(e,i){this.targetId=e,this.Ce=i}}class xE{constructor(e,i,s=je.EMPTY_BYTE_STRING,o=null){this.state=e,this.targetIds=i,this.resumeToken=s,this.cause=o}}class M_{constructor(){this.ve=0,this.Fe=x_(),this.Me=je.EMPTY_BYTE_STRING,this.xe=!1,this.Oe=!0}get current(){return this.xe}get resumeToken(){return this.Me}get Ne(){return this.ve!==0}get Be(){return this.Oe}Le(e){e.approximateByteSize()>0&&(this.Oe=!0,this.Me=e)}ke(){let e=Mt(),i=Mt(),s=Mt();return this.Fe.forEach(((o,h)=>{switch(h){case 0:e=e.add(o);break;case 2:i=i.add(o);break;case 1:s=s.add(o);break;default:Et(38017,{changeType:h})}})),new bo(this.Me,this.xe,e,i,s)}qe(){this.Oe=!1,this.Fe=x_()}Qe(e,i){this.Oe=!0,this.Fe=this.Fe.insert(e,i)}$e(e){this.Oe=!0,this.Fe=this.Fe.remove(e)}Ue(){this.ve+=1}Ke(){this.ve-=1,jt(this.ve>=0,3241,{ve:this.ve})}We(){this.Oe=!0,this.xe=!0}}class dR{constructor(e){this.Ge=e,this.ze=new Map,this.je=ji(),this.Je=nc(),this.He=nc(),this.Ye=new le(Ot)}Ze(e){for(const i of e.be)e.De&&e.De.isFoundDocument()?this.Xe(i,e.De):this.et(i,e.key,e.De);for(const i of e.removedTargetIds)this.et(i,e.key,e.De)}tt(e){this.forEachTarget(e,(i=>{const s=this.nt(i);switch(e.state){case 0:this.rt(i)&&s.Le(e.resumeToken);break;case 1:s.Ke(),s.Ne||s.qe(),s.Le(e.resumeToken);break;case 2:s.Ke(),s.Ne||this.removeTarget(i);break;case 3:this.rt(i)&&(s.We(),s.Le(e.resumeToken));break;case 4:this.rt(i)&&(this.it(i),s.Le(e.resumeToken));break;default:Et(56790,{state:e.state})}}))}forEachTarget(e,i){e.targetIds.length>0?e.targetIds.forEach(i):this.ze.forEach(((s,o)=>{this.rt(o)&&i(o)}))}st(e){const i=e.targetId,s=e.Ce.count,o=this.ot(i);if(o){const h=o.target;if(wd(h))if(s===0){const d=new yt(h.path);this.et(i,d,Xe.newNoDocument(d,bt.min()))}else jt(s===1,20013,{expectedCount:s});else{const d=this._t(i);if(d!==s){const p=this.ut(e),g=p?this.ct(p,e,d):1;if(g!==0){this.it(i);const y=g===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ye=this.Ye.insert(i,y)}}}}}ut(e){const i=e.Ce.unchangedNames;if(!i||!i.bits)return null;const{bits:{bitmap:s="",padding:o=0},hashCount:h=0}=i;let d,p;try{d=Ir(s).toUint8Array()}catch(g){if(g instanceof sE)return Is("Decoding the base64 bloom filter in existence filter failed ("+g.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw g}try{p=new sm(d,o,h)}catch(g){return Is(g instanceof no?"BloomFilter error: ":"Applying bloom filter failed: ",g),null}return p.ge===0?null:p}ct(e,i,s){return i.Ce.count===s-this.Pt(e,i.targetId)?0:2}Pt(e,i){const s=this.Ge.getRemoteKeysForTarget(i);let o=0;return s.forEach((h=>{const d=this.Ge.ht(),p=`projects/${d.projectId}/databases/${d.database}/documents/${h.path.canonicalString()}`;e.mightContain(p)||(this.et(i,h,null),o++)})),o}Tt(e){const i=new Map;this.ze.forEach(((h,d)=>{const p=this.ot(d);if(p){if(h.current&&wd(p.target)){const g=new yt(p.target.path);this.It(g).has(d)||this.Et(d,g)||this.et(d,g,Xe.newNoDocument(g,e))}h.Be&&(i.set(d,h.ke()),h.qe())}}));let s=Mt();this.He.forEach(((h,d)=>{let p=!0;d.forEachWhile((g=>{const y=this.ot(g);return!y||y.purpose==="TargetPurposeLimboResolution"||(p=!1,!1)})),p&&(s=s.add(h))})),this.je.forEach(((h,d)=>d.setReadTime(e)));const o=new Fc(e,i,this.Ye,this.je,s);return this.je=ji(),this.Je=nc(),this.He=nc(),this.Ye=new le(Ot),o}Xe(e,i){if(!this.rt(e))return;const s=this.Et(e,i.key)?2:0;this.nt(e).Qe(i.key,s),this.je=this.je.insert(i.key,i),this.Je=this.Je.insert(i.key,this.It(i.key).add(e)),this.He=this.He.insert(i.key,this.dt(i.key).add(e))}et(e,i,s){if(!this.rt(e))return;const o=this.nt(e);this.Et(e,i)?o.Qe(i,1):o.$e(i),this.He=this.He.insert(i,this.dt(i).delete(e)),this.He=this.He.insert(i,this.dt(i).add(e)),s&&(this.je=this.je.insert(i,s))}removeTarget(e){this.ze.delete(e)}_t(e){const i=this.nt(e).ke();return this.Ge.getRemoteKeysForTarget(e).size+i.addedDocuments.size-i.removedDocuments.size}Ue(e){this.nt(e).Ue()}nt(e){let i=this.ze.get(e);return i||(i=new M_,this.ze.set(e,i)),i}dt(e){let i=this.He.get(e);return i||(i=new Ce(Ot),this.He=this.He.insert(e,i)),i}It(e){let i=this.Je.get(e);return i||(i=new Ce(Ot),this.Je=this.Je.insert(e,i)),i}rt(e){const i=this.ot(e)!==null;return i||ut("WatchChangeAggregator","Detected inactive target",e),i}ot(e){const i=this.ze.get(e);return i&&i.Ne?null:this.Ge.At(e)}it(e){this.ze.set(e,new M_),this.Ge.getRemoteKeysForTarget(e).forEach((i=>{this.et(e,i,null)}))}Et(e,i){return this.Ge.getRemoteKeysForTarget(e).has(i)}}function nc(){return new le(yt.comparator)}function x_(){return new le(yt.comparator)}const mR={asc:"ASCENDING",desc:"DESCENDING"},pR={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},gR={and:"AND",or:"OR"};class yR{constructor(e,i){this.databaseId=e,this.useProto3Json=i}}function Dd(r,e){return r.useProto3Json||Pc(e)?e:{value:e}}function wc(r,e){return r.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function UE(r,e){return r.useProto3Json?e.toBase64():e.toUint8Array()}function _R(r,e){return wc(r,e.toTimestamp())}function ai(r){return jt(!!r,49232),bt.fromTimestamp((function(i){const s=Nr(i);return new ne(s.seconds,s.nanos)})(r))}function lm(r,e){return Nd(r,e).canonicalString()}function Nd(r,e){const i=(function(o){return new ee(["projects",o.projectId,"databases",o.database])})(r).child("documents");return e===void 0?i:i.child(e)}function LE(r){const e=ee.fromString(r);return jt(qE(e),10190,{key:e.toString()}),e}function Id(r,e){return lm(r.databaseId,e.path)}function ud(r,e){const i=LE(e);if(i.get(1)!==r.databaseId.projectId)throw new mt(et.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+i.get(1)+" vs "+r.databaseId.projectId);if(i.get(3)!==r.databaseId.database)throw new mt(et.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+i.get(3)+" vs "+r.databaseId.database);return new yt(kE(i))}function PE(r,e){return lm(r.databaseId,e)}function vR(r){const e=LE(r);return e.length===4?ee.emptyPath():kE(e)}function Vd(r){return new ee(["projects",r.databaseId.projectId,"databases",r.databaseId.database]).canonicalString()}function kE(r){return jt(r.length>4&&r.get(4)==="documents",29091,{key:r.toString()}),r.popFirst(5)}function U_(r,e,i){return{name:Id(r,e),fields:i.value.mapValue.fields}}function ER(r,e){let i;if("targetChange"in e){e.targetChange;const s=(function(y){return y==="NO_CHANGE"?0:y==="ADD"?1:y==="REMOVE"?2:y==="CURRENT"?3:y==="RESET"?4:Et(39313,{state:y})})(e.targetChange.targetChangeType||"NO_CHANGE"),o=e.targetChange.targetIds||[],h=(function(y,E){return y.useProto3Json?(jt(E===void 0||typeof E=="string",58123),je.fromBase64String(E||"")):(jt(E===void 0||E instanceof Buffer||E instanceof Uint8Array,16193),je.fromUint8Array(E||new Uint8Array))})(r,e.targetChange.resumeToken),d=e.targetChange.cause,p=d&&(function(y){const E=y.code===void 0?et.UNKNOWN:OE(y.code);return new mt(E,y.message||"")})(d);i=new xE(s,o,h,p||null)}else if("documentChange"in e){e.documentChange;const s=e.documentChange;s.document,s.document.name,s.document.updateTime;const o=ud(r,s.document.name),h=ai(s.document.updateTime),d=s.document.createTime?ai(s.document.createTime):bt.min(),p=new Cn({mapValue:{fields:s.document.fields}}),g=Xe.newFoundDocument(o,h,d,p),y=s.targetIds||[],E=s.removedTargetIds||[];i=new dc(y,E,g.key,g)}else if("documentDelete"in e){e.documentDelete;const s=e.documentDelete;s.document;const o=ud(r,s.document),h=s.readTime?ai(s.readTime):bt.min(),d=Xe.newNoDocument(o,h),p=s.removedTargetIds||[];i=new dc([],p,d.key,d)}else if("documentRemove"in e){e.documentRemove;const s=e.documentRemove;s.document;const o=ud(r,s.document),h=s.removedTargetIds||[];i=new dc([],h,o,null)}else{if(!("filter"in e))return Et(11601,{Rt:e});{e.filter;const s=e.filter;s.targetId;const{count:o=0,unchangedNames:h}=s,d=new uR(o,h),p=s.targetId;i=new ME(p,d)}}return i}function TR(r,e){let i;if(e instanceof So)i={update:U_(r,e.key,e.value)};else if(e instanceof rm)i={delete:Id(r,e.key)};else if(e instanceof Da)i={update:U_(r,e.key,e.data),updateMask:IR(e.fieldMask)};else{if(!(e instanceof sR))return Et(16599,{Vt:e.type});i={verify:Id(r,e.key)}}return e.fieldTransforms.length>0&&(i.updateTransforms=e.fieldTransforms.map((s=>(function(h,d){const p=d.transform;if(p instanceof bc)return{fieldPath:d.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(p instanceof yo)return{fieldPath:d.field.canonicalString(),appendMissingElements:{values:p.elements}};if(p instanceof _o)return{fieldPath:d.field.canonicalString(),removeAllFromArray:{values:p.elements}};if(p instanceof Rc)return{fieldPath:d.field.canonicalString(),increment:p.Ae};throw Et(20930,{transform:d.transform})})(0,s)))),e.precondition.isNone||(i.currentDocument=(function(o,h){return h.updateTime!==void 0?{updateTime:_R(o,h.updateTime)}:h.exists!==void 0?{exists:h.exists}:Et(27497)})(r,e.precondition)),i}function AR(r,e){return r&&r.length>0?(jt(e!==void 0,14353),r.map((i=>(function(o,h){let d=o.updateTime?ai(o.updateTime):ai(h);return d.isEqual(bt.min())&&(d=ai(h)),new iR(d,o.transformResults||[])})(i,e)))):[]}function SR(r,e){return{documents:[PE(r,e.path)]}}function bR(r,e){const i={structuredQuery:{}},s=e.path;let o;e.collectionGroup!==null?(o=s,i.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(o=s.popLast(),i.structuredQuery.from=[{collectionId:s.lastSegment()}]),i.parent=PE(r,o);const h=(function(y){if(y.length!==0)return BE(ui.create(y,"and"))})(e.filters);h&&(i.structuredQuery.where=h);const d=(function(y){if(y.length!==0)return y.map((E=>(function(R){return{field:ws(R.field),direction:CR(R.dir)}})(E)))})(e.orderBy);d&&(i.structuredQuery.orderBy=d);const p=Dd(r,e.limit);return p!==null&&(i.structuredQuery.limit=p),e.startAt&&(i.structuredQuery.startAt=(function(y){return{before:y.inclusive,values:y.position}})(e.startAt)),e.endAt&&(i.structuredQuery.endAt=(function(y){return{before:!y.inclusive,values:y.position}})(e.endAt)),{ft:i,parent:o}}function RR(r){let e=vR(r.parent);const i=r.structuredQuery,s=i.from?i.from.length:0;let o=null;if(s>0){jt(s===1,65062);const E=i.from[0];E.allDescendants?o=E.collectionId:e=e.child(E.collectionId)}let h=[];i.where&&(h=(function(S){const R=zE(S);return R instanceof ui&&gE(R)?R.getFilters():[R]})(i.where));let d=[];i.orderBy&&(d=(function(S){return S.map((R=>(function(G){return new Sc(Cs(G.field),(function(H){switch(H){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}})(G.direction))})(R)))})(i.orderBy));let p=null;i.limit&&(p=(function(S){let R;return R=typeof S=="object"?S.value:S,Pc(R)?null:R})(i.limit));let g=null;i.startAt&&(g=(function(S){const R=!!S.before,L=S.values||[];return new Ac(L,R)})(i.startAt));let y=null;return i.endAt&&(y=(function(S){const R=!S.before,L=S.values||[];return new Ac(L,R)})(i.endAt)),jb(e,o,d,h,p,"F",g,y)}function wR(r,e){const i=(function(o){switch(o){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return Et(28987,{purpose:o})}})(e.purpose);return i==null?null:{"goog-listen-tags":i}}function zE(r){return r.unaryFilter!==void 0?(function(i){switch(i.unaryFilter.op){case"IS_NAN":const s=Cs(i.unaryFilter.field);return we.create(s,"==",{doubleValue:NaN});case"IS_NULL":const o=Cs(i.unaryFilter.field);return we.create(o,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const h=Cs(i.unaryFilter.field);return we.create(h,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const d=Cs(i.unaryFilter.field);return we.create(d,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":return Et(61313);default:return Et(60726)}})(r):r.fieldFilter!==void 0?(function(i){return we.create(Cs(i.fieldFilter.field),(function(o){switch(o){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":return Et(58110);default:return Et(50506)}})(i.fieldFilter.op),i.fieldFilter.value)})(r):r.compositeFilter!==void 0?(function(i){return ui.create(i.compositeFilter.filters.map((s=>zE(s))),(function(o){switch(o){case"AND":return"and";case"OR":return"or";default:return Et(1026)}})(i.compositeFilter.op))})(r):Et(30097,{filter:r})}function CR(r){return mR[r]}function DR(r){return pR[r]}function NR(r){return gR[r]}function ws(r){return{fieldPath:r.canonicalString()}}function Cs(r){return He.fromServerFormat(r.fieldPath)}function BE(r){return r instanceof we?(function(i){if(i.op==="=="){if(A_(i.value))return{unaryFilter:{field:ws(i.field),op:"IS_NAN"}};if(T_(i.value))return{unaryFilter:{field:ws(i.field),op:"IS_NULL"}}}else if(i.op==="!="){if(A_(i.value))return{unaryFilter:{field:ws(i.field),op:"IS_NOT_NAN"}};if(T_(i.value))return{unaryFilter:{field:ws(i.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:ws(i.field),op:DR(i.op),value:i.value}}})(r):r instanceof ui?(function(i){const s=i.getFilters().map((o=>BE(o)));return s.length===1?s[0]:{compositeFilter:{op:NR(i.op),filters:s}}})(r):Et(54877,{filter:r})}function IR(r){const e=[];return r.fields.forEach((i=>e.push(i.canonicalString()))),{fieldPaths:e}}function qE(r){return r.length>=4&&r.get(0)==="projects"&&r.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vr{constructor(e,i,s,o,h=bt.min(),d=bt.min(),p=je.EMPTY_BYTE_STRING,g=null){this.target=e,this.targetId=i,this.purpose=s,this.sequenceNumber=o,this.snapshotVersion=h,this.lastLimboFreeSnapshotVersion=d,this.resumeToken=p,this.expectedCount=g}withSequenceNumber(e){return new vr(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,i){return new vr(this.target,this.targetId,this.purpose,this.sequenceNumber,i,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new vr(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new vr(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class VR{constructor(e){this.yt=e}}function OR(r){const e=RR({parent:r.parent,structuredQuery:r.structuredQuery});return r.limitType==="LAST"?Cd(e,e.limit,"L"):e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class MR{constructor(){this.Cn=new xR}addToCollectionParentIndex(e,i){return this.Cn.add(i),W.resolve()}getCollectionParents(e,i){return W.resolve(this.Cn.getEntries(i))}addFieldIndex(e,i){return W.resolve()}deleteFieldIndex(e,i){return W.resolve()}deleteAllFieldIndexes(e){return W.resolve()}createTargetIndexes(e,i){return W.resolve()}getDocumentsMatchingTarget(e,i){return W.resolve(null)}getIndexType(e,i){return W.resolve(0)}getFieldIndexes(e,i){return W.resolve([])}getNextCollectionGroupToUpdate(e){return W.resolve(null)}getMinOffset(e,i){return W.resolve(Dr.min())}getMinOffsetFromCollectionGroup(e,i){return W.resolve(Dr.min())}updateCollectionGroup(e,i,s){return W.resolve()}updateIndexEntries(e,i){return W.resolve()}}class xR{constructor(){this.index={}}add(e){const i=e.lastSegment(),s=e.popLast(),o=this.index[i]||new Ce(ee.comparator),h=!o.has(s);return this.index[i]=o.add(s),h}has(e){const i=e.lastSegment(),s=e.popLast(),o=this.index[i];return o&&o.has(s)}getEntries(e){return(this.index[e]||new Ce(ee.comparator)).toArray()}}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const L_={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},HE=41943040;class rn{static withCacheSize(e){return new rn(e,rn.DEFAULT_COLLECTION_PERCENTILE,rn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(e,i,s){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=i,this.maximumSequenceNumbersToCollect=s}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */rn.DEFAULT_COLLECTION_PERCENTILE=10,rn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,rn.DEFAULT=new rn(HE,rn.DEFAULT_COLLECTION_PERCENTILE,rn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),rn.DISABLED=new rn(-1,0,0);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xs{constructor(e){this.ar=e}next(){return this.ar+=2,this.ar}static ur(){return new xs(0)}static cr(){return new xs(-1)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const P_="LruGarbageCollector",UR=1048576;function k_([r,e],[i,s]){const o=Ot(r,i);return o===0?Ot(e,s):o}class LR{constructor(e){this.Ir=e,this.buffer=new Ce(k_),this.Er=0}dr(){return++this.Er}Ar(e){const i=[e,this.dr()];if(this.buffer.size<this.Ir)this.buffer=this.buffer.add(i);else{const s=this.buffer.last();k_(i,s)<0&&(this.buffer=this.buffer.delete(s).add(i))}}get maxValue(){return this.buffer.last()[0]}}class PR{constructor(e,i,s){this.garbageCollector=e,this.asyncQueue=i,this.localStore=s,this.Rr=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.Vr(6e4)}stop(){this.Rr&&(this.Rr.cancel(),this.Rr=null)}get started(){return this.Rr!==null}Vr(e){ut(P_,`Garbage collection scheduled in ${e}ms`),this.Rr=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,(async()=>{this.Rr=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(i){Hs(i)?ut(P_,"Ignoring IndexedDB error during garbage collection: ",i):await qs(i)}await this.Vr(3e5)}))}}class kR{constructor(e,i){this.mr=e,this.params=i}calculateTargetCount(e,i){return this.mr.gr(e).next((s=>Math.floor(i/100*s)))}nthSequenceNumber(e,i){if(i===0)return W.resolve(Lc.ce);const s=new LR(i);return this.mr.forEachTarget(e,(o=>s.Ar(o.sequenceNumber))).next((()=>this.mr.pr(e,(o=>s.Ar(o))))).next((()=>s.maxValue))}removeTargets(e,i,s){return this.mr.removeTargets(e,i,s)}removeOrphanedDocuments(e,i){return this.mr.removeOrphanedDocuments(e,i)}collect(e,i){return this.params.cacheSizeCollectionThreshold===-1?(ut("LruGarbageCollector","Garbage collection skipped; disabled"),W.resolve(L_)):this.getCacheSize(e).next((s=>s<this.params.cacheSizeCollectionThreshold?(ut("LruGarbageCollector",`Garbage collection skipped; Cache size ${s} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),L_):this.yr(e,i)))}getCacheSize(e){return this.mr.getCacheSize(e)}yr(e,i){let s,o,h,d,p,g,y;const E=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next((S=>(S>this.params.maximumSequenceNumbersToCollect?(ut("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${S}`),o=this.params.maximumSequenceNumbersToCollect):o=S,d=Date.now(),this.nthSequenceNumber(e,o)))).next((S=>(s=S,p=Date.now(),this.removeTargets(e,s,i)))).next((S=>(h=S,g=Date.now(),this.removeOrphanedDocuments(e,s)))).next((S=>(y=Date.now(),bs()<=kt.DEBUG&&ut("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${d-E}ms
	Determined least recently used ${o} in `+(p-d)+`ms
	Removed ${h} targets in `+(g-p)+`ms
	Removed ${S} documents in `+(y-g)+`ms
Total Duration: ${y-E}ms`),W.resolve({didRun:!0,sequenceNumbersCollected:o,targetsRemoved:h,documentsRemoved:S}))))}}function zR(r,e){return new kR(r,e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class BR{constructor(){this.changes=new Ca((e=>e.toString()),((e,i)=>e.isEqual(i))),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,i){this.assertNotApplied(),this.changes.set(e,Xe.newInvalidDocument(e).setReadTime(i))}getEntry(e,i){this.assertNotApplied();const s=this.changes.get(i);return s!==void 0?W.resolve(s):this.getFromCache(e,i)}getEntries(e,i){return this.getAllFromCache(e,i)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qR{constructor(e,i){this.overlayedDocument=e,this.mutatedFields=i}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class HR{constructor(e,i,s,o){this.remoteDocumentCache=e,this.mutationQueue=i,this.documentOverlayCache=s,this.indexManager=o}getDocument(e,i){let s=null;return this.documentOverlayCache.getOverlay(e,i).next((o=>(s=o,this.remoteDocumentCache.getEntry(e,i)))).next((o=>(s!==null&&oo(s.mutation,o,Un.empty(),ne.now()),o)))}getDocuments(e,i){return this.remoteDocumentCache.getEntries(e,i).next((s=>this.getLocalViewOfDocuments(e,s,Mt()).next((()=>s))))}getLocalViewOfDocuments(e,i,s=Mt()){const o=va();return this.populateOverlays(e,o,i).next((()=>this.computeViews(e,i,o,s).next((h=>{let d=eo();return h.forEach(((p,g)=>{d=d.insert(p,g.overlayedDocument)})),d}))))}getOverlayedDocuments(e,i){const s=va();return this.populateOverlays(e,s,i).next((()=>this.computeViews(e,i,s,Mt())))}populateOverlays(e,i,s){const o=[];return s.forEach((h=>{i.has(h)||o.push(h)})),this.documentOverlayCache.getOverlays(e,o).next((h=>{h.forEach(((d,p)=>{i.set(d,p)}))}))}computeViews(e,i,s,o){let h=ji();const d=lo(),p=(function(){return lo()})();return i.forEach(((g,y)=>{const E=s.get(y.key);o.has(y.key)&&(E===void 0||E.mutation instanceof Da)?h=h.insert(y.key,y):E!==void 0?(d.set(y.key,E.mutation.getFieldMask()),oo(E.mutation,y,E.mutation.getFieldMask(),ne.now())):d.set(y.key,Un.empty())})),this.recalculateAndSaveOverlays(e,h).next((g=>(g.forEach(((y,E)=>d.set(y,E))),i.forEach(((y,E)=>p.set(y,new qR(E,d.get(y)??null)))),p)))}recalculateAndSaveOverlays(e,i){const s=lo();let o=new le(((d,p)=>d-p)),h=Mt();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,i).next((d=>{for(const p of d)p.keys().forEach((g=>{const y=i.get(g);if(y===null)return;let E=s.get(g)||Un.empty();E=p.applyToLocalView(y,E),s.set(g,E);const S=(o.get(p.batchId)||Mt()).add(g);o=o.insert(p.batchId,S)}))})).next((()=>{const d=[],p=o.getReverseIterator();for(;p.hasNext();){const g=p.getNext(),y=g.key,E=g.value,S=bE();E.forEach((R=>{if(!h.has(R)){const L=IE(i.get(R),s.get(R));L!==null&&S.set(R,L),h=h.add(R)}})),d.push(this.documentOverlayCache.saveOverlays(e,y,S))}return W.waitFor(d)})).next((()=>s))}recalculateAndSaveOverlaysForDocumentKeys(e,i){return this.remoteDocumentCache.getEntries(e,i).next((s=>this.recalculateAndSaveOverlays(e,s)))}getDocumentsMatchingQuery(e,i,s,o){return(function(d){return yt.isDocumentKey(d.path)&&d.collectionGroup===null&&d.filters.length===0})(i)?this.getDocumentsMatchingDocumentQuery(e,i.path):Fb(i)?this.getDocumentsMatchingCollectionGroupQuery(e,i,s,o):this.getDocumentsMatchingCollectionQuery(e,i,s,o)}getNextDocuments(e,i,s,o){return this.remoteDocumentCache.getAllFromCollectionGroup(e,i,s,o).next((h=>{const d=o-h.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,i,s.largestBatchId,o-h.size):W.resolve(va());let p=fo,g=h;return d.next((y=>W.forEach(y,((E,S)=>(p<S.largestBatchId&&(p=S.largestBatchId),h.get(E)?W.resolve():this.remoteDocumentCache.getEntry(e,E).next((R=>{g=g.insert(E,R)}))))).next((()=>this.populateOverlays(e,y,h))).next((()=>this.computeViews(e,g,y,Mt()))).next((E=>({batchId:p,changes:SE(E)})))))}))}getDocumentsMatchingDocumentQuery(e,i){return this.getDocument(e,new yt(i)).next((s=>{let o=eo();return s.isFoundDocument()&&(o=o.insert(s.key,s)),o}))}getDocumentsMatchingCollectionGroupQuery(e,i,s,o){const h=i.collectionGroup;let d=eo();return this.indexManager.getCollectionParents(e,h).next((p=>W.forEach(p,(g=>{const y=(function(S,R){return new zc(R,null,S.explicitOrderBy.slice(),S.filters.slice(),S.limit,S.limitType,S.startAt,S.endAt)})(i,g.child(h));return this.getDocumentsMatchingCollectionQuery(e,y,s,o).next((E=>{E.forEach(((S,R)=>{d=d.insert(S,R)}))}))})).next((()=>d))))}getDocumentsMatchingCollectionQuery(e,i,s,o){let h;return this.documentOverlayCache.getOverlaysForCollection(e,i.path,s.largestBatchId).next((d=>(h=d,this.remoteDocumentCache.getDocumentsMatchingQuery(e,i,s,h,o)))).next((d=>{h.forEach(((g,y)=>{const E=y.getKey();d.get(E)===null&&(d=d.insert(E,Xe.newInvalidDocument(E)))}));let p=eo();return d.forEach(((g,y)=>{const E=h.get(g);E!==void 0&&oo(E.mutation,y,Un.empty(),ne.now()),qc(i,y)&&(p=p.insert(g,y))})),p}))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jR{constructor(e){this.serializer=e,this.Lr=new Map,this.kr=new Map}getBundleMetadata(e,i){return W.resolve(this.Lr.get(i))}saveBundleMetadata(e,i){return this.Lr.set(i.id,(function(o){return{id:o.id,version:o.version,createTime:ai(o.createTime)}})(i)),W.resolve()}getNamedQuery(e,i){return W.resolve(this.kr.get(i))}saveNamedQuery(e,i){return this.kr.set(i.name,(function(o){return{name:o.name,query:OR(o.bundledQuery),readTime:ai(o.readTime)}})(i)),W.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class FR{constructor(){this.overlays=new le(yt.comparator),this.qr=new Map}getOverlay(e,i){return W.resolve(this.overlays.get(i))}getOverlays(e,i){const s=va();return W.forEach(i,(o=>this.getOverlay(e,o).next((h=>{h!==null&&s.set(o,h)})))).next((()=>s))}saveOverlays(e,i,s){return s.forEach(((o,h)=>{this.St(e,i,h)})),W.resolve()}removeOverlaysForBatchId(e,i,s){const o=this.qr.get(s);return o!==void 0&&(o.forEach((h=>this.overlays=this.overlays.remove(h))),this.qr.delete(s)),W.resolve()}getOverlaysForCollection(e,i,s){const o=va(),h=i.length+1,d=new yt(i.child("")),p=this.overlays.getIteratorFrom(d);for(;p.hasNext();){const g=p.getNext().value,y=g.getKey();if(!i.isPrefixOf(y.path))break;y.path.length===h&&g.largestBatchId>s&&o.set(g.getKey(),g)}return W.resolve(o)}getOverlaysForCollectionGroup(e,i,s,o){let h=new le(((y,E)=>y-E));const d=this.overlays.getIterator();for(;d.hasNext();){const y=d.getNext().value;if(y.getKey().getCollectionGroup()===i&&y.largestBatchId>s){let E=h.get(y.largestBatchId);E===null&&(E=va(),h=h.insert(y.largestBatchId,E)),E.set(y.getKey(),y)}}const p=va(),g=h.getIterator();for(;g.hasNext()&&(g.getNext().value.forEach(((y,E)=>p.set(y,E))),!(p.size()>=o)););return W.resolve(p)}St(e,i,s){const o=this.overlays.get(s.key);if(o!==null){const d=this.qr.get(o.largestBatchId).delete(s.key);this.qr.set(o.largestBatchId,d)}this.overlays=this.overlays.insert(s.key,new oR(i,s));let h=this.qr.get(i);h===void 0&&(h=Mt(),this.qr.set(i,h)),this.qr.set(i,h.add(s.key))}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class GR{constructor(){this.sessionToken=je.EMPTY_BYTE_STRING}getSessionToken(e){return W.resolve(this.sessionToken)}setSessionToken(e,i){return this.sessionToken=i,W.resolve()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class om{constructor(){this.Qr=new Ce(xe.$r),this.Ur=new Ce(xe.Kr)}isEmpty(){return this.Qr.isEmpty()}addReference(e,i){const s=new xe(e,i);this.Qr=this.Qr.add(s),this.Ur=this.Ur.add(s)}Wr(e,i){e.forEach((s=>this.addReference(s,i)))}removeReference(e,i){this.Gr(new xe(e,i))}zr(e,i){e.forEach((s=>this.removeReference(s,i)))}jr(e){const i=new yt(new ee([])),s=new xe(i,e),o=new xe(i,e+1),h=[];return this.Ur.forEachInRange([s,o],(d=>{this.Gr(d),h.push(d.key)})),h}Jr(){this.Qr.forEach((e=>this.Gr(e)))}Gr(e){this.Qr=this.Qr.delete(e),this.Ur=this.Ur.delete(e)}Hr(e){const i=new yt(new ee([])),s=new xe(i,e),o=new xe(i,e+1);let h=Mt();return this.Ur.forEachInRange([s,o],(d=>{h=h.add(d.key)})),h}containsKey(e){const i=new xe(e,0),s=this.Qr.firstAfterOrEqual(i);return s!==null&&e.isEqual(s.key)}}class xe{constructor(e,i){this.key=e,this.Yr=i}static $r(e,i){return yt.comparator(e.key,i.key)||Ot(e.Yr,i.Yr)}static Kr(e,i){return Ot(e.Yr,i.Yr)||yt.comparator(e.key,i.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class QR{constructor(e,i){this.indexManager=e,this.referenceDelegate=i,this.mutationQueue=[],this.tr=1,this.Zr=new Ce(xe.$r)}checkEmpty(e){return W.resolve(this.mutationQueue.length===0)}addMutationBatch(e,i,s,o){const h=this.tr;this.tr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const d=new lR(h,i,s,o);this.mutationQueue.push(d);for(const p of o)this.Zr=this.Zr.add(new xe(p.key,h)),this.indexManager.addToCollectionParentIndex(e,p.key.path.popLast());return W.resolve(d)}lookupMutationBatch(e,i){return W.resolve(this.Xr(i))}getNextMutationBatchAfterBatchId(e,i){const s=i+1,o=this.ei(s),h=o<0?0:o;return W.resolve(this.mutationQueue.length>h?this.mutationQueue[h]:null)}getHighestUnacknowledgedBatchId(){return W.resolve(this.mutationQueue.length===0?Zd:this.tr-1)}getAllMutationBatches(e){return W.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,i){const s=new xe(i,0),o=new xe(i,Number.POSITIVE_INFINITY),h=[];return this.Zr.forEachInRange([s,o],(d=>{const p=this.Xr(d.Yr);h.push(p)})),W.resolve(h)}getAllMutationBatchesAffectingDocumentKeys(e,i){let s=new Ce(Ot);return i.forEach((o=>{const h=new xe(o,0),d=new xe(o,Number.POSITIVE_INFINITY);this.Zr.forEachInRange([h,d],(p=>{s=s.add(p.Yr)}))})),W.resolve(this.ti(s))}getAllMutationBatchesAffectingQuery(e,i){const s=i.path,o=s.length+1;let h=s;yt.isDocumentKey(h)||(h=h.child(""));const d=new xe(new yt(h),0);let p=new Ce(Ot);return this.Zr.forEachWhile((g=>{const y=g.key.path;return!!s.isPrefixOf(y)&&(y.length===o&&(p=p.add(g.Yr)),!0)}),d),W.resolve(this.ti(p))}ti(e){const i=[];return e.forEach((s=>{const o=this.Xr(s);o!==null&&i.push(o)})),i}removeMutationBatch(e,i){jt(this.ni(i.batchId,"removed")===0,55003),this.mutationQueue.shift();let s=this.Zr;return W.forEach(i.mutations,(o=>{const h=new xe(o.key,i.batchId);return s=s.delete(h),this.referenceDelegate.markPotentiallyOrphaned(e,o.key)})).next((()=>{this.Zr=s}))}ir(e){}containsKey(e,i){const s=new xe(i,0),o=this.Zr.firstAfterOrEqual(s);return W.resolve(i.isEqual(o&&o.key))}performConsistencyCheck(e){return this.mutationQueue.length,W.resolve()}ni(e,i){return this.ei(e)}ei(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Xr(e){const i=this.ei(e);return i<0||i>=this.mutationQueue.length?null:this.mutationQueue[i]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class YR{constructor(e){this.ri=e,this.docs=(function(){return new le(yt.comparator)})(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,i){const s=i.key,o=this.docs.get(s),h=o?o.size:0,d=this.ri(i);return this.docs=this.docs.insert(s,{document:i.mutableCopy(),size:d}),this.size+=d-h,this.indexManager.addToCollectionParentIndex(e,s.path.popLast())}removeEntry(e){const i=this.docs.get(e);i&&(this.docs=this.docs.remove(e),this.size-=i.size)}getEntry(e,i){const s=this.docs.get(i);return W.resolve(s?s.document.mutableCopy():Xe.newInvalidDocument(i))}getEntries(e,i){let s=ji();return i.forEach((o=>{const h=this.docs.get(o);s=s.insert(o,h?h.document.mutableCopy():Xe.newInvalidDocument(o))})),W.resolve(s)}getDocumentsMatchingQuery(e,i,s,o){let h=ji();const d=i.path,p=new yt(d.child("__id-9223372036854775808__")),g=this.docs.getIteratorFrom(p);for(;g.hasNext();){const{key:y,value:{document:E}}=g.getNext();if(!d.isPrefixOf(y.path))break;y.path.length>d.length+1||Tb(Eb(E),s)<=0||(o.has(E.key)||qc(i,E))&&(h=h.insert(E.key,E.mutableCopy()))}return W.resolve(h)}getAllFromCollectionGroup(e,i,s,o){Et(9500)}ii(e,i){return W.forEach(this.docs,(s=>i(s)))}newChangeBuffer(e){return new KR(this)}getSize(e){return W.resolve(this.size)}}class KR extends BR{constructor(e){super(),this.Nr=e}applyChanges(e){const i=[];return this.changes.forEach(((s,o)=>{o.isValidDocument()?i.push(this.Nr.addEntry(e,o)):this.Nr.removeEntry(s)})),W.waitFor(i)}getFromCache(e,i){return this.Nr.getEntry(e,i)}getAllFromCache(e,i){return this.Nr.getEntries(e,i)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class XR{constructor(e){this.persistence=e,this.si=new Ca((i=>tm(i)),em),this.lastRemoteSnapshotVersion=bt.min(),this.highestTargetId=0,this.oi=0,this._i=new om,this.targetCount=0,this.ai=xs.ur()}forEachTarget(e,i){return this.si.forEach(((s,o)=>i(o))),W.resolve()}getLastRemoteSnapshotVersion(e){return W.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return W.resolve(this.oi)}allocateTargetId(e){return this.highestTargetId=this.ai.next(),W.resolve(this.highestTargetId)}setTargetsMetadata(e,i,s){return s&&(this.lastRemoteSnapshotVersion=s),i>this.oi&&(this.oi=i),W.resolve()}Pr(e){this.si.set(e.target,e);const i=e.targetId;i>this.highestTargetId&&(this.ai=new xs(i),this.highestTargetId=i),e.sequenceNumber>this.oi&&(this.oi=e.sequenceNumber)}addTargetData(e,i){return this.Pr(i),this.targetCount+=1,W.resolve()}updateTargetData(e,i){return this.Pr(i),W.resolve()}removeTargetData(e,i){return this.si.delete(i.target),this._i.jr(i.targetId),this.targetCount-=1,W.resolve()}removeTargets(e,i,s){let o=0;const h=[];return this.si.forEach(((d,p)=>{p.sequenceNumber<=i&&s.get(p.targetId)===null&&(this.si.delete(d),h.push(this.removeMatchingKeysForTargetId(e,p.targetId)),o++)})),W.waitFor(h).next((()=>o))}getTargetCount(e){return W.resolve(this.targetCount)}getTargetData(e,i){const s=this.si.get(i)||null;return W.resolve(s)}addMatchingKeys(e,i,s){return this._i.Wr(i,s),W.resolve()}removeMatchingKeys(e,i,s){this._i.zr(i,s);const o=this.persistence.referenceDelegate,h=[];return o&&i.forEach((d=>{h.push(o.markPotentiallyOrphaned(e,d))})),W.waitFor(h)}removeMatchingKeysForTargetId(e,i){return this._i.jr(i),W.resolve()}getMatchingKeysForTargetId(e,i){const s=this._i.Hr(i);return W.resolve(s)}containsKey(e,i){return W.resolve(this._i.containsKey(i))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jE{constructor(e,i){this.ui={},this.overlays={},this.ci=new Lc(0),this.li=!1,this.li=!0,this.hi=new GR,this.referenceDelegate=e(this),this.Pi=new XR(this),this.indexManager=new MR,this.remoteDocumentCache=(function(o){return new YR(o)})((s=>this.referenceDelegate.Ti(s))),this.serializer=new VR(i),this.Ii=new jR(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.li=!1,Promise.resolve()}get started(){return this.li}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let i=this.overlays[e.toKey()];return i||(i=new FR,this.overlays[e.toKey()]=i),i}getMutationQueue(e,i){let s=this.ui[e.toKey()];return s||(s=new QR(i,this.referenceDelegate),this.ui[e.toKey()]=s),s}getGlobalsCache(){return this.hi}getTargetCache(){return this.Pi}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Ii}runTransaction(e,i,s){ut("MemoryPersistence","Starting transaction:",e);const o=new $R(this.ci.next());return this.referenceDelegate.Ei(),s(o).next((h=>this.referenceDelegate.di(o).next((()=>h)))).toPromise().then((h=>(o.raiseOnCommittedEvent(),h)))}Ai(e,i){return W.or(Object.values(this.ui).map((s=>()=>s.containsKey(e,i))))}}class $R extends Sb{constructor(e){super(),this.currentSequenceNumber=e}}class um{constructor(e){this.persistence=e,this.Ri=new om,this.Vi=null}static mi(e){return new um(e)}get fi(){if(this.Vi)return this.Vi;throw Et(60996)}addReference(e,i,s){return this.Ri.addReference(s,i),this.fi.delete(s.toString()),W.resolve()}removeReference(e,i,s){return this.Ri.removeReference(s,i),this.fi.add(s.toString()),W.resolve()}markPotentiallyOrphaned(e,i){return this.fi.add(i.toString()),W.resolve()}removeTarget(e,i){this.Ri.jr(i.targetId).forEach((o=>this.fi.add(o.toString())));const s=this.persistence.getTargetCache();return s.getMatchingKeysForTargetId(e,i.targetId).next((o=>{o.forEach((h=>this.fi.add(h.toString())))})).next((()=>s.removeTargetData(e,i)))}Ei(){this.Vi=new Set}di(e){const i=this.persistence.getRemoteDocumentCache().newChangeBuffer();return W.forEach(this.fi,(s=>{const o=yt.fromPath(s);return this.gi(e,o).next((h=>{h||i.removeEntry(o,bt.min())}))})).next((()=>(this.Vi=null,i.apply(e))))}updateLimboDocument(e,i){return this.gi(e,i).next((s=>{s?this.fi.delete(i.toString()):this.fi.add(i.toString())}))}Ti(e){return 0}gi(e,i){return W.or([()=>W.resolve(this.Ri.containsKey(i)),()=>this.persistence.getTargetCache().containsKey(e,i),()=>this.persistence.Ai(e,i)])}}class Cc{constructor(e,i){this.persistence=e,this.pi=new Ca((s=>wb(s.path)),((s,o)=>s.isEqual(o))),this.garbageCollector=zR(this,i)}static mi(e,i){return new Cc(e,i)}Ei(){}di(e){return W.resolve()}forEachTarget(e,i){return this.persistence.getTargetCache().forEachTarget(e,i)}gr(e){const i=this.wr(e);return this.persistence.getTargetCache().getTargetCount(e).next((s=>i.next((o=>s+o))))}wr(e){let i=0;return this.pr(e,(s=>{i++})).next((()=>i))}pr(e,i){return W.forEach(this.pi,((s,o)=>this.br(e,s,o).next((h=>h?W.resolve():i(o)))))}removeTargets(e,i,s){return this.persistence.getTargetCache().removeTargets(e,i,s)}removeOrphanedDocuments(e,i){let s=0;const o=this.persistence.getRemoteDocumentCache(),h=o.newChangeBuffer();return o.ii(e,(d=>this.br(e,d,i).next((p=>{p||(s++,h.removeEntry(d,bt.min()))})))).next((()=>h.apply(e))).next((()=>s))}markPotentiallyOrphaned(e,i){return this.pi.set(i,e.currentSequenceNumber),W.resolve()}removeTarget(e,i){const s=i.withSequenceNumber(e.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(e,s)}addReference(e,i,s){return this.pi.set(s,e.currentSequenceNumber),W.resolve()}removeReference(e,i,s){return this.pi.set(s,e.currentSequenceNumber),W.resolve()}updateLimboDocument(e,i){return this.pi.set(i,e.currentSequenceNumber),W.resolve()}Ti(e){let i=e.key.toString().length;return e.isFoundDocument()&&(i+=cc(e.data.value)),i}br(e,i,s){return W.or([()=>this.persistence.Ai(e,i),()=>this.persistence.getTargetCache().containsKey(e,i),()=>{const o=this.pi.get(i);return W.resolve(o!==void 0&&o>s)}])}getCacheSize(e){return this.persistence.getRemoteDocumentCache().getSize(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cm{constructor(e,i,s,o){this.targetId=e,this.fromCache=i,this.Es=s,this.ds=o}static As(e,i){let s=Mt(),o=Mt();for(const h of i.docChanges)switch(h.type){case 0:s=s.add(h.doc.key);break;case 1:o=o.add(h.doc.key)}return new cm(e,i.fromCache,s,o)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ZR{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class JR{constructor(){this.Rs=!1,this.Vs=!1,this.fs=100,this.gs=(function(){return KA()?8:bb(QA())>0?6:4})()}initialize(e,i){this.ps=e,this.indexManager=i,this.Rs=!0}getDocumentsMatchingQuery(e,i,s,o){const h={result:null};return this.ys(e,i).next((d=>{h.result=d})).next((()=>{if(!h.result)return this.ws(e,i,o,s).next((d=>{h.result=d}))})).next((()=>{if(h.result)return;const d=new ZR;return this.Ss(e,i,d).next((p=>{if(h.result=p,this.Vs)return this.bs(e,i,d,p.size)}))})).next((()=>h.result))}bs(e,i,s,o){return s.documentReadCount<this.fs?(bs()<=kt.DEBUG&&ut("QueryEngine","SDK will not create cache indexes for query:",Rs(i),"since it only creates cache indexes for collection contains","more than or equal to",this.fs,"documents"),W.resolve()):(bs()<=kt.DEBUG&&ut("QueryEngine","Query:",Rs(i),"scans",s.documentReadCount,"local documents and returns",o,"documents as results."),s.documentReadCount>this.gs*o?(bs()<=kt.DEBUG&&ut("QueryEngine","The SDK decides to create cache indexes for query:",Rs(i),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,ii(i))):W.resolve())}ys(e,i){if(w_(i))return W.resolve(null);let s=ii(i);return this.indexManager.getIndexType(e,s).next((o=>o===0?null:(i.limit!==null&&o===1&&(i=Cd(i,null,"F"),s=ii(i)),this.indexManager.getDocumentsMatchingTarget(e,s).next((h=>{const d=Mt(...h);return this.ps.getDocuments(e,d).next((p=>this.indexManager.getMinOffset(e,s).next((g=>{const y=this.Ds(i,p);return this.Cs(i,y,d,g.readTime)?this.ys(e,Cd(i,null,"F")):this.vs(e,y,i,g)}))))})))))}ws(e,i,s,o){return w_(i)||o.isEqual(bt.min())?W.resolve(null):this.ps.getDocuments(e,s).next((h=>{const d=this.Ds(i,h);return this.Cs(i,d,s,o)?W.resolve(null):(bs()<=kt.DEBUG&&ut("QueryEngine","Re-using previous result from %s to execute query: %s",o.toString(),Rs(i)),this.vs(e,d,i,vb(o,fo)).next((p=>p)))}))}Ds(e,i){let s=new Ce(TE(e));return i.forEach(((o,h)=>{qc(e,h)&&(s=s.add(h))})),s}Cs(e,i,s,o){if(e.limit===null)return!1;if(s.size!==i.size)return!0;const h=e.limitType==="F"?i.last():i.first();return!!h&&(h.hasPendingWrites||h.version.compareTo(o)>0)}Ss(e,i,s){return bs()<=kt.DEBUG&&ut("QueryEngine","Using full collection scan to execute query:",Rs(i)),this.ps.getDocumentsMatchingQuery(e,i,Dr.min(),s)}vs(e,i,s,o){return this.ps.getDocumentsMatchingQuery(e,s,o).next((h=>(i.forEach((d=>{h=h.insert(d.key,d)})),h)))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const hm="LocalStore",WR=3e8;class t2{constructor(e,i,s,o){this.persistence=e,this.Fs=i,this.serializer=o,this.Ms=new le(Ot),this.xs=new Ca((h=>tm(h)),em),this.Os=new Map,this.Ns=e.getRemoteDocumentCache(),this.Pi=e.getTargetCache(),this.Ii=e.getBundleCache(),this.Bs(s)}Bs(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new HR(this.Ns,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Ns.setIndexManager(this.indexManager),this.Fs.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",(i=>e.collect(i,this.Ms)))}}function e2(r,e,i,s){return new t2(r,e,i,s)}async function FE(r,e){const i=Rt(r);return await i.persistence.runTransaction("Handle user change","readonly",(s=>{let o;return i.mutationQueue.getAllMutationBatches(s).next((h=>(o=h,i.Bs(e),i.mutationQueue.getAllMutationBatches(s)))).next((h=>{const d=[],p=[];let g=Mt();for(const y of o){d.push(y.batchId);for(const E of y.mutations)g=g.add(E.key)}for(const y of h){p.push(y.batchId);for(const E of y.mutations)g=g.add(E.key)}return i.localDocuments.getDocuments(s,g).next((y=>({Ls:y,removedBatchIds:d,addedBatchIds:p})))}))}))}function n2(r,e){const i=Rt(r);return i.persistence.runTransaction("Acknowledge batch","readwrite-primary",(s=>{const o=e.batch.keys(),h=i.Ns.newChangeBuffer({trackRemovals:!0});return(function(p,g,y,E){const S=y.batch,R=S.keys();let L=W.resolve();return R.forEach((G=>{L=L.next((()=>E.getEntry(g,G))).next(($=>{const H=y.docVersions.get(G);jt(H!==null,48541),$.version.compareTo(H)<0&&(S.applyToRemoteDocument($,y),$.isValidDocument()&&($.setReadTime(y.commitVersion),E.addEntry($)))}))})),L.next((()=>p.mutationQueue.removeMutationBatch(g,S)))})(i,s,e,h).next((()=>h.apply(s))).next((()=>i.mutationQueue.performConsistencyCheck(s))).next((()=>i.documentOverlayCache.removeOverlaysForBatchId(s,o,e.batch.batchId))).next((()=>i.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(s,(function(p){let g=Mt();for(let y=0;y<p.mutationResults.length;++y)p.mutationResults[y].transformResults.length>0&&(g=g.add(p.batch.mutations[y].key));return g})(e)))).next((()=>i.localDocuments.getDocuments(s,o)))}))}function GE(r){const e=Rt(r);return e.persistence.runTransaction("Get last remote snapshot version","readonly",(i=>e.Pi.getLastRemoteSnapshotVersion(i)))}function i2(r,e){const i=Rt(r),s=e.snapshotVersion;let o=i.Ms;return i.persistence.runTransaction("Apply remote event","readwrite-primary",(h=>{const d=i.Ns.newChangeBuffer({trackRemovals:!0});o=i.Ms;const p=[];e.targetChanges.forEach(((E,S)=>{const R=o.get(S);if(!R)return;p.push(i.Pi.removeMatchingKeys(h,E.removedDocuments,S).next((()=>i.Pi.addMatchingKeys(h,E.addedDocuments,S))));let L=R.withSequenceNumber(h.currentSequenceNumber);e.targetMismatches.get(S)!==null?L=L.withResumeToken(je.EMPTY_BYTE_STRING,bt.min()).withLastLimboFreeSnapshotVersion(bt.min()):E.resumeToken.approximateByteSize()>0&&(L=L.withResumeToken(E.resumeToken,s)),o=o.insert(S,L),(function($,H,nt){return $.resumeToken.approximateByteSize()===0||H.snapshotVersion.toMicroseconds()-$.snapshotVersion.toMicroseconds()>=WR?!0:nt.addedDocuments.size+nt.modifiedDocuments.size+nt.removedDocuments.size>0})(R,L,E)&&p.push(i.Pi.updateTargetData(h,L))}));let g=ji(),y=Mt();if(e.documentUpdates.forEach((E=>{e.resolvedLimboDocuments.has(E)&&p.push(i.persistence.referenceDelegate.updateLimboDocument(h,E))})),p.push(r2(h,d,e.documentUpdates).next((E=>{g=E.ks,y=E.qs}))),!s.isEqual(bt.min())){const E=i.Pi.getLastRemoteSnapshotVersion(h).next((S=>i.Pi.setTargetsMetadata(h,h.currentSequenceNumber,s)));p.push(E)}return W.waitFor(p).next((()=>d.apply(h))).next((()=>i.localDocuments.getLocalViewOfDocuments(h,g,y))).next((()=>g))})).then((h=>(i.Ms=o,h)))}function r2(r,e,i){let s=Mt(),o=Mt();return i.forEach((h=>s=s.add(h))),e.getEntries(r,s).next((h=>{let d=ji();return i.forEach(((p,g)=>{const y=h.get(p);g.isFoundDocument()!==y.isFoundDocument()&&(o=o.add(p)),g.isNoDocument()&&g.version.isEqual(bt.min())?(e.removeEntry(p,g.readTime),d=d.insert(p,g)):!y.isValidDocument()||g.version.compareTo(y.version)>0||g.version.compareTo(y.version)===0&&y.hasPendingWrites?(e.addEntry(g),d=d.insert(p,g)):ut(hm,"Ignoring outdated watch update for ",p,". Current version:",y.version," Watch version:",g.version)})),{ks:d,qs:o}}))}function a2(r,e){const i=Rt(r);return i.persistence.runTransaction("Get next mutation batch","readonly",(s=>(e===void 0&&(e=Zd),i.mutationQueue.getNextMutationBatchAfterBatchId(s,e))))}function s2(r,e){const i=Rt(r);return i.persistence.runTransaction("Allocate target","readwrite",(s=>{let o;return i.Pi.getTargetData(s,e).next((h=>h?(o=h,W.resolve(o)):i.Pi.allocateTargetId(s).next((d=>(o=new vr(e,d,"TargetPurposeListen",s.currentSequenceNumber),i.Pi.addTargetData(s,o).next((()=>o)))))))})).then((s=>{const o=i.Ms.get(s.targetId);return(o===null||s.snapshotVersion.compareTo(o.snapshotVersion)>0)&&(i.Ms=i.Ms.insert(s.targetId,s),i.xs.set(e,s.targetId)),s}))}async function Od(r,e,i){const s=Rt(r),o=s.Ms.get(e),h=i?"readwrite":"readwrite-primary";try{i||await s.persistence.runTransaction("Release target",h,(d=>s.persistence.referenceDelegate.removeTarget(d,o)))}catch(d){if(!Hs(d))throw d;ut(hm,`Failed to update sequence numbers for target ${e}: ${d}`)}s.Ms=s.Ms.remove(e),s.xs.delete(o.target)}function z_(r,e,i){const s=Rt(r);let o=bt.min(),h=Mt();return s.persistence.runTransaction("Execute query","readwrite",(d=>(function(g,y,E){const S=Rt(g),R=S.xs.get(E);return R!==void 0?W.resolve(S.Ms.get(R)):S.Pi.getTargetData(y,E)})(s,d,ii(e)).next((p=>{if(p)return o=p.lastLimboFreeSnapshotVersion,s.Pi.getMatchingKeysForTargetId(d,p.targetId).next((g=>{h=g}))})).next((()=>s.Fs.getDocumentsMatchingQuery(d,e,i?o:bt.min(),i?h:Mt()))).next((p=>(l2(s,Qb(e),p),{documents:p,Qs:h})))))}function l2(r,e,i){let s=r.Os.get(e)||bt.min();i.forEach(((o,h)=>{h.readTime.compareTo(s)>0&&(s=h.readTime)})),r.Os.set(e,s)}class B_{constructor(){this.activeTargetIds=Jb()}zs(e){this.activeTargetIds=this.activeTargetIds.add(e)}js(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Gs(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class o2{constructor(){this.Mo=new B_,this.xo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,i,s){}addLocalQueryTarget(e,i=!0){return i&&this.Mo.zs(e),this.xo[e]||"not-current"}updateQueryState(e,i,s){this.xo[e]=i}removeLocalQueryTarget(e){this.Mo.js(e)}isLocalQueryTarget(e){return this.Mo.activeTargetIds.has(e)}clearQueryState(e){delete this.xo[e]}getAllActiveQueryTargets(){return this.Mo.activeTargetIds}isActiveQueryTarget(e){return this.Mo.activeTargetIds.has(e)}start(){return this.Mo=new B_,Promise.resolve()}handleUserChange(e,i,s){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class u2{Oo(e){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const q_="ConnectivityMonitor";class H_{constructor(){this.No=()=>this.Bo(),this.Lo=()=>this.ko(),this.qo=[],this.Qo()}Oo(e){this.qo.push(e)}shutdown(){window.removeEventListener("online",this.No),window.removeEventListener("offline",this.Lo)}Qo(){window.addEventListener("online",this.No),window.addEventListener("offline",this.Lo)}Bo(){ut(q_,"Network connectivity changed: AVAILABLE");for(const e of this.qo)e(0)}ko(){ut(q_,"Network connectivity changed: UNAVAILABLE");for(const e of this.qo)e(1)}static v(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let ic=null;function Md(){return ic===null?ic=(function(){return 268435456+Math.round(2147483648*Math.random())})():ic++,"0x"+ic.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const cd="RestConnection",c2={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class h2{get $o(){return!1}constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;const i=e.ssl?"https":"http",s=encodeURIComponent(this.databaseId.projectId),o=encodeURIComponent(this.databaseId.database);this.Uo=i+"://"+e.host,this.Ko=`projects/${s}/databases/${o}`,this.Wo=this.databaseId.database===Ec?`project_id=${s}`:`project_id=${s}&database_id=${o}`}Go(e,i,s,o,h){const d=Md(),p=this.zo(e,i.toUriEncodedString());ut(cd,`Sending RPC '${e}' ${d}:`,p,s);const g={"google-cloud-resource-prefix":this.Ko,"x-goog-request-params":this.Wo};this.jo(g,o,h);const{host:y}=new URL(p),E=Uc(y);return this.Jo(e,p,g,s,E).then((S=>(ut(cd,`Received RPC '${e}' ${d}: `,S),S)),(S=>{throw Is(cd,`RPC '${e}' ${d} failed with error: `,S,"url: ",p,"request:",s),S}))}Ho(e,i,s,o,h,d){return this.Go(e,i,s,o,h)}jo(e,i,s){e["X-Goog-Api-Client"]=(function(){return"gl-js/ fire/"+Bs})(),e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),i&&i.headers.forEach(((o,h)=>e[h]=o)),s&&s.headers.forEach(((o,h)=>e[h]=o))}zo(e,i){const s=c2[e];return`${this.Uo}/v1/${i}:${s}`}terminate(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class f2{constructor(e){this.Yo=e.Yo,this.Zo=e.Zo}Xo(e){this.e_=e}t_(e){this.n_=e}r_(e){this.i_=e}onMessage(e){this.s_=e}close(){this.Zo()}send(e){this.Yo(e)}o_(){this.e_()}__(){this.n_()}a_(e){this.i_(e)}u_(e){this.s_(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ye="WebChannelConnection";class d2 extends h2{constructor(e){super(e),this.c_=[],this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}Jo(e,i,s,o,h){const d=Md();return new Promise(((p,g)=>{const y=new Xv;y.setWithCredentials(!0),y.listenOnce($v.COMPLETE,(()=>{try{switch(y.getLastErrorCode()){case uc.NO_ERROR:const S=y.getResponseJson();ut(Ye,`XHR for RPC '${e}' ${d} received:`,JSON.stringify(S)),p(S);break;case uc.TIMEOUT:ut(Ye,`RPC '${e}' ${d} timed out`),g(new mt(et.DEADLINE_EXCEEDED,"Request time out"));break;case uc.HTTP_ERROR:const R=y.getStatus();if(ut(Ye,`RPC '${e}' ${d} failed with status:`,R,"response text:",y.getResponseText()),R>0){let L=y.getResponseJson();Array.isArray(L)&&(L=L[0]);const G=L?.error;if(G&&G.status&&G.message){const $=(function(nt){const tt=nt.toLowerCase().replace(/_/g,"-");return Object.values(et).indexOf(tt)>=0?tt:et.UNKNOWN})(G.status);g(new mt($,G.message))}else g(new mt(et.UNKNOWN,"Server responded with status "+y.getStatus()))}else g(new mt(et.UNAVAILABLE,"Connection failed."));break;default:Et(9055,{l_:e,streamId:d,h_:y.getLastErrorCode(),P_:y.getLastError()})}}finally{ut(Ye,`RPC '${e}' ${d} completed.`)}}));const E=JSON.stringify(o);ut(Ye,`RPC '${e}' ${d} sending request:`,o),y.send(i,"POST",E,s,15)}))}T_(e,i,s){const o=Md(),h=[this.Uo,"/","google.firestore.v1.Firestore","/",e,"/channel"],d=Wv(),p=Jv(),g={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},y=this.longPollingOptions.timeoutSeconds;y!==void 0&&(g.longPollingTimeout=Math.round(1e3*y)),this.useFetchStreams&&(g.useFetchStreams=!0),this.jo(g.initMessageHeaders,i,s),g.encodeInitMessageHeaders=!0;const E=h.join("");ut(Ye,`Creating RPC '${e}' stream ${o}: ${E}`,g);const S=d.createWebChannel(E,g);this.I_(S);let R=!1,L=!1;const G=new f2({Yo:H=>{L?ut(Ye,`Not sending because RPC '${e}' stream ${o} is closed:`,H):(R||(ut(Ye,`Opening RPC '${e}' stream ${o} transport.`),S.open(),R=!0),ut(Ye,`RPC '${e}' stream ${o} sending:`,H),S.send(H))},Zo:()=>S.close()}),$=(H,nt,tt)=>{H.listen(nt,(it=>{try{tt(it)}catch(ft){setTimeout((()=>{throw ft}),0)}}))};return $(S,to.EventType.OPEN,(()=>{L||(ut(Ye,`RPC '${e}' stream ${o} transport opened.`),G.o_())})),$(S,to.EventType.CLOSE,(()=>{L||(L=!0,ut(Ye,`RPC '${e}' stream ${o} transport closed`),G.a_(),this.E_(S))})),$(S,to.EventType.ERROR,(H=>{L||(L=!0,Is(Ye,`RPC '${e}' stream ${o} transport errored. Name:`,H.name,"Message:",H.message),G.a_(new mt(et.UNAVAILABLE,"The operation could not be completed")))})),$(S,to.EventType.MESSAGE,(H=>{if(!L){const nt=H.data[0];jt(!!nt,16349);const tt=nt,it=tt?.error||tt[0]?.error;if(it){ut(Ye,`RPC '${e}' stream ${o} received error:`,it);const ft=it.status;let ot=(function(b){const w=ve[b];if(w!==void 0)return OE(w)})(ft),St=it.message;ot===void 0&&(ot=et.INTERNAL,St="Unknown error status: "+ft+" with message "+it.message),L=!0,G.a_(new mt(ot,St)),S.close()}else ut(Ye,`RPC '${e}' stream ${o} received:`,nt),G.u_(nt)}})),$(p,Zv.STAT_EVENT,(H=>{H.stat===Td.PROXY?ut(Ye,`RPC '${e}' stream ${o} detected buffering proxy`):H.stat===Td.NOPROXY&&ut(Ye,`RPC '${e}' stream ${o} detected no buffering proxy`)})),setTimeout((()=>{G.__()}),0),G}terminate(){this.c_.forEach((e=>e.close())),this.c_=[]}I_(e){this.c_.push(e)}E_(e){this.c_=this.c_.filter((i=>i===e))}}function hd(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Gc(r){return new yR(r,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class QE{constructor(e,i,s=1e3,o=1.5,h=6e4){this.Mi=e,this.timerId=i,this.d_=s,this.A_=o,this.R_=h,this.V_=0,this.m_=null,this.f_=Date.now(),this.reset()}reset(){this.V_=0}g_(){this.V_=this.R_}p_(e){this.cancel();const i=Math.floor(this.V_+this.y_()),s=Math.max(0,Date.now()-this.f_),o=Math.max(0,i-s);o>0&&ut("ExponentialBackoff",`Backing off for ${o} ms (base delay: ${this.V_} ms, delay with jitter: ${i} ms, last attempt: ${s} ms ago)`),this.m_=this.Mi.enqueueAfterDelay(this.timerId,o,(()=>(this.f_=Date.now(),e()))),this.V_*=this.A_,this.V_<this.d_&&(this.V_=this.d_),this.V_>this.R_&&(this.V_=this.R_)}w_(){this.m_!==null&&(this.m_.skipDelay(),this.m_=null)}cancel(){this.m_!==null&&(this.m_.cancel(),this.m_=null)}y_(){return(Math.random()-.5)*this.V_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const j_="PersistentStream";class YE{constructor(e,i,s,o,h,d,p,g){this.Mi=e,this.S_=s,this.b_=o,this.connection=h,this.authCredentialsProvider=d,this.appCheckCredentialsProvider=p,this.listener=g,this.state=0,this.D_=0,this.C_=null,this.v_=null,this.stream=null,this.F_=0,this.M_=new QE(e,i)}x_(){return this.state===1||this.state===5||this.O_()}O_(){return this.state===2||this.state===3}start(){this.F_=0,this.state!==4?this.auth():this.N_()}async stop(){this.x_()&&await this.close(0)}B_(){this.state=0,this.M_.reset()}L_(){this.O_()&&this.C_===null&&(this.C_=this.Mi.enqueueAfterDelay(this.S_,6e4,(()=>this.k_())))}q_(e){this.Q_(),this.stream.send(e)}async k_(){if(this.O_())return this.close(0)}Q_(){this.C_&&(this.C_.cancel(),this.C_=null)}U_(){this.v_&&(this.v_.cancel(),this.v_=null)}async close(e,i){this.Q_(),this.U_(),this.M_.cancel(),this.D_++,e!==4?this.M_.reset():i&&i.code===et.RESOURCE_EXHAUSTED?(Hi(i.toString()),Hi("Using maximum backoff delay to prevent overloading the backend."),this.M_.g_()):i&&i.code===et.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.K_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.r_(i)}K_(){}auth(){this.state=1;const e=this.W_(this.D_),i=this.D_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then((([s,o])=>{this.D_===i&&this.G_(s,o)}),(s=>{e((()=>{const o=new mt(et.UNKNOWN,"Fetching auth token failed: "+s.message);return this.z_(o)}))}))}G_(e,i){const s=this.W_(this.D_);this.stream=this.j_(e,i),this.stream.Xo((()=>{s((()=>this.listener.Xo()))})),this.stream.t_((()=>{s((()=>(this.state=2,this.v_=this.Mi.enqueueAfterDelay(this.b_,1e4,(()=>(this.O_()&&(this.state=3),Promise.resolve()))),this.listener.t_())))})),this.stream.r_((o=>{s((()=>this.z_(o)))})),this.stream.onMessage((o=>{s((()=>++this.F_==1?this.J_(o):this.onNext(o)))}))}N_(){this.state=5,this.M_.p_((async()=>{this.state=0,this.start()}))}z_(e){return ut(j_,`close with error: ${e}`),this.stream=null,this.close(4,e)}W_(e){return i=>{this.Mi.enqueueAndForget((()=>this.D_===e?i():(ut(j_,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve())))}}}class m2 extends YE{constructor(e,i,s,o,h,d){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",i,s,o,d),this.serializer=h}j_(e,i){return this.connection.T_("Listen",e,i)}J_(e){return this.onNext(e)}onNext(e){this.M_.reset();const i=ER(this.serializer,e),s=(function(h){if(!("targetChange"in h))return bt.min();const d=h.targetChange;return d.targetIds&&d.targetIds.length?bt.min():d.readTime?ai(d.readTime):bt.min()})(e);return this.listener.H_(i,s)}Y_(e){const i={};i.database=Vd(this.serializer),i.addTarget=(function(h,d){let p;const g=d.target;if(p=wd(g)?{documents:SR(h,g)}:{query:bR(h,g).ft},p.targetId=d.targetId,d.resumeToken.approximateByteSize()>0){p.resumeToken=UE(h,d.resumeToken);const y=Dd(h,d.expectedCount);y!==null&&(p.expectedCount=y)}else if(d.snapshotVersion.compareTo(bt.min())>0){p.readTime=wc(h,d.snapshotVersion.toTimestamp());const y=Dd(h,d.expectedCount);y!==null&&(p.expectedCount=y)}return p})(this.serializer,e);const s=wR(this.serializer,e);s&&(i.labels=s),this.q_(i)}Z_(e){const i={};i.database=Vd(this.serializer),i.removeTarget=e,this.q_(i)}}class p2 extends YE{constructor(e,i,s,o,h,d){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",i,s,o,d),this.serializer=h}get X_(){return this.F_>0}start(){this.lastStreamToken=void 0,super.start()}K_(){this.X_&&this.ea([])}j_(e,i){return this.connection.T_("Write",e,i)}J_(e){return jt(!!e.streamToken,31322),this.lastStreamToken=e.streamToken,jt(!e.writeResults||e.writeResults.length===0,55816),this.listener.ta()}onNext(e){jt(!!e.streamToken,12678),this.lastStreamToken=e.streamToken,this.M_.reset();const i=AR(e.writeResults,e.commitTime),s=ai(e.commitTime);return this.listener.na(s,i)}ra(){const e={};e.database=Vd(this.serializer),this.q_(e)}ea(e){const i={streamToken:this.lastStreamToken,writes:e.map((s=>TR(this.serializer,s)))};this.q_(i)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class g2{}class y2 extends g2{constructor(e,i,s,o){super(),this.authCredentials=e,this.appCheckCredentials=i,this.connection=s,this.serializer=o,this.ia=!1}sa(){if(this.ia)throw new mt(et.FAILED_PRECONDITION,"The client has already been terminated.")}Go(e,i,s,o){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([h,d])=>this.connection.Go(e,Nd(i,s),o,h,d))).catch((h=>{throw h.name==="FirebaseError"?(h.code===et.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),h):new mt(et.UNKNOWN,h.toString())}))}Ho(e,i,s,o,h){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([d,p])=>this.connection.Ho(e,Nd(i,s),o,d,p,h))).catch((d=>{throw d.name==="FirebaseError"?(d.code===et.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),d):new mt(et.UNKNOWN,d.toString())}))}terminate(){this.ia=!0,this.connection.terminate()}}class _2{constructor(e,i){this.asyncQueue=e,this.onlineStateHandler=i,this.state="Unknown",this.oa=0,this._a=null,this.aa=!0}ua(){this.oa===0&&(this.ca("Unknown"),this._a=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,(()=>(this._a=null,this.la("Backend didn't respond within 10 seconds."),this.ca("Offline"),Promise.resolve()))))}ha(e){this.state==="Online"?this.ca("Unknown"):(this.oa++,this.oa>=1&&(this.Pa(),this.la(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.ca("Offline")))}set(e){this.Pa(),this.oa=0,e==="Online"&&(this.aa=!1),this.ca(e)}ca(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}la(e){const i=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.aa?(Hi(i),this.aa=!1):ut("OnlineStateTracker",i)}Pa(){this._a!==null&&(this._a.cancel(),this._a=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ba="RemoteStore";class v2{constructor(e,i,s,o,h){this.localStore=e,this.datastore=i,this.asyncQueue=s,this.remoteSyncer={},this.Ta=[],this.Ia=new Map,this.Ea=new Set,this.da=[],this.Aa=h,this.Aa.Oo((d=>{s.enqueueAndForget((async()=>{Na(this)&&(ut(ba,"Restarting streams for network reachability change."),await(async function(g){const y=Rt(g);y.Ea.add(4),await Ro(y),y.Ra.set("Unknown"),y.Ea.delete(4),await Qc(y)})(this))}))})),this.Ra=new _2(s,o)}}async function Qc(r){if(Na(r))for(const e of r.da)await e(!0)}async function Ro(r){for(const e of r.da)await e(!1)}function KE(r,e){const i=Rt(r);i.Ia.has(e.targetId)||(i.Ia.set(e.targetId,e),pm(i)?mm(i):js(i).O_()&&dm(i,e))}function fm(r,e){const i=Rt(r),s=js(i);i.Ia.delete(e),s.O_()&&XE(i,e),i.Ia.size===0&&(s.O_()?s.L_():Na(i)&&i.Ra.set("Unknown"))}function dm(r,e){if(r.Va.Ue(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(bt.min())>0){const i=r.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(i)}js(r).Y_(e)}function XE(r,e){r.Va.Ue(e),js(r).Z_(e)}function mm(r){r.Va=new dR({getRemoteKeysForTarget:e=>r.remoteSyncer.getRemoteKeysForTarget(e),At:e=>r.Ia.get(e)||null,ht:()=>r.datastore.serializer.databaseId}),js(r).start(),r.Ra.ua()}function pm(r){return Na(r)&&!js(r).x_()&&r.Ia.size>0}function Na(r){return Rt(r).Ea.size===0}function $E(r){r.Va=void 0}async function E2(r){r.Ra.set("Online")}async function T2(r){r.Ia.forEach(((e,i)=>{dm(r,e)}))}async function A2(r,e){$E(r),pm(r)?(r.Ra.ha(e),mm(r)):r.Ra.set("Unknown")}async function S2(r,e,i){if(r.Ra.set("Online"),e instanceof xE&&e.state===2&&e.cause)try{await(async function(o,h){const d=h.cause;for(const p of h.targetIds)o.Ia.has(p)&&(await o.remoteSyncer.rejectListen(p,d),o.Ia.delete(p),o.Va.removeTarget(p))})(r,e)}catch(s){ut(ba,"Failed to remove targets %s: %s ",e.targetIds.join(","),s),await Dc(r,s)}else if(e instanceof dc?r.Va.Ze(e):e instanceof ME?r.Va.st(e):r.Va.tt(e),!i.isEqual(bt.min()))try{const s=await GE(r.localStore);i.compareTo(s)>=0&&await(function(h,d){const p=h.Va.Tt(d);return p.targetChanges.forEach(((g,y)=>{if(g.resumeToken.approximateByteSize()>0){const E=h.Ia.get(y);E&&h.Ia.set(y,E.withResumeToken(g.resumeToken,d))}})),p.targetMismatches.forEach(((g,y)=>{const E=h.Ia.get(g);if(!E)return;h.Ia.set(g,E.withResumeToken(je.EMPTY_BYTE_STRING,E.snapshotVersion)),XE(h,g);const S=new vr(E.target,g,y,E.sequenceNumber);dm(h,S)})),h.remoteSyncer.applyRemoteEvent(p)})(r,i)}catch(s){ut(ba,"Failed to raise snapshot:",s),await Dc(r,s)}}async function Dc(r,e,i){if(!Hs(e))throw e;r.Ea.add(1),await Ro(r),r.Ra.set("Offline"),i||(i=()=>GE(r.localStore)),r.asyncQueue.enqueueRetryable((async()=>{ut(ba,"Retrying IndexedDB access"),await i(),r.Ea.delete(1),await Qc(r)}))}function ZE(r,e){return e().catch((i=>Dc(r,i,e)))}async function Yc(r){const e=Rt(r),i=Or(e);let s=e.Ta.length>0?e.Ta[e.Ta.length-1].batchId:Zd;for(;b2(e);)try{const o=await a2(e.localStore,s);if(o===null){e.Ta.length===0&&i.L_();break}s=o.batchId,R2(e,o)}catch(o){await Dc(e,o)}JE(e)&&WE(e)}function b2(r){return Na(r)&&r.Ta.length<10}function R2(r,e){r.Ta.push(e);const i=Or(r);i.O_()&&i.X_&&i.ea(e.mutations)}function JE(r){return Na(r)&&!Or(r).x_()&&r.Ta.length>0}function WE(r){Or(r).start()}async function w2(r){Or(r).ra()}async function C2(r){const e=Or(r);for(const i of r.Ta)e.ea(i.mutations)}async function D2(r,e,i){const s=r.Ta.shift(),o=am.from(s,e,i);await ZE(r,(()=>r.remoteSyncer.applySuccessfulWrite(o))),await Yc(r)}async function N2(r,e){e&&Or(r).X_&&await(async function(s,o){if((function(d){return cR(d)&&d!==et.ABORTED})(o.code)){const h=s.Ta.shift();Or(s).B_(),await ZE(s,(()=>s.remoteSyncer.rejectFailedWrite(h.batchId,o))),await Yc(s)}})(r,e),JE(r)&&WE(r)}async function F_(r,e){const i=Rt(r);i.asyncQueue.verifyOperationInProgress(),ut(ba,"RemoteStore received new credentials");const s=Na(i);i.Ea.add(3),await Ro(i),s&&i.Ra.set("Unknown"),await i.remoteSyncer.handleCredentialChange(e),i.Ea.delete(3),await Qc(i)}async function I2(r,e){const i=Rt(r);e?(i.Ea.delete(2),await Qc(i)):e||(i.Ea.add(2),await Ro(i),i.Ra.set("Unknown"))}function js(r){return r.ma||(r.ma=(function(i,s,o){const h=Rt(i);return h.sa(),new m2(s,h.connection,h.authCredentials,h.appCheckCredentials,h.serializer,o)})(r.datastore,r.asyncQueue,{Xo:E2.bind(null,r),t_:T2.bind(null,r),r_:A2.bind(null,r),H_:S2.bind(null,r)}),r.da.push((async e=>{e?(r.ma.B_(),pm(r)?mm(r):r.Ra.set("Unknown")):(await r.ma.stop(),$E(r))}))),r.ma}function Or(r){return r.fa||(r.fa=(function(i,s,o){const h=Rt(i);return h.sa(),new p2(s,h.connection,h.authCredentials,h.appCheckCredentials,h.serializer,o)})(r.datastore,r.asyncQueue,{Xo:()=>Promise.resolve(),t_:w2.bind(null,r),r_:N2.bind(null,r),ta:C2.bind(null,r),na:D2.bind(null,r)}),r.da.push((async e=>{e?(r.fa.B_(),await Yc(r)):(await r.fa.stop(),r.Ta.length>0&&(ut(ba,`Stopping write stream with ${r.Ta.length} pending writes`),r.Ta=[]))}))),r.fa}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gm{constructor(e,i,s,o,h){this.asyncQueue=e,this.timerId=i,this.targetTimeMs=s,this.op=o,this.removalCallback=h,this.deferred=new br,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch((d=>{}))}get promise(){return this.deferred.promise}static createAndSchedule(e,i,s,o,h){const d=Date.now()+s,p=new gm(e,i,d,o,h);return p.start(s),p}start(e){this.timerHandle=setTimeout((()=>this.handleDelayElapsed()),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new mt(et.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget((()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then((e=>this.deferred.resolve(e)))):Promise.resolve()))}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function ym(r,e){if(Hi("AsyncQueue",`${e}: ${r}`),Hs(r))return new mt(et.UNAVAILABLE,`${e}: ${r}`);throw r}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ds{static emptySet(e){return new Ds(e.comparator)}constructor(e){this.comparator=e?(i,s)=>e(i,s)||yt.comparator(i.key,s.key):(i,s)=>yt.comparator(i.key,s.key),this.keyedMap=eo(),this.sortedSet=new le(this.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const i=this.keyedMap.get(e);return i?this.sortedSet.indexOf(i):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal(((i,s)=>(e(i),!1)))}add(e){const i=this.delete(e.key);return i.copy(i.keyedMap.insert(e.key,e),i.sortedSet.insert(e,null))}delete(e){const i=this.get(e);return i?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(i)):this}isEqual(e){if(!(e instanceof Ds)||this.size!==e.size)return!1;const i=this.sortedSet.getIterator(),s=e.sortedSet.getIterator();for(;i.hasNext();){const o=i.getNext().key,h=s.getNext().key;if(!o.isEqual(h))return!1}return!0}toString(){const e=[];return this.forEach((i=>{e.push(i.toString())})),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,i){const s=new Ds;return s.comparator=this.comparator,s.keyedMap=e,s.sortedSet=i,s}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class G_{constructor(){this.ga=new le(yt.comparator)}track(e){const i=e.doc.key,s=this.ga.get(i);s?e.type!==0&&s.type===3?this.ga=this.ga.insert(i,e):e.type===3&&s.type!==1?this.ga=this.ga.insert(i,{type:s.type,doc:e.doc}):e.type===2&&s.type===2?this.ga=this.ga.insert(i,{type:2,doc:e.doc}):e.type===2&&s.type===0?this.ga=this.ga.insert(i,{type:0,doc:e.doc}):e.type===1&&s.type===0?this.ga=this.ga.remove(i):e.type===1&&s.type===2?this.ga=this.ga.insert(i,{type:1,doc:s.doc}):e.type===0&&s.type===1?this.ga=this.ga.insert(i,{type:2,doc:e.doc}):Et(63341,{Rt:e,pa:s}):this.ga=this.ga.insert(i,e)}ya(){const e=[];return this.ga.inorderTraversal(((i,s)=>{e.push(s)})),e}}class Us{constructor(e,i,s,o,h,d,p,g,y){this.query=e,this.docs=i,this.oldDocs=s,this.docChanges=o,this.mutatedKeys=h,this.fromCache=d,this.syncStateChanged=p,this.excludesMetadataChanges=g,this.hasCachedResults=y}static fromInitialDocuments(e,i,s,o,h){const d=[];return i.forEach((p=>{d.push({type:0,doc:p})})),new Us(e,i,Ds.emptySet(i),d,s,o,!0,!1,h)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&Bc(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const i=this.docChanges,s=e.docChanges;if(i.length!==s.length)return!1;for(let o=0;o<i.length;o++)if(i[o].type!==s[o].type||!i[o].doc.isEqual(s[o].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class V2{constructor(){this.wa=void 0,this.Sa=[]}ba(){return this.Sa.some((e=>e.Da()))}}class O2{constructor(){this.queries=Q_(),this.onlineState="Unknown",this.Ca=new Set}terminate(){(function(i,s){const o=Rt(i),h=o.queries;o.queries=Q_(),h.forEach(((d,p)=>{for(const g of p.Sa)g.onError(s)}))})(this,new mt(et.ABORTED,"Firestore shutting down"))}}function Q_(){return new Ca((r=>EE(r)),Bc)}async function t0(r,e){const i=Rt(r);let s=3;const o=e.query;let h=i.queries.get(o);h?!h.ba()&&e.Da()&&(s=2):(h=new V2,s=e.Da()?0:1);try{switch(s){case 0:h.wa=await i.onListen(o,!0);break;case 1:h.wa=await i.onListen(o,!1);break;case 2:await i.onFirstRemoteStoreListen(o)}}catch(d){const p=ym(d,`Initialization of query '${Rs(e.query)}' failed`);return void e.onError(p)}i.queries.set(o,h),h.Sa.push(e),e.va(i.onlineState),h.wa&&e.Fa(h.wa)&&_m(i)}async function e0(r,e){const i=Rt(r),s=e.query;let o=3;const h=i.queries.get(s);if(h){const d=h.Sa.indexOf(e);d>=0&&(h.Sa.splice(d,1),h.Sa.length===0?o=e.Da()?0:1:!h.ba()&&e.Da()&&(o=2))}switch(o){case 0:return i.queries.delete(s),i.onUnlisten(s,!0);case 1:return i.queries.delete(s),i.onUnlisten(s,!1);case 2:return i.onLastRemoteStoreUnlisten(s);default:return}}function M2(r,e){const i=Rt(r);let s=!1;for(const o of e){const h=o.query,d=i.queries.get(h);if(d){for(const p of d.Sa)p.Fa(o)&&(s=!0);d.wa=o}}s&&_m(i)}function x2(r,e,i){const s=Rt(r),o=s.queries.get(e);if(o)for(const h of o.Sa)h.onError(i);s.queries.delete(e)}function _m(r){r.Ca.forEach((e=>{e.next()}))}var xd,Y_;(Y_=xd||(xd={})).Ma="default",Y_.Cache="cache";class n0{constructor(e,i,s){this.query=e,this.xa=i,this.Oa=!1,this.Na=null,this.onlineState="Unknown",this.options=s||{}}Fa(e){if(!this.options.includeMetadataChanges){const s=[];for(const o of e.docChanges)o.type!==3&&s.push(o);e=new Us(e.query,e.docs,e.oldDocs,s,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let i=!1;return this.Oa?this.Ba(e)&&(this.xa.next(e),i=!0):this.La(e,this.onlineState)&&(this.ka(e),i=!0),this.Na=e,i}onError(e){this.xa.error(e)}va(e){this.onlineState=e;let i=!1;return this.Na&&!this.Oa&&this.La(this.Na,e)&&(this.ka(this.Na),i=!0),i}La(e,i){if(!e.fromCache||!this.Da())return!0;const s=i!=="Offline";return(!this.options.qa||!s)&&(!e.docs.isEmpty()||e.hasCachedResults||i==="Offline")}Ba(e){if(e.docChanges.length>0)return!0;const i=this.Na&&this.Na.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!i)&&this.options.includeMetadataChanges===!0}ka(e){e=Us.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.Oa=!0,this.xa.next(e)}Da(){return this.options.source!==xd.Cache}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class i0{constructor(e){this.key=e}}class r0{constructor(e){this.key=e}}class U2{constructor(e,i){this.query=e,this.Ya=i,this.Za=null,this.hasCachedResults=!1,this.current=!1,this.Xa=Mt(),this.mutatedKeys=Mt(),this.eu=TE(e),this.tu=new Ds(this.eu)}get nu(){return this.Ya}ru(e,i){const s=i?i.iu:new G_,o=i?i.tu:this.tu;let h=i?i.mutatedKeys:this.mutatedKeys,d=o,p=!1;const g=this.query.limitType==="F"&&o.size===this.query.limit?o.last():null,y=this.query.limitType==="L"&&o.size===this.query.limit?o.first():null;if(e.inorderTraversal(((E,S)=>{const R=o.get(E),L=qc(this.query,S)?S:null,G=!!R&&this.mutatedKeys.has(R.key),$=!!L&&(L.hasLocalMutations||this.mutatedKeys.has(L.key)&&L.hasCommittedMutations);let H=!1;R&&L?R.data.isEqual(L.data)?G!==$&&(s.track({type:3,doc:L}),H=!0):this.su(R,L)||(s.track({type:2,doc:L}),H=!0,(g&&this.eu(L,g)>0||y&&this.eu(L,y)<0)&&(p=!0)):!R&&L?(s.track({type:0,doc:L}),H=!0):R&&!L&&(s.track({type:1,doc:R}),H=!0,(g||y)&&(p=!0)),H&&(L?(d=d.add(L),h=$?h.add(E):h.delete(E)):(d=d.delete(E),h=h.delete(E)))})),this.query.limit!==null)for(;d.size>this.query.limit;){const E=this.query.limitType==="F"?d.last():d.first();d=d.delete(E.key),h=h.delete(E.key),s.track({type:1,doc:E})}return{tu:d,iu:s,Cs:p,mutatedKeys:h}}su(e,i){return e.hasLocalMutations&&i.hasCommittedMutations&&!i.hasLocalMutations}applyChanges(e,i,s,o){const h=this.tu;this.tu=e.tu,this.mutatedKeys=e.mutatedKeys;const d=e.iu.ya();d.sort(((E,S)=>(function(L,G){const $=H=>{switch(H){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return Et(20277,{Rt:H})}};return $(L)-$(G)})(E.type,S.type)||this.eu(E.doc,S.doc))),this.ou(s),o=o??!1;const p=i&&!o?this._u():[],g=this.Xa.size===0&&this.current&&!o?1:0,y=g!==this.Za;return this.Za=g,d.length!==0||y?{snapshot:new Us(this.query,e.tu,h,d,e.mutatedKeys,g===0,y,!1,!!s&&s.resumeToken.approximateByteSize()>0),au:p}:{au:p}}va(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({tu:this.tu,iu:new G_,mutatedKeys:this.mutatedKeys,Cs:!1},!1)):{au:[]}}uu(e){return!this.Ya.has(e)&&!!this.tu.has(e)&&!this.tu.get(e).hasLocalMutations}ou(e){e&&(e.addedDocuments.forEach((i=>this.Ya=this.Ya.add(i))),e.modifiedDocuments.forEach((i=>{})),e.removedDocuments.forEach((i=>this.Ya=this.Ya.delete(i))),this.current=e.current)}_u(){if(!this.current)return[];const e=this.Xa;this.Xa=Mt(),this.tu.forEach((s=>{this.uu(s.key)&&(this.Xa=this.Xa.add(s.key))}));const i=[];return e.forEach((s=>{this.Xa.has(s)||i.push(new r0(s))})),this.Xa.forEach((s=>{e.has(s)||i.push(new i0(s))})),i}cu(e){this.Ya=e.Qs,this.Xa=Mt();const i=this.ru(e.documents);return this.applyChanges(i,!0)}lu(){return Us.fromInitialDocuments(this.query,this.tu,this.mutatedKeys,this.Za===0,this.hasCachedResults)}}const vm="SyncEngine";class L2{constructor(e,i,s){this.query=e,this.targetId=i,this.view=s}}class P2{constructor(e){this.key=e,this.hu=!1}}class k2{constructor(e,i,s,o,h,d){this.localStore=e,this.remoteStore=i,this.eventManager=s,this.sharedClientState=o,this.currentUser=h,this.maxConcurrentLimboResolutions=d,this.Pu={},this.Tu=new Ca((p=>EE(p)),Bc),this.Iu=new Map,this.Eu=new Set,this.du=new le(yt.comparator),this.Au=new Map,this.Ru=new om,this.Vu={},this.mu=new Map,this.fu=xs.cr(),this.onlineState="Unknown",this.gu=void 0}get isPrimaryClient(){return this.gu===!0}}async function z2(r,e,i=!0){const s=c0(r);let o;const h=s.Tu.get(e);return h?(s.sharedClientState.addLocalQueryTarget(h.targetId),o=h.view.lu()):o=await a0(s,e,i,!0),o}async function B2(r,e){const i=c0(r);await a0(i,e,!0,!1)}async function a0(r,e,i,s){const o=await s2(r.localStore,ii(e)),h=o.targetId,d=r.sharedClientState.addLocalQueryTarget(h,i);let p;return s&&(p=await q2(r,e,h,d==="current",o.resumeToken)),r.isPrimaryClient&&i&&KE(r.remoteStore,o),p}async function q2(r,e,i,s,o){r.pu=(S,R,L)=>(async function($,H,nt,tt){let it=H.view.ru(nt);it.Cs&&(it=await z_($.localStore,H.query,!1).then((({documents:M})=>H.view.ru(M,it))));const ft=tt&&tt.targetChanges.get(H.targetId),ot=tt&&tt.targetMismatches.get(H.targetId)!=null,St=H.view.applyChanges(it,$.isPrimaryClient,ft,ot);return X_($,H.targetId,St.au),St.snapshot})(r,S,R,L);const h=await z_(r.localStore,e,!0),d=new U2(e,h.Qs),p=d.ru(h.documents),g=bo.createSynthesizedTargetChangeForCurrentChange(i,s&&r.onlineState!=="Offline",o),y=d.applyChanges(p,r.isPrimaryClient,g);X_(r,i,y.au);const E=new L2(e,i,d);return r.Tu.set(e,E),r.Iu.has(i)?r.Iu.get(i).push(e):r.Iu.set(i,[e]),y.snapshot}async function H2(r,e,i){const s=Rt(r),o=s.Tu.get(e),h=s.Iu.get(o.targetId);if(h.length>1)return s.Iu.set(o.targetId,h.filter((d=>!Bc(d,e)))),void s.Tu.delete(e);s.isPrimaryClient?(s.sharedClientState.removeLocalQueryTarget(o.targetId),s.sharedClientState.isActiveQueryTarget(o.targetId)||await Od(s.localStore,o.targetId,!1).then((()=>{s.sharedClientState.clearQueryState(o.targetId),i&&fm(s.remoteStore,o.targetId),Ud(s,o.targetId)})).catch(qs)):(Ud(s,o.targetId),await Od(s.localStore,o.targetId,!0))}async function j2(r,e){const i=Rt(r),s=i.Tu.get(e),o=i.Iu.get(s.targetId);i.isPrimaryClient&&o.length===1&&(i.sharedClientState.removeLocalQueryTarget(s.targetId),fm(i.remoteStore,s.targetId))}async function F2(r,e,i){const s=Z2(r);try{const o=await(function(d,p){const g=Rt(d),y=ne.now(),E=p.reduce(((L,G)=>L.add(G.key)),Mt());let S,R;return g.persistence.runTransaction("Locally write mutations","readwrite",(L=>{let G=ji(),$=Mt();return g.Ns.getEntries(L,E).next((H=>{G=H,G.forEach(((nt,tt)=>{tt.isValidDocument()||($=$.add(nt))}))})).next((()=>g.localDocuments.getOverlayedDocuments(L,G))).next((H=>{S=H;const nt=[];for(const tt of p){const it=aR(tt,S.get(tt.key).overlayedDocument);it!=null&&nt.push(new Da(tt.key,it,dE(it.value.mapValue),ri.exists(!0)))}return g.mutationQueue.addMutationBatch(L,y,nt,p)})).next((H=>{R=H;const nt=H.applyToLocalDocumentSet(S,$);return g.documentOverlayCache.saveOverlays(L,H.batchId,nt)}))})).then((()=>({batchId:R.batchId,changes:SE(S)})))})(s.localStore,e);s.sharedClientState.addPendingMutation(o.batchId),(function(d,p,g){let y=d.Vu[d.currentUser.toKey()];y||(y=new le(Ot)),y=y.insert(p,g),d.Vu[d.currentUser.toKey()]=y})(s,o.batchId,i),await wo(s,o.changes),await Yc(s.remoteStore)}catch(o){const h=ym(o,"Failed to persist write");i.reject(h)}}async function s0(r,e){const i=Rt(r);try{const s=await i2(i.localStore,e);e.targetChanges.forEach(((o,h)=>{const d=i.Au.get(h);d&&(jt(o.addedDocuments.size+o.modifiedDocuments.size+o.removedDocuments.size<=1,22616),o.addedDocuments.size>0?d.hu=!0:o.modifiedDocuments.size>0?jt(d.hu,14607):o.removedDocuments.size>0&&(jt(d.hu,42227),d.hu=!1))})),await wo(i,s,e)}catch(s){await qs(s)}}function K_(r,e,i){const s=Rt(r);if(s.isPrimaryClient&&i===0||!s.isPrimaryClient&&i===1){const o=[];s.Tu.forEach(((h,d)=>{const p=d.view.va(e);p.snapshot&&o.push(p.snapshot)})),(function(d,p){const g=Rt(d);g.onlineState=p;let y=!1;g.queries.forEach(((E,S)=>{for(const R of S.Sa)R.va(p)&&(y=!0)})),y&&_m(g)})(s.eventManager,e),o.length&&s.Pu.H_(o),s.onlineState=e,s.isPrimaryClient&&s.sharedClientState.setOnlineState(e)}}async function G2(r,e,i){const s=Rt(r);s.sharedClientState.updateQueryState(e,"rejected",i);const o=s.Au.get(e),h=o&&o.key;if(h){let d=new le(yt.comparator);d=d.insert(h,Xe.newNoDocument(h,bt.min()));const p=Mt().add(h),g=new Fc(bt.min(),new Map,new le(Ot),d,p);await s0(s,g),s.du=s.du.remove(h),s.Au.delete(e),Em(s)}else await Od(s.localStore,e,!1).then((()=>Ud(s,e,i))).catch(qs)}async function Q2(r,e){const i=Rt(r),s=e.batch.batchId;try{const o=await n2(i.localStore,e);o0(i,s,null),l0(i,s),i.sharedClientState.updateMutationState(s,"acknowledged"),await wo(i,o)}catch(o){await qs(o)}}async function Y2(r,e,i){const s=Rt(r);try{const o=await(function(d,p){const g=Rt(d);return g.persistence.runTransaction("Reject batch","readwrite-primary",(y=>{let E;return g.mutationQueue.lookupMutationBatch(y,p).next((S=>(jt(S!==null,37113),E=S.keys(),g.mutationQueue.removeMutationBatch(y,S)))).next((()=>g.mutationQueue.performConsistencyCheck(y))).next((()=>g.documentOverlayCache.removeOverlaysForBatchId(y,E,p))).next((()=>g.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(y,E))).next((()=>g.localDocuments.getDocuments(y,E)))}))})(s.localStore,e);o0(s,e,i),l0(s,e),s.sharedClientState.updateMutationState(e,"rejected",i),await wo(s,o)}catch(o){await qs(o)}}function l0(r,e){(r.mu.get(e)||[]).forEach((i=>{i.resolve()})),r.mu.delete(e)}function o0(r,e,i){const s=Rt(r);let o=s.Vu[s.currentUser.toKey()];if(o){const h=o.get(e);h&&(i?h.reject(i):h.resolve(),o=o.remove(e)),s.Vu[s.currentUser.toKey()]=o}}function Ud(r,e,i=null){r.sharedClientState.removeLocalQueryTarget(e);for(const s of r.Iu.get(e))r.Tu.delete(s),i&&r.Pu.yu(s,i);r.Iu.delete(e),r.isPrimaryClient&&r.Ru.jr(e).forEach((s=>{r.Ru.containsKey(s)||u0(r,s)}))}function u0(r,e){r.Eu.delete(e.path.canonicalString());const i=r.du.get(e);i!==null&&(fm(r.remoteStore,i),r.du=r.du.remove(e),r.Au.delete(i),Em(r))}function X_(r,e,i){for(const s of i)s instanceof i0?(r.Ru.addReference(s.key,e),K2(r,s)):s instanceof r0?(ut(vm,"Document no longer in limbo: "+s.key),r.Ru.removeReference(s.key,e),r.Ru.containsKey(s.key)||u0(r,s.key)):Et(19791,{wu:s})}function K2(r,e){const i=e.key,s=i.path.canonicalString();r.du.get(i)||r.Eu.has(s)||(ut(vm,"New document in limbo: "+i),r.Eu.add(s),Em(r))}function Em(r){for(;r.Eu.size>0&&r.du.size<r.maxConcurrentLimboResolutions;){const e=r.Eu.values().next().value;r.Eu.delete(e);const i=new yt(ee.fromString(e)),s=r.fu.next();r.Au.set(s,new P2(i)),r.du=r.du.insert(i,s),KE(r.remoteStore,new vr(ii(nm(i.path)),s,"TargetPurposeLimboResolution",Lc.ce))}}async function wo(r,e,i){const s=Rt(r),o=[],h=[],d=[];s.Tu.isEmpty()||(s.Tu.forEach(((p,g)=>{d.push(s.pu(g,e,i).then((y=>{if((y||i)&&s.isPrimaryClient){const E=y?!y.fromCache:i?.targetChanges.get(g.targetId)?.current;s.sharedClientState.updateQueryState(g.targetId,E?"current":"not-current")}if(y){o.push(y);const E=cm.As(g.targetId,y);h.push(E)}})))})),await Promise.all(d),s.Pu.H_(o),await(async function(g,y){const E=Rt(g);try{await E.persistence.runTransaction("notifyLocalViewChanges","readwrite",(S=>W.forEach(y,(R=>W.forEach(R.Es,(L=>E.persistence.referenceDelegate.addReference(S,R.targetId,L))).next((()=>W.forEach(R.ds,(L=>E.persistence.referenceDelegate.removeReference(S,R.targetId,L)))))))))}catch(S){if(!Hs(S))throw S;ut(hm,"Failed to update sequence numbers: "+S)}for(const S of y){const R=S.targetId;if(!S.fromCache){const L=E.Ms.get(R),G=L.snapshotVersion,$=L.withLastLimboFreeSnapshotVersion(G);E.Ms=E.Ms.insert(R,$)}}})(s.localStore,h))}async function X2(r,e){const i=Rt(r);if(!i.currentUser.isEqual(e)){ut(vm,"User change. New user:",e.toKey());const s=await FE(i.localStore,e);i.currentUser=e,(function(h,d){h.mu.forEach((p=>{p.forEach((g=>{g.reject(new mt(et.CANCELLED,d))}))})),h.mu.clear()})(i,"'waitForPendingWrites' promise is rejected due to a user change."),i.sharedClientState.handleUserChange(e,s.removedBatchIds,s.addedBatchIds),await wo(i,s.Ls)}}function $2(r,e){const i=Rt(r),s=i.Au.get(e);if(s&&s.hu)return Mt().add(s.key);{let o=Mt();const h=i.Iu.get(e);if(!h)return o;for(const d of h){const p=i.Tu.get(d);o=o.unionWith(p.view.nu)}return o}}function c0(r){const e=Rt(r);return e.remoteStore.remoteSyncer.applyRemoteEvent=s0.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=$2.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=G2.bind(null,e),e.Pu.H_=M2.bind(null,e.eventManager),e.Pu.yu=x2.bind(null,e.eventManager),e}function Z2(r){const e=Rt(r);return e.remoteStore.remoteSyncer.applySuccessfulWrite=Q2.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=Y2.bind(null,e),e}class Nc{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=Gc(e.databaseInfo.databaseId),this.sharedClientState=this.Du(e),this.persistence=this.Cu(e),await this.persistence.start(),this.localStore=this.vu(e),this.gcScheduler=this.Fu(e,this.localStore),this.indexBackfillerScheduler=this.Mu(e,this.localStore)}Fu(e,i){return null}Mu(e,i){return null}vu(e){return e2(this.persistence,new JR,e.initialUser,this.serializer)}Cu(e){return new jE(um.mi,this.serializer)}Du(e){return new o2}async terminate(){this.gcScheduler?.stop(),this.indexBackfillerScheduler?.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}Nc.provider={build:()=>new Nc};class J2 extends Nc{constructor(e){super(),this.cacheSizeBytes=e}Fu(e,i){jt(this.persistence.referenceDelegate instanceof Cc,46915);const s=this.persistence.referenceDelegate.garbageCollector;return new PR(s,e.asyncQueue,i)}Cu(e){const i=this.cacheSizeBytes!==void 0?rn.withCacheSize(this.cacheSizeBytes):rn.DEFAULT;return new jE((s=>Cc.mi(s,i)),this.serializer)}}class Ld{async initialize(e,i){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(i),this.remoteStore=this.createRemoteStore(i),this.eventManager=this.createEventManager(i),this.syncEngine=this.createSyncEngine(i,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=s=>K_(this.syncEngine,s,1),this.remoteStore.remoteSyncer.handleCredentialChange=X2.bind(null,this.syncEngine),await I2(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return(function(){return new O2})()}createDatastore(e){const i=Gc(e.databaseInfo.databaseId),s=(function(h){return new d2(h)})(e.databaseInfo);return(function(h,d,p,g){return new y2(h,d,p,g)})(e.authCredentials,e.appCheckCredentials,s,i)}createRemoteStore(e){return(function(s,o,h,d,p){return new v2(s,o,h,d,p)})(this.localStore,this.datastore,e.asyncQueue,(i=>K_(this.syncEngine,i,0)),(function(){return H_.v()?new H_:new u2})())}createSyncEngine(e,i){return(function(o,h,d,p,g,y,E){const S=new k2(o,h,d,p,g,y);return E&&(S.gu=!0),S})(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,i)}async terminate(){await(async function(i){const s=Rt(i);ut(ba,"RemoteStore shutting down."),s.Ea.add(5),await Ro(s),s.Aa.shutdown(),s.Ra.set("Unknown")})(this.remoteStore),this.datastore?.terminate(),this.eventManager?.terminate()}}Ld.provider={build:()=>new Ld};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class h0{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.Ou(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.Ou(this.observer.error,e):Hi("Uncaught Error in snapshot listener:",e.toString()))}Nu(){this.muted=!0}Ou(e,i){setTimeout((()=>{this.muted||e(i)}),0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Mr="FirestoreClient";class W2{constructor(e,i,s,o,h){this.authCredentials=e,this.appCheckCredentials=i,this.asyncQueue=s,this.databaseInfo=o,this.user=Ke.UNAUTHENTICATED,this.clientId=Xd.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=h,this.authCredentials.start(s,(async d=>{ut(Mr,"Received user=",d.uid),await this.authCredentialListener(d),this.user=d})),this.appCheckCredentials.start(s,(d=>(ut(Mr,"Received new app check token=",d),this.appCheckCredentialListener(d,this.user))))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new br;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted((async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(i){const s=ym(i,"Failed to shutdown persistence");e.reject(s)}})),e.promise}}async function fd(r,e){r.asyncQueue.verifyOperationInProgress(),ut(Mr,"Initializing OfflineComponentProvider");const i=r.configuration;await e.initialize(i);let s=i.initialUser;r.setCredentialChangeListener((async o=>{s.isEqual(o)||(await FE(e.localStore,o),s=o)})),e.persistence.setDatabaseDeletedListener((()=>r.terminate())),r._offlineComponents=e}async function $_(r,e){r.asyncQueue.verifyOperationInProgress();const i=await tw(r);ut(Mr,"Initializing OnlineComponentProvider"),await e.initialize(i,r.configuration),r.setCredentialChangeListener((s=>F_(e.remoteStore,s))),r.setAppCheckTokenChangeListener(((s,o)=>F_(e.remoteStore,o))),r._onlineComponents=e}async function tw(r){if(!r._offlineComponents)if(r._uninitializedComponentsProvider){ut(Mr,"Using user provided OfflineComponentProvider");try{await fd(r,r._uninitializedComponentsProvider._offline)}catch(e){const i=e;if(!(function(o){return o.name==="FirebaseError"?o.code===et.FAILED_PRECONDITION||o.code===et.UNIMPLEMENTED:!(typeof DOMException<"u"&&o instanceof DOMException)||o.code===22||o.code===20||o.code===11})(i))throw i;Is("Error using user provided cache. Falling back to memory cache: "+i),await fd(r,new Nc)}}else ut(Mr,"Using default OfflineComponentProvider"),await fd(r,new J2(void 0));return r._offlineComponents}async function f0(r){return r._onlineComponents||(r._uninitializedComponentsProvider?(ut(Mr,"Using user provided OnlineComponentProvider"),await $_(r,r._uninitializedComponentsProvider._online)):(ut(Mr,"Using default OnlineComponentProvider"),await $_(r,new Ld))),r._onlineComponents}function ew(r){return f0(r).then((e=>e.syncEngine))}async function Pd(r){const e=await f0(r),i=e.eventManager;return i.onListen=z2.bind(null,e.syncEngine),i.onUnlisten=H2.bind(null,e.syncEngine),i.onFirstRemoteStoreListen=B2.bind(null,e.syncEngine),i.onLastRemoteStoreUnlisten=j2.bind(null,e.syncEngine),i}function nw(r,e,i={}){const s=new br;return r.asyncQueue.enqueueAndForget((async()=>(function(h,d,p,g,y){const E=new h0({next:R=>{E.Nu(),d.enqueueAndForget((()=>e0(h,S))),R.fromCache&&g.source==="server"?y.reject(new mt(et.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):y.resolve(R)},error:R=>y.reject(R)}),S=new n0(p,E,{includeMetadataChanges:!0,qa:!0});return t0(h,S)})(await Pd(r),r.asyncQueue,e,i,s))),s.promise}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function d0(r){const e={};return r.timeoutSeconds!==void 0&&(e.timeoutSeconds=r.timeoutSeconds),e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Z_=new Map;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const m0="firestore.googleapis.com",J_=!0;class W_{constructor(e){if(e.host===void 0){if(e.ssl!==void 0)throw new mt(et.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=m0,this.ssl=J_}else this.host=e.host,this.ssl=e.ssl??J_;if(this.isUsingEmulator=e.emulatorOptions!==void 0,this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=HE;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<UR)throw new mt(et.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}_b("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=d0(e.experimentalLongPollingOptions??{}),(function(s){if(s.timeoutSeconds!==void 0){if(isNaN(s.timeoutSeconds))throw new mt(et.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (must not be NaN)`);if(s.timeoutSeconds<5)throw new mt(et.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (minimum allowed value is 5)`);if(s.timeoutSeconds>30)throw new mt(et.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (maximum allowed value is 30)`)}})(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&(function(s,o){return s.timeoutSeconds===o.timeoutSeconds})(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class Kc{constructor(e,i,s,o){this._authCredentials=e,this._appCheckCredentials=i,this._databaseId=s,this._app=o,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new W_({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new mt(et.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new mt(et.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new W_(e),this._emulatorOptions=e.emulatorOptions||{},e.credentials!==void 0&&(this._authCredentials=(function(s){if(!s)return new ob;switch(s.type){case"firstParty":return new fb(s.sessionIndex||"0",s.iamToken||null,s.authTokenFactory||null);case"provider":return s.client;default:throw new mt(et.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}})(e.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return(function(i){const s=Z_.get(i);s&&(ut("ComponentProvider","Removing Datastore"),Z_.delete(i),s.terminate())})(this),Promise.resolve()}}function iw(r,e,i,s={}){r=Rr(r,Kc);const o=Uc(e),h=r._getSettings(),d={...h,emulatorOptions:r._getEmulatorOptions()},p=`${e}:${i}`;o&&(xv(`https://${p}`),Lv("Firestore",!0)),h.host!==m0&&h.host!==p&&Is("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const g={...h,host:p,ssl:o,emulatorOptions:s};if(!yc(g,d)&&(r._setSettings(g),s.mockUserToken)){let y,E;if(typeof s.mockUserToken=="string")y=s.mockUserToken,E=Ke.MOCK_USER;else{y=Uv(s.mockUserToken,r._app?.options.projectId);const S=s.mockUserToken.sub||s.mockUserToken.user_id;if(!S)throw new mt(et.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");E=new Ke(S)}r._authCredentials=new ub(new eE(y,E))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Co{constructor(e,i,s){this.converter=i,this._query=s,this.type="query",this.firestore=e}withConverter(e){return new Co(this.firestore,e,this._query)}}class Ue{constructor(e,i,s){this.converter=i,this._key=s,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new wr(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new Ue(this.firestore,e,this._key)}toJSON(){return{type:Ue._jsonSchemaVersion,referencePath:this._key.toString()}}static fromJSON(e,i,s){if(Ao(i,Ue._jsonSchema))return new Ue(e,s||null,new yt(ee.fromString(i.referencePath)))}}Ue._jsonSchemaVersion="firestore/documentReference/1.0",Ue._jsonSchema={type:Ee("string",Ue._jsonSchemaVersion),referencePath:Ee("string")};class wr extends Co{constructor(e,i,s){super(e,i,nm(s)),this._path=s,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new Ue(this.firestore,null,new yt(e))}withConverter(e){return new wr(this.firestore,e,this._path)}}function vo(r,e,...i){if(r=Aa(r),nE("collection","path",e),r instanceof Kc){const s=ee.fromString(e,...i);return d_(s),new wr(r,null,s)}{if(!(r instanceof Ue||r instanceof wr))throw new mt(et.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const s=r._path.child(ee.fromString(e,...i));return d_(s),new wr(r.firestore,null,s)}}function Xc(r,e,...i){if(r=Aa(r),arguments.length===1&&(e=Xd.newId()),nE("doc","path",e),r instanceof Kc){const s=ee.fromString(e,...i);return f_(s),new Ue(r,null,new yt(s))}{if(!(r instanceof Ue||r instanceof wr))throw new mt(et.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const s=r._path.child(ee.fromString(e,...i));return f_(s),new Ue(r.firestore,r instanceof wr?r.converter:null,new yt(s))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const tv="AsyncQueue";class ev{constructor(e=Promise.resolve()){this.Xu=[],this.ec=!1,this.tc=[],this.nc=null,this.rc=!1,this.sc=!1,this.oc=[],this.M_=new QE(this,"async_queue_retry"),this._c=()=>{const s=hd();s&&ut(tv,"Visibility state changed to "+s.visibilityState),this.M_.w_()},this.ac=e;const i=hd();i&&typeof i.addEventListener=="function"&&i.addEventListener("visibilitychange",this._c)}get isShuttingDown(){return this.ec}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.uc(),this.cc(e)}enterRestrictedMode(e){if(!this.ec){this.ec=!0,this.sc=e||!1;const i=hd();i&&typeof i.removeEventListener=="function"&&i.removeEventListener("visibilitychange",this._c)}}enqueue(e){if(this.uc(),this.ec)return new Promise((()=>{}));const i=new br;return this.cc((()=>this.ec&&this.sc?Promise.resolve():(e().then(i.resolve,i.reject),i.promise))).then((()=>i.promise))}enqueueRetryable(e){this.enqueueAndForget((()=>(this.Xu.push(e),this.lc())))}async lc(){if(this.Xu.length!==0){try{await this.Xu[0](),this.Xu.shift(),this.M_.reset()}catch(e){if(!Hs(e))throw e;ut(tv,"Operation failed with retryable error: "+e)}this.Xu.length>0&&this.M_.p_((()=>this.lc()))}}cc(e){const i=this.ac.then((()=>(this.rc=!0,e().catch((s=>{throw this.nc=s,this.rc=!1,Hi("INTERNAL UNHANDLED ERROR: ",nv(s)),s})).then((s=>(this.rc=!1,s))))));return this.ac=i,i}enqueueAfterDelay(e,i,s){this.uc(),this.oc.indexOf(e)>-1&&(i=0);const o=gm.createAndSchedule(this,e,i,s,(h=>this.hc(h)));return this.tc.push(o),o}uc(){this.nc&&Et(47125,{Pc:nv(this.nc)})}verifyOperationInProgress(){}async Tc(){let e;do e=this.ac,await e;while(e!==this.ac)}Ic(e){for(const i of this.tc)if(i.timerId===e)return!0;return!1}Ec(e){return this.Tc().then((()=>{this.tc.sort(((i,s)=>i.targetTimeMs-s.targetTimeMs));for(const i of this.tc)if(i.skipDelay(),e!=="all"&&i.timerId===e)break;return this.Tc()}))}dc(e){this.oc.push(e)}hc(e){const i=this.tc.indexOf(e);this.tc.splice(i,1)}}function nv(r){let e=r.message||"";return r.stack&&(e=r.stack.includes(r.message)?r.stack:r.message+`
`+r.stack),e}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function iv(r){return(function(i,s){if(typeof i!="object"||i===null)return!1;const o=i;for(const h of s)if(h in o&&typeof o[h]=="function")return!0;return!1})(r,["next","error","complete"])}class Ls extends Kc{constructor(e,i,s,o){super(e,i,s,o),this.type="firestore",this._queue=new ev,this._persistenceKey=o?.name||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new ev(e),this._firestoreClient=void 0,await e}}}function rw(r,e){const i=typeof r=="object"?r:Gv(),s=typeof r=="string"?r:Ec,o=qv(i,"firestore").getImmediate({identifier:s});if(!o._initialized){const h=Ov("firestore");h&&iw(o,...h)}return o}function Tm(r){if(r._terminated)throw new mt(et.FAILED_PRECONDITION,"The client has already been terminated.");return r._firestoreClient||aw(r),r._firestoreClient}function aw(r){const e=r._freezeSettings(),i=(function(o,h,d,p){return new Nb(o,h,d,p.host,p.ssl,p.experimentalForceLongPolling,p.experimentalAutoDetectLongPolling,d0(p.experimentalLongPollingOptions),p.useFetchStreams,p.isUsingEmulator)})(r._databaseId,r._app?.options.appId||"",r._persistenceKey,e);r._componentsProvider||e.localCache?._offlineComponentProvider&&e.localCache?._onlineComponentProvider&&(r._componentsProvider={_offline:e.localCache._offlineComponentProvider,_online:e.localCache._onlineComponentProvider}),r._firestoreClient=new W2(r._authCredentials,r._appCheckCredentials,r._queue,i,r._componentsProvider&&(function(o){const h=o?._online.build();return{_offline:o?._offline.build(h),_online:h}})(r._componentsProvider))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Dn{constructor(e){this._byteString=e}static fromBase64String(e){try{return new Dn(je.fromBase64String(e))}catch(i){throw new mt(et.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+i)}}static fromUint8Array(e){return new Dn(je.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}toJSON(){return{type:Dn._jsonSchemaVersion,bytes:this.toBase64()}}static fromJSON(e){if(Ao(e,Dn._jsonSchema))return Dn.fromBase64String(e.bytes)}}Dn._jsonSchemaVersion="firestore/bytes/1.0",Dn._jsonSchema={type:Ee("string",Dn._jsonSchemaVersion),bytes:Ee("string")};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Am{constructor(...e){for(let i=0;i<e.length;++i)if(e[i].length===0)throw new mt(et.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new He(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class p0{constructor(e){this._methodName=e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class si{constructor(e,i){if(!isFinite(e)||e<-90||e>90)throw new mt(et.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(i)||i<-180||i>180)throw new mt(et.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+i);this._lat=e,this._long=i}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}_compareTo(e){return Ot(this._lat,e._lat)||Ot(this._long,e._long)}toJSON(){return{latitude:this._lat,longitude:this._long,type:si._jsonSchemaVersion}}static fromJSON(e){if(Ao(e,si._jsonSchema))return new si(e.latitude,e.longitude)}}si._jsonSchemaVersion="firestore/geoPoint/1.0",si._jsonSchema={type:Ee("string",si._jsonSchemaVersion),latitude:Ee("number"),longitude:Ee("number")};/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class li{constructor(e){this._values=(e||[]).map((i=>i))}toArray(){return this._values.map((e=>e))}isEqual(e){return(function(s,o){if(s.length!==o.length)return!1;for(let h=0;h<s.length;++h)if(s[h]!==o[h])return!1;return!0})(this._values,e._values)}toJSON(){return{type:li._jsonSchemaVersion,vectorValues:this._values}}static fromJSON(e){if(Ao(e,li._jsonSchema)){if(Array.isArray(e.vectorValues)&&e.vectorValues.every((i=>typeof i=="number")))return new li(e.vectorValues);throw new mt(et.INVALID_ARGUMENT,"Expected 'vectorValues' field to be a number array")}}}li._jsonSchemaVersion="firestore/vectorValue/1.0",li._jsonSchema={type:Ee("string",li._jsonSchemaVersion),vectorValues:Ee("object")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const sw=/^__.*__$/;class lw{constructor(e,i,s){this.data=e,this.fieldMask=i,this.fieldTransforms=s}toMutation(e,i){return this.fieldMask!==null?new Da(e,this.data,this.fieldMask,i,this.fieldTransforms):new So(e,this.data,i,this.fieldTransforms)}}function g0(r){switch(r){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw Et(40011,{Ac:r})}}class Sm{constructor(e,i,s,o,h,d){this.settings=e,this.databaseId=i,this.serializer=s,this.ignoreUndefinedProperties=o,h===void 0&&this.Rc(),this.fieldTransforms=h||[],this.fieldMask=d||[]}get path(){return this.settings.path}get Ac(){return this.settings.Ac}Vc(e){return new Sm({...this.settings,...e},this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}mc(e){const i=this.path?.child(e),s=this.Vc({path:i,fc:!1});return s.gc(e),s}yc(e){const i=this.path?.child(e),s=this.Vc({path:i,fc:!1});return s.Rc(),s}wc(e){return this.Vc({path:void 0,fc:!0})}Sc(e){return Ic(e,this.settings.methodName,this.settings.bc||!1,this.path,this.settings.Dc)}contains(e){return this.fieldMask.find((i=>e.isPrefixOf(i)))!==void 0||this.fieldTransforms.find((i=>e.isPrefixOf(i.field)))!==void 0}Rc(){if(this.path)for(let e=0;e<this.path.length;e++)this.gc(this.path.get(e))}gc(e){if(e.length===0)throw this.Sc("Document fields must not be empty");if(g0(this.Ac)&&sw.test(e))throw this.Sc('Document fields cannot begin and end with "__"')}}class ow{constructor(e,i,s){this.databaseId=e,this.ignoreUndefinedProperties=i,this.serializer=s||Gc(e)}Cc(e,i,s,o=!1){return new Sm({Ac:e,methodName:i,Dc:s,path:He.emptyPath(),fc:!1,bc:o},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function uw(r){const e=r._freezeSettings(),i=Gc(r._databaseId);return new ow(r._databaseId,!!e.ignoreUndefinedProperties,i)}function cw(r,e,i,s,o,h={}){const d=r.Cc(h.merge||h.mergeFields?2:0,e,i,o);E0("Data must be an object, but it was:",d,s);const p=_0(s,d);let g,y;if(h.merge)g=new Un(d.fieldMask),y=d.fieldTransforms;else if(h.mergeFields){const E=[];for(const S of h.mergeFields){const R=hw(e,S,i);if(!d.contains(R))throw new mt(et.INVALID_ARGUMENT,`Field '${R}' is specified in your field mask but missing from your input data.`);dw(E,R)||E.push(R)}g=new Un(E),y=d.fieldTransforms.filter((S=>g.covers(S.field)))}else g=null,y=d.fieldTransforms;return new lw(new Cn(p),g,y)}function y0(r,e){if(v0(r=Aa(r)))return E0("Unsupported field value:",e,r),_0(r,e);if(r instanceof p0)return(function(s,o){if(!g0(o.Ac))throw o.Sc(`${s._methodName}() can only be used with update() and set()`);if(!o.path)throw o.Sc(`${s._methodName}() is not currently supported inside arrays`);const h=s._toFieldTransform(o);h&&o.fieldTransforms.push(h)})(r,e),null;if(r===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),r instanceof Array){if(e.settings.fc&&e.Ac!==4)throw e.Sc("Nested arrays are not supported");return(function(s,o){const h=[];let d=0;for(const p of s){let g=y0(p,o.wc(d));g==null&&(g={nullValue:"NULL_VALUE"}),h.push(g),d++}return{arrayValue:{values:h}}})(r,e)}return(function(s,o){if((s=Aa(s))===null)return{nullValue:"NULL_VALUE"};if(typeof s=="number")return Wb(o.serializer,s);if(typeof s=="boolean")return{booleanValue:s};if(typeof s=="string")return{stringValue:s};if(s instanceof Date){const h=ne.fromDate(s);return{timestampValue:wc(o.serializer,h)}}if(s instanceof ne){const h=new ne(s.seconds,1e3*Math.floor(s.nanoseconds/1e3));return{timestampValue:wc(o.serializer,h)}}if(s instanceof si)return{geoPointValue:{latitude:s.latitude,longitude:s.longitude}};if(s instanceof Dn)return{bytesValue:UE(o.serializer,s._byteString)};if(s instanceof Ue){const h=o.databaseId,d=s.firestore._databaseId;if(!d.isEqual(h))throw o.Sc(`Document reference is for database ${d.projectId}/${d.database} but should be for database ${h.projectId}/${h.database}`);return{referenceValue:lm(s.firestore._databaseId||o.databaseId,s._key.path)}}if(s instanceof li)return(function(d,p){return{mapValue:{fields:{[hE]:{stringValue:fE},[Tc]:{arrayValue:{values:d.toArray().map((y=>{if(typeof y!="number")throw p.Sc("VectorValues must only contain numeric values.");return im(p.serializer,y)}))}}}}}})(s,o);throw o.Sc(`Unsupported field value: ${$d(s)}`)})(r,e)}function _0(r,e){const i={};return aE(r)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):wa(r,((s,o)=>{const h=y0(o,e.mc(s));h!=null&&(i[s]=h)})),{mapValue:{fields:i}}}function v0(r){return!(typeof r!="object"||r===null||r instanceof Array||r instanceof Date||r instanceof ne||r instanceof si||r instanceof Dn||r instanceof Ue||r instanceof p0||r instanceof li)}function E0(r,e,i){if(!v0(i)||!iE(i)){const s=$d(i);throw s==="an object"?e.Sc(r+" a custom object"):e.Sc(r+" "+s)}}function hw(r,e,i){if((e=Aa(e))instanceof Am)return e._internalPath;if(typeof e=="string")return T0(r,e);throw Ic("Field path arguments must be of type string or ",r,!1,void 0,i)}const fw=new RegExp("[~\\*/\\[\\]]");function T0(r,e,i){if(e.search(fw)>=0)throw Ic(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,r,!1,void 0,i);try{return new Am(...e.split("."))._internalPath}catch{throw Ic(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,r,!1,void 0,i)}}function Ic(r,e,i,s,o){const h=s&&!s.isEmpty(),d=o!==void 0;let p=`Function ${e}() called with invalid data`;i&&(p+=" (via `toFirestore()`)"),p+=". ";let g="";return(h||d)&&(g+=" (found",h&&(g+=` in field ${s}`),d&&(g+=` in document ${o}`),g+=")"),new mt(et.INVALID_ARGUMENT,p+r+g)}function dw(r,e){return r.some((i=>i.isEqual(e)))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class A0{constructor(e,i,s,o,h){this._firestore=e,this._userDataWriter=i,this._key=s,this._document=o,this._converter=h}get id(){return this._key.path.lastSegment()}get ref(){return new Ue(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new mw(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const i=this._document.data.field(S0("DocumentSnapshot.get",e));if(i!==null)return this._userDataWriter.convertValue(i)}}}class mw extends A0{data(){return super.data()}}function S0(r,e){return typeof e=="string"?T0(r,e):e instanceof Am?e._internalPath:e._delegate._internalPath}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function b0(r){if(r.limitType==="L"&&r.explicitOrderBy.length===0)throw new mt(et.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class pw{convertValue(e,i="none"){switch(Vr(e)){case 0:return null;case 1:return e.booleanValue;case 2:return me(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,i);case 5:return e.stringValue;case 6:return this.convertBytes(Ir(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,i);case 11:return this.convertObject(e.mapValue,i);case 10:return this.convertVectorValue(e.mapValue);default:throw Et(62114,{value:e})}}convertObject(e,i){return this.convertObjectMap(e.fields,i)}convertObjectMap(e,i="none"){const s={};return wa(e,((o,h)=>{s[o]=this.convertValue(h,i)})),s}convertVectorValue(e){const i=e.fields?.[Tc].arrayValue?.values?.map((s=>me(s.doubleValue)));return new li(i)}convertGeoPoint(e){return new si(me(e.latitude),me(e.longitude))}convertArray(e,i){return(e.values||[]).map((s=>this.convertValue(s,i)))}convertServerTimestamp(e,i){switch(i){case"previous":const s=kc(e);return s==null?null:this.convertValue(s,i);case"estimate":return this.convertTimestamp(mo(e));default:return null}}convertTimestamp(e){const i=Nr(e);return new ne(i.seconds,i.nanos)}convertDocumentKey(e,i){const s=ee.fromString(e);jt(qE(s),9688,{name:e});const o=new po(s.get(1),s.get(3)),h=new yt(s.popFirst(5));return o.isEqual(i)||Hi(`Document ${h} contains a document reference within a different database (${o.projectId}/${o.database}) which is not supported. It will be treated as a reference in the current database (${i.projectId}/${i.database}) instead.`),h}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function gw(r,e,i){let s;return s=r?r.toFirestore(e):e,s}class io{constructor(e,i){this.hasPendingWrites=e,this.fromCache=i}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class Ea extends A0{constructor(e,i,s,o,h,d){super(e,i,s,o,d),this._firestore=e,this._firestoreImpl=e,this.metadata=h}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const i=new mc(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(i,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,i={}){if(this._document){const s=this._document.data.field(S0("DocumentSnapshot.get",e));if(s!==null)return this._userDataWriter.convertValue(s,i.serverTimestamps)}}toJSON(){if(this.metadata.hasPendingWrites)throw new mt(et.FAILED_PRECONDITION,"DocumentSnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e=this._document,i={};return i.type=Ea._jsonSchemaVersion,i.bundle="",i.bundleSource="DocumentSnapshot",i.bundleName=this._key.toString(),!e||!e.isValidDocument()||!e.isFoundDocument()?i:(this._userDataWriter.convertObjectMap(e.data.value.mapValue.fields,"previous"),i.bundle=(this._firestore,this.ref.path,"NOT SUPPORTED"),i)}}Ea._jsonSchemaVersion="firestore/documentSnapshot/1.0",Ea._jsonSchema={type:Ee("string",Ea._jsonSchemaVersion),bundleSource:Ee("string","DocumentSnapshot"),bundleName:Ee("string"),bundle:Ee("string")};class mc extends Ea{data(e={}){return super.data(e)}}class Ta{constructor(e,i,s,o){this._firestore=e,this._userDataWriter=i,this._snapshot=o,this.metadata=new io(o.hasPendingWrites,o.fromCache),this.query=s}get docs(){const e=[];return this.forEach((i=>e.push(i))),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,i){this._snapshot.docs.forEach((s=>{e.call(i,new mc(this._firestore,this._userDataWriter,s.key,s,new io(this._snapshot.mutatedKeys.has(s.key),this._snapshot.fromCache),this.query.converter))}))}docChanges(e={}){const i=!!e.includeMetadataChanges;if(i&&this._snapshot.excludesMetadataChanges)throw new mt(et.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===i||(this._cachedChanges=(function(o,h){if(o._snapshot.oldDocs.isEmpty()){let d=0;return o._snapshot.docChanges.map((p=>{const g=new mc(o._firestore,o._userDataWriter,p.doc.key,p.doc,new io(o._snapshot.mutatedKeys.has(p.doc.key),o._snapshot.fromCache),o.query.converter);return p.doc,{type:"added",doc:g,oldIndex:-1,newIndex:d++}}))}{let d=o._snapshot.oldDocs;return o._snapshot.docChanges.filter((p=>h||p.type!==3)).map((p=>{const g=new mc(o._firestore,o._userDataWriter,p.doc.key,p.doc,new io(o._snapshot.mutatedKeys.has(p.doc.key),o._snapshot.fromCache),o.query.converter);let y=-1,E=-1;return p.type!==0&&(y=d.indexOf(p.doc.key),d=d.delete(p.doc.key)),p.type!==1&&(d=d.add(p.doc),E=d.indexOf(p.doc.key)),{type:yw(p.type),doc:g,oldIndex:y,newIndex:E}}))}})(this,i),this._cachedChangesIncludeMetadataChanges=i),this._cachedChanges}toJSON(){if(this.metadata.hasPendingWrites)throw new mt(et.FAILED_PRECONDITION,"QuerySnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e={};e.type=Ta._jsonSchemaVersion,e.bundleSource="QuerySnapshot",e.bundleName=Xd.newId(),this._firestore._databaseId.database,this._firestore._databaseId.projectId;const i=[],s=[],o=[];return this.docs.forEach((h=>{h._document!==null&&(i.push(h._document),s.push(this._userDataWriter.convertObjectMap(h._document.data.value.mapValue.fields,"previous")),o.push(h.ref.path))})),e.bundle=(this._firestore,this.query._query,e.bundleName,"NOT SUPPORTED"),e}}function yw(r){switch(r){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return Et(61501,{type:r})}}Ta._jsonSchemaVersion="firestore/querySnapshot/1.0",Ta._jsonSchema={type:Ee("string",Ta._jsonSchemaVersion),bundleSource:Ee("string","QuerySnapshot"),bundleName:Ee("string"),bundle:Ee("string")};class bm extends pw{constructor(e){super(),this.firestore=e}convertBytes(e){return new Dn(e)}convertReference(e){const i=this.convertDocumentKey(e,this.firestore._databaseId);return new Ue(this.firestore,null,i)}}function _w(r){r=Rr(r,Co);const e=Rr(r.firestore,Ls),i=Tm(e),s=new bm(e);return b0(r._query),nw(i,r._query).then((o=>new Ta(e,s,r,o)))}function Rm(r){return C0(Rr(r.firestore,Ls),[new rm(r._key,ri.none())])}function R0(r,e){const i=Rr(r.firestore,Ls),s=Xc(r),o=gw(r.converter,e);return C0(i,[cw(uw(r.firestore),"addDoc",s._key,o,r.converter!==null,{}).toMutation(s._key,ri.exists(!1))]).then((()=>s))}function w0(r,...e){r=Aa(r);let i={includeMetadataChanges:!1,source:"default"},s=0;typeof e[s]!="object"||iv(e[s])||(i=e[s++]);const o={includeMetadataChanges:i.includeMetadataChanges,source:i.source};if(iv(e[s])){const g=e[s];e[s]=g.next?.bind(g),e[s+1]=g.error?.bind(g),e[s+2]=g.complete?.bind(g)}let h,d,p;if(r instanceof Ue)d=Rr(r.firestore,Ls),p=nm(r._key.path),h={next:g=>{e[s]&&e[s](vw(d,r,g))},error:e[s+1],complete:e[s+2]};else{const g=Rr(r,Co);d=Rr(g.firestore,Ls),p=g._query;const y=new bm(d);h={next:E=>{e[s]&&e[s](new Ta(d,y,g,E))},error:e[s+1],complete:e[s+2]},b0(r._query)}return(function(y,E,S,R){const L=new h0(R),G=new n0(E,L,S);return y.asyncQueue.enqueueAndForget((async()=>t0(await Pd(y),G))),()=>{L.Nu(),y.asyncQueue.enqueueAndForget((async()=>e0(await Pd(y),G)))}})(Tm(d),p,o,h)}function C0(r,e){return(function(s,o){const h=new br;return s.asyncQueue.enqueueAndForget((async()=>F2(await ew(s),o,h))),h.promise})(Tm(r),e)}function vw(r,e,i){const s=i.docs.get(e._key),o=new bm(r);return new Ea(r,o,e._key,s,new io(i.hasPendingWrites,i.fromCache),e.converter)}(function(e,i=!0){(function(o){Bs=o})(jv),co(new Ns("firestore",((s,{instanceIdentifier:o,options:h})=>{const d=s.getProvider("app").getImmediate(),p=new Ls(new cb(s.getProvider("auth-internal")),new db(d,s.getProvider("app-check-internal")),(function(y,E){if(!Object.prototype.hasOwnProperty.apply(y.options,["projectId"]))throw new mt(et.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new po(y.options.projectId,E)})(d,o),d);return h={useFetchStreams:i,...h},p._setSettings(h),p}),"PUBLIC").setMultipleInstances(!0)),Ar(o_,u_,e),Ar(o_,u_,"esm2020")})();var Ew="firebase",Tw="12.2.1";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Ar(Ew,Tw,"app");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const D0="firebasestorage.googleapis.com",Aw="storageBucket",Sw=120*1e3,bw=600*1e3;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fi extends Ra{constructor(e,i,s=0){super(dd(e),`Firebase Storage: ${i} (${dd(e)})`),this.status_=s,this.customData={serverResponse:null},this._baseMessage=this.message,Object.setPrototypeOf(this,fi.prototype)}get status(){return this.status_}set status(e){this.status_=e}_codeEquals(e){return dd(e)===this.code}get serverResponse(){return this.customData.serverResponse}set serverResponse(e){this.customData.serverResponse=e,this.customData.serverResponse?this.message=`${this._baseMessage}
${this.customData.serverResponse}`:this.message=this._baseMessage}}var ci;(function(r){r.UNKNOWN="unknown",r.OBJECT_NOT_FOUND="object-not-found",r.BUCKET_NOT_FOUND="bucket-not-found",r.PROJECT_NOT_FOUND="project-not-found",r.QUOTA_EXCEEDED="quota-exceeded",r.UNAUTHENTICATED="unauthenticated",r.UNAUTHORIZED="unauthorized",r.UNAUTHORIZED_APP="unauthorized-app",r.RETRY_LIMIT_EXCEEDED="retry-limit-exceeded",r.INVALID_CHECKSUM="invalid-checksum",r.CANCELED="canceled",r.INVALID_EVENT_NAME="invalid-event-name",r.INVALID_URL="invalid-url",r.INVALID_DEFAULT_BUCKET="invalid-default-bucket",r.NO_DEFAULT_BUCKET="no-default-bucket",r.CANNOT_SLICE_BLOB="cannot-slice-blob",r.SERVER_FILE_WRONG_SIZE="server-file-wrong-size",r.NO_DOWNLOAD_URL="no-download-url",r.INVALID_ARGUMENT="invalid-argument",r.INVALID_ARGUMENT_COUNT="invalid-argument-count",r.APP_DELETED="app-deleted",r.INVALID_ROOT_OPERATION="invalid-root-operation",r.INVALID_FORMAT="invalid-format",r.INTERNAL_ERROR="internal-error",r.UNSUPPORTED_ENVIRONMENT="unsupported-environment"})(ci||(ci={}));function dd(r){return"storage/"+r}function Rw(){const r="An unknown error occurred, please check the error payload for server response.";return new fi(ci.UNKNOWN,r)}function ww(){return new fi(ci.RETRY_LIMIT_EXCEEDED,"Max retry time for operation exceeded, please try again.")}function Cw(){return new fi(ci.CANCELED,"User canceled the upload/download.")}function Dw(r){return new fi(ci.INVALID_URL,"Invalid URL '"+r+"'.")}function Nw(r){return new fi(ci.INVALID_DEFAULT_BUCKET,"Invalid default bucket '"+r+"'.")}function rv(r){return new fi(ci.INVALID_ARGUMENT,r)}function N0(){return new fi(ci.APP_DELETED,"The Firebase app was deleted.")}function Iw(r){return new fi(ci.INVALID_ROOT_OPERATION,"The operation '"+r+"' cannot be performed on a root reference, create a non-root reference using child, such as .child('file.png').")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ln{constructor(e,i){this.bucket=e,this.path_=i}get path(){return this.path_}get isRoot(){return this.path.length===0}fullServerUrl(){const e=encodeURIComponent;return"/b/"+e(this.bucket)+"/o/"+e(this.path)}bucketOnlyServerUrl(){return"/b/"+encodeURIComponent(this.bucket)+"/o"}static makeFromBucketSpec(e,i){let s;try{s=Ln.makeFromUrl(e,i)}catch{return new Ln(e,"")}if(s.path==="")return s;throw Nw(e)}static makeFromUrl(e,i){let s=null;const o="([A-Za-z0-9.\\-_]+)";function h(ft){ft.path.charAt(ft.path.length-1)==="/"&&(ft.path_=ft.path_.slice(0,-1))}const d="(/(.*))?$",p=new RegExp("^gs://"+o+d,"i"),g={bucket:1,path:3};function y(ft){ft.path_=decodeURIComponent(ft.path)}const E="v[A-Za-z0-9_]+",S=i.replace(/[.]/g,"\\."),R="(/([^?#]*).*)?$",L=new RegExp(`^https?://${S}/${E}/b/${o}/o${R}`,"i"),G={bucket:1,path:3},$=i===D0?"(?:storage.googleapis.com|storage.cloud.google.com)":i,H="([^?#]*)",nt=new RegExp(`^https?://${$}/${o}/${H}`,"i"),it=[{regex:p,indices:g,postModify:h},{regex:L,indices:G,postModify:y},{regex:nt,indices:{bucket:1,path:2},postModify:y}];for(let ft=0;ft<it.length;ft++){const ot=it[ft],St=ot.regex.exec(e);if(St){const M=St[ot.indices.bucket];let b=St[ot.indices.path];b||(b=""),s=new Ln(M,b),ot.postModify(s);break}}if(s==null)throw Dw(e);return s}}class Vw{constructor(e){this.promise_=Promise.reject(e)}getPromise(){return this.promise_}cancel(e=!1){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ow(r,e,i){let s=1,o=null,h=null,d=!1,p=0;function g(){return p===2}let y=!1;function E(...H){y||(y=!0,e.apply(null,H))}function S(H){o=setTimeout(()=>{o=null,r(L,g())},H)}function R(){h&&clearTimeout(h)}function L(H,...nt){if(y){R();return}if(H){R(),E.call(null,H,...nt);return}if(g()||d){R(),E.call(null,H,...nt);return}s<64&&(s*=2);let it;p===1?(p=2,it=0):it=(s+Math.random())*1e3,S(it)}let G=!1;function $(H){G||(G=!0,R(),!y&&(o!==null?(H||(p=2),clearTimeout(o),S(0)):H||(p=1)))}return S(0),h=setTimeout(()=>{d=!0,$(!0)},i),$}function Mw(r){r(!1)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function xw(r){return r!==void 0}function av(r,e,i,s){if(s<e)throw rv(`Invalid value for '${r}'. Expected ${e} or greater.`);if(s>i)throw rv(`Invalid value for '${r}'. Expected ${i} or less.`)}function Uw(r){const e=encodeURIComponent;let i="?";for(const s in r)if(r.hasOwnProperty(s)){const o=e(s)+"="+e(r[s]);i=i+o+"&"}return i=i.slice(0,-1),i}var Vc;(function(r){r[r.NO_ERROR=0]="NO_ERROR",r[r.NETWORK_ERROR=1]="NETWORK_ERROR",r[r.ABORT=2]="ABORT"})(Vc||(Vc={}));/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Lw(r,e){const i=r>=500&&r<600,o=[408,429].indexOf(r)!==-1,h=e.indexOf(r)!==-1;return i||o||h}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Pw{constructor(e,i,s,o,h,d,p,g,y,E,S,R=!0,L=!1){this.url_=e,this.method_=i,this.headers_=s,this.body_=o,this.successCodes_=h,this.additionalRetryCodes_=d,this.callback_=p,this.errorCallback_=g,this.timeout_=y,this.progressCallback_=E,this.connectionFactory_=S,this.retry=R,this.isUsingEmulator=L,this.pendingConnection_=null,this.backoffId_=null,this.canceled_=!1,this.appDelete_=!1,this.promise_=new Promise((G,$)=>{this.resolve_=G,this.reject_=$,this.start_()})}start_(){const e=(s,o)=>{if(o){s(!1,new rc(!1,null,!0));return}const h=this.connectionFactory_();this.pendingConnection_=h;const d=p=>{const g=p.loaded,y=p.lengthComputable?p.total:-1;this.progressCallback_!==null&&this.progressCallback_(g,y)};this.progressCallback_!==null&&h.addUploadProgressListener(d),h.send(this.url_,this.method_,this.isUsingEmulator,this.body_,this.headers_).then(()=>{this.progressCallback_!==null&&h.removeUploadProgressListener(d),this.pendingConnection_=null;const p=h.getErrorCode()===Vc.NO_ERROR,g=h.getStatus();if(!p||Lw(g,this.additionalRetryCodes_)&&this.retry){const E=h.getErrorCode()===Vc.ABORT;s(!1,new rc(!1,null,E));return}const y=this.successCodes_.indexOf(g)!==-1;s(!0,new rc(y,h))})},i=(s,o)=>{const h=this.resolve_,d=this.reject_,p=o.connection;if(o.wasSuccessCode)try{const g=this.callback_(p,p.getResponse());xw(g)?h(g):h()}catch(g){d(g)}else if(p!==null){const g=Rw();g.serverResponse=p.getErrorText(),this.errorCallback_?d(this.errorCallback_(p,g)):d(g)}else if(o.canceled){const g=this.appDelete_?N0():Cw();d(g)}else{const g=ww();d(g)}};this.canceled_?i(!1,new rc(!1,null,!0)):this.backoffId_=Ow(e,i,this.timeout_)}getPromise(){return this.promise_}cancel(e){this.canceled_=!0,this.appDelete_=e||!1,this.backoffId_!==null&&Mw(this.backoffId_),this.pendingConnection_!==null&&this.pendingConnection_.abort()}}class rc{constructor(e,i,s){this.wasSuccessCode=e,this.connection=i,this.canceled=!!s}}function kw(r,e){e!==null&&e.length>0&&(r.Authorization="Firebase "+e)}function zw(r,e){r["X-Firebase-Storage-Version"]="webjs/"+(e??"AppManager")}function Bw(r,e){e&&(r["X-Firebase-GMPID"]=e)}function qw(r,e){e!==null&&(r["X-Firebase-AppCheck"]=e)}function Hw(r,e,i,s,o,h,d=!0,p=!1){const g=Uw(r.urlParams),y=r.url+g,E=Object.assign({},r.headers);return Bw(E,e),kw(E,i),zw(E,h),qw(E,s),new Pw(y,r.method,E,r.body,r.successCodes,r.additionalRetryCodes,r.handler,r.errorHandler,r.timeout,r.progressCallback,o,d,p)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function jw(r){if(r.length===0)return null;const e=r.lastIndexOf("/");return e===-1?"":r.slice(0,e)}function Fw(r){const e=r.lastIndexOf("/",r.length-2);return e===-1?r:r.slice(e+1)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Oc{constructor(e,i){this._service=e,i instanceof Ln?this._location=i:this._location=Ln.makeFromUrl(i,e.host)}toString(){return"gs://"+this._location.bucket+"/"+this._location.path}_newRef(e,i){return new Oc(e,i)}get root(){const e=new Ln(this._location.bucket,"");return this._newRef(this._service,e)}get bucket(){return this._location.bucket}get fullPath(){return this._location.path}get name(){return Fw(this._location.path)}get storage(){return this._service}get parent(){const e=jw(this._location.path);if(e===null)return null;const i=new Ln(this._location.bucket,e);return new Oc(this._service,i)}_throwIfRoot(e){if(this._location.path==="")throw Iw(e)}}function sv(r,e){const i=e?.[Aw];return i==null?null:Ln.makeFromBucketSpec(i,r)}function Gw(r,e,i,s={}){r.host=`${e}:${i}`;const o=Uc(e);o&&(xv(`https://${r.host}/b`),Lv("Storage",!0)),r._isUsingEmulator=!0,r._protocol=o?"https":"http";const{mockUserToken:h}=s;h&&(r._overrideAuthToken=typeof h=="string"?h:Uv(h,r.app.options.projectId))}class Qw{constructor(e,i,s,o,h,d=!1){this.app=e,this._authProvider=i,this._appCheckProvider=s,this._url=o,this._firebaseVersion=h,this._isUsingEmulator=d,this._bucket=null,this._host=D0,this._protocol="https",this._appId=null,this._deleted=!1,this._maxOperationRetryTime=Sw,this._maxUploadRetryTime=bw,this._requests=new Set,o!=null?this._bucket=Ln.makeFromBucketSpec(o,this._host):this._bucket=sv(this._host,this.app.options)}get host(){return this._host}set host(e){this._host=e,this._url!=null?this._bucket=Ln.makeFromBucketSpec(this._url,e):this._bucket=sv(e,this.app.options)}get maxUploadRetryTime(){return this._maxUploadRetryTime}set maxUploadRetryTime(e){av("time",0,Number.POSITIVE_INFINITY,e),this._maxUploadRetryTime=e}get maxOperationRetryTime(){return this._maxOperationRetryTime}set maxOperationRetryTime(e){av("time",0,Number.POSITIVE_INFINITY,e),this._maxOperationRetryTime=e}async _getAuthToken(){if(this._overrideAuthToken)return this._overrideAuthToken;const e=this._authProvider.getImmediate({optional:!0});if(e){const i=await e.getToken();if(i!==null)return i.accessToken}return null}async _getAppCheckToken(){if(Hv(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const e=this._appCheckProvider.getImmediate({optional:!0});return e?(await e.getToken()).token:null}_delete(){return this._deleted||(this._deleted=!0,this._requests.forEach(e=>e.cancel()),this._requests.clear()),Promise.resolve()}_makeStorageReference(e){return new Oc(this,e)}_makeRequest(e,i,s,o,h=!0){if(this._deleted)return new Vw(N0());{const d=Hw(e,this._appId,s,o,i,this._firebaseVersion,h,this._isUsingEmulator);return this._requests.add(d),d.getPromise().then(()=>this._requests.delete(d),()=>this._requests.delete(d)),d}}async makeRequestWithTokens(e,i){const[s,o]=await Promise.all([this._getAuthToken(),this._getAppCheckToken()]);return this._makeRequest(e,i,s,o).getPromise()}}const lv="@firebase/storage",ov="0.14.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const I0="storage";function Yw(r=Gv(),e){r=Aa(r);const s=qv(r,I0).getImmediate({identifier:e}),o=Ov("storage");return o&&Kw(s,...o),s}function Kw(r,e,i,s={}){Gw(r,e,i,s)}function Xw(r,{instanceIdentifier:e}){const i=r.getProvider("app").getImmediate(),s=r.getProvider("auth-internal"),o=r.getProvider("app-check-internal");return new Qw(i,s,o,e,jv)}function $w(){co(new Ns(I0,Xw,"PUBLIC").setMultipleInstances(!0)),Ar(lv,ov,""),Ar(lv,ov,"esm2020")}$w();const Zw={apiKey:"AIzaSyA_2MX1zGPAcmH7gkEyeg3uuIBm4nXa-lg",authDomain:"lab-reports-f8033.firebaseapp.com",projectId:"lab-reports-f8033",storageBucket:"lab-reports-f8033.appspot.com",messagingSenderId:"883860381287",appId:"1:883860381287:web:e7fb8a5963d8d29a74bec2",measurementId:"G-EQFYZ22R8N"},V0=Fv(Zw),Cr=rw(V0);Yw(V0);const Jw=()=>{const[r,e]=q.useState([]),[i,s]=q.useState(!0),[o,h]=q.useState(!1),[d,p]=q.useState(null),g=async()=>{try{s(!0);const R=(await _w(vo(Cr,"orders"))).docs.map(L=>({id:L.id,...L.data()}));e(R)}catch(S){console.error("Error fetching orders:",S)}finally{s(!1)}},y=S=>{p(S),h(!0)},E=async()=>{if(d)try{await Rm(Xc(Cr,"orders",d)),e(S=>S.filter(R=>R.id!==d))}catch(S){console.error("Error deleting order:",S)}finally{h(!1),p(null)}};return q.useEffect(()=>{g()},[]),B.createElement("div",{className:"order-container"},B.createElement("h2",{className:"order-heading"},"📦 Received Orders"),B.createElement("button",{onClick:()=>{g()}},"Refreash"),i?B.createElement("p",{className:"loading-text"},"Loading orders..."):r.length===0?B.createElement("p",{className:"no-orders"},"No orders yet."):r.map(S=>B.createElement("div",{className:"order-box",key:S.id},B.createElement("p",null,B.createElement("strong",null,"Order ID:")," ",S.id),B.createElement("p",null,B.createElement("strong",null,"Time:"),S.timestamp?new Date(S.timestamp.seconds?S.timestamp.seconds*1e3:S.timestamp).toLocaleString():"No timestamp"),S.client&&B.createElement("div",{className:"client-details"},B.createElement("h3",null,"Client Details"),B.createElement("p",null,B.createElement("strong",null,"Name:")," ",S.client.name),B.createElement("p",null,B.createElement("strong",null,"Email:")," ",S.client.email),B.createElement("p",null,B.createElement("strong",null,"Phone:")," ",S.client.phone),B.createElement("p",null,B.createElement("strong",null,"Address:")," ",S.client.address)),B.createElement("h3",{className:"order-items-title"},"🛒 Ordered Items"),B.createElement("ul",{className:"order-items"},S.items?.map((R,L)=>B.createElement("li",{key:R.id||L,className:"order-item"},B.createElement("img",{src:R.image,alt:R.name,className:"order-item-image"}),B.createElement("span",{className:"order-item-details"},R.qty," x ",R.name," ($",R.price?.toFixed(2),") —",B.createElement("strong",null," Total: $",R.qty*R.price?.toFixed(2)))))),B.createElement("button",{className:"delete-btn",onClick:()=>y(S.id)},"🗑️ Delete Order"))),o&&B.createElement("div",{className:"modal-overlay"},B.createElement("div",{className:"modal-box"},B.createElement("p",null,"Are you sure you want to delete this product?"),B.createElement("div",{className:"modal-actions"},B.createElement("button",{className:"confirm-btn",onClick:E},"Yes, Delete"),B.createElement("button",{className:"cancel-btn",onClick:()=>h(!1)},"Cancel")))))};/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ww=r=>r.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),tC=r=>r.replace(/^([A-Z])|[\s-_]+(\w)/g,(e,i,s)=>s?s.toUpperCase():i.toLowerCase()),uv=r=>{const e=tC(r);return e.charAt(0).toUpperCase()+e.slice(1)},O0=(...r)=>r.filter((e,i,s)=>!!e&&e.trim()!==""&&s.indexOf(e)===i).join(" ").trim(),eC=r=>{for(const e in r)if(e.startsWith("aria-")||e==="role"||e==="title")return!0};/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var nC={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const iC=q.forwardRef(({color:r="currentColor",size:e=24,strokeWidth:i=2,absoluteStrokeWidth:s,className:o="",children:h,iconNode:d,...p},g)=>q.createElement("svg",{ref:g,...nC,width:e,height:e,stroke:r,strokeWidth:s?Number(i)*24/Number(e):i,className:O0("lucide",o),...!h&&!eC(p)&&{"aria-hidden":"true"},...p},[...d.map(([y,E])=>q.createElement(y,E)),...Array.isArray(h)?h:[h]]));/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ia=(r,e)=>{const i=q.forwardRef(({className:s,...o},h)=>q.createElement(iC,{ref:h,iconNode:e,className:O0(`lucide-${Ww(uv(r))}`,`lucide-${r}`,s),...o}));return i.displayName=uv(r),i};/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const rC=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M8 12h8",key:"1wcyev"}],["path",{d:"M12 8v8",key:"napkw2"}]],cv=Ia("circle-plus",rC);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const aC=[["path",{d:"M12 13v8",key:"1l5pq0"}],["path",{d:"M4 14.899A7 7 0 1 1 15.71 8h1.79a4.5 4.5 0 0 1 2.5 8.242",key:"1pljnt"}],["path",{d:"m8 17 4-4 4 4",key:"1quai1"}]],sC=Ia("cloud-upload",aC);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const lC=[["line",{x1:"12",x2:"12",y1:"2",y2:"22",key:"7eqyqh"}],["path",{d:"M17 5H9.5a3.5 3.5 0 0 0 0 7h5a3.5 3.5 0 0 1 0 7H6",key:"1b0p4s"}]],ac=Ia("dollar-sign",lC);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const oC=[["path",{d:"M11 21.73a2 2 0 0 0 2 0l7-4A2 2 0 0 0 21 16V8a2 2 0 0 0-1-1.73l-7-4a2 2 0 0 0-2 0l-7 4A2 2 0 0 0 3 8v8a2 2 0 0 0 1 1.73z",key:"1a0edw"}],["path",{d:"M12 22V12",key:"d0xqtd"}],["polyline",{points:"3.29 7 12 12 20.71 7",key:"ousv84"}],["path",{d:"m7.5 4.27 9 5.15",key:"1c824w"}]],hv=Ia("package",oC);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const uC=[["path",{d:"M16 10a4 4 0 0 1-8 0",key:"1ltviw"}],["path",{d:"M3.103 6.034h17.794",key:"awc11p"}],["path",{d:"M3.4 5.467a2 2 0 0 0-.4 1.2V20a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2V6.667a2 2 0 0 0-.4-1.2l-2-2.667A2 2 0 0 0 17 2H7a2 2 0 0 0-1.6.8z",key:"o988cm"}]],fv=Ia("shopping-bag",uC);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const cC=[["path",{d:"M12 4v16",key:"1654pz"}],["path",{d:"M4 7V5a1 1 0 0 1 1-1h14a1 1 0 0 1 1 1v2",key:"e0r10z"}],["path",{d:"M9 20h6",key:"s66wpe"}]],dv=Ia("type",cC);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const hC=[["path",{d:"M12 3v12",key:"1x0j5s"}],["path",{d:"m17 8-5-5-5 5",key:"7q97r8"}],["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}]],fC=Ia("upload",hC),dC=()=>{const[r,e]=q.useState(""),[i,s]=q.useState(""),[o,h]=q.useState(""),[d,p]=q.useState(""),[g,y]=q.useState([]),[E,S]=q.useState([]),[R,L]=q.useState(""),[G,$]=q.useState("Empty"),[H,nt]=q.useState(!1),[tt,it]=q.useState(""),[ft,ot]=q.useState(""),[St,M]=q.useState([]),[b,w]=q.useState(!1),[O,x]=q.useState(null),I="dlrxomdfh",C="Shop-preset";q.useEffect(()=>{const ht=w0(vo(Cr,"products"),N=>{const Z=N.docs.map(at=>({id:at.id,...at.data()}));M(Z)});return()=>ht()},[]),q.useEffect(()=>{if(tt||ft){const ht=setTimeout(()=>{it(""),ot("")},3e3);return()=>clearTimeout(ht)}},[tt,ft]),q.useEffect(()=>()=>{E.forEach(ht=>URL.revokeObjectURL(ht))},[E]);const Jt=()=>{it(""),ot("")},qt=ht=>{const N=Array.from(ht.target.files);for(let Z of N){if(!["image/jpeg","image/png","image/jpg"].includes(Z.type)){ot("Only JPEG/PNG images are allowed.");return}if(Z.size>5*1024*1024){ot("Each file must be less than 5MB.");return}}y(N),S(N.map(Z=>URL.createObjectURL(Z)))},Y=async ht=>{if(ht.preventDefault(),!r||!i||!o||!d||!R||G==="Empty"||g.length===0){ot("Please fill in all fields.");return}if(parseFloat(o)<=0||parseInt(R)<0||parseFloat(d)<0){ot("Price must be > 0 and quantity >= 0.");return}try{nt(!0);const N=[];for(let Z of g){const at=new FormData;at.append("file",Z),at.append("upload_preset",C),at.append("cloud_name",I);const dt=await(await fetch(`https://api.cloudinary.com/v1_1/${I}/image/upload`,{method:"POST",body:at})).json();N.push(dt.secure_url)}await R0(vo(Cr,"products"),{name:r,det:i,price:parseFloat(o),newprice:parseFloat(d),quantity:parseInt(R),category:G,images:N,createdAt:new Date}),e(""),s(""),h(""),p(""),L(""),$("Empty"),y([]),S([]),it("Product added successfully!")}catch(N){console.error(N),ot("Failed to add product. Try again.")}finally{nt(!1)}},lt=ht=>{x(ht),w(!0)},pt=async()=>{try{await Rm(Xc(Cr,"products",O)),w(!1),x(null)}catch(ht){console.error(ht),alert("Failed to delete product")}};return B.createElement("div",{className:"add-product-container"},B.createElement("h2",null,"Add New Product"),B.createElement("div",{className:"message-box"},tt&&B.createElement("p",{className:"success"},tt),ft&&B.createElement("p",{className:"error"},ft)),B.createElement("form",{onSubmit:Y,className:"form"},B.createElement("label",{htmlFor:"category-select"},"Category"),B.createElement("select",{id:"category-select",value:G,onChange:ht=>$(ht.target.value)},B.createElement("option",{value:"Empty"},"Select Category"),B.createElement("option",{value:"men"},"Men"),B.createElement("option",{value:"women"},"Women"),B.createElement("option",{value:"kids"},"Kids")),B.createElement("div",{className:"input-wrapper"},B.createElement(fv,{className:"input-icon",size:18}),B.createElement("input",{type:"text",placeholder:"Product Name",value:r,onFocus:Jt,onChange:ht=>e(ht.target.value)})),B.createElement("input",{type:"text",placeholder:"Product Details",value:i,onFocus:Jt,onChange:ht=>s(ht.target.value)}),B.createElement("div",{className:"grid-row"},B.createElement("div",{className:"input-wrapper small"},B.createElement(ac,{className:"input-icon",size:18}),B.createElement("input",{type:"number",placeholder:"Price",value:o,onFocus:Jt,onChange:ht=>h(ht.target.value),step:"0.1"})),B.createElement("div",{className:"input-wrapper small"},B.createElement(ac,{className:"input-icon",size:18}),B.createElement("input",{type:"number",placeholder:"New Price",value:d,onFocus:Jt,onChange:ht=>p(ht.target.value),step:"0.1"})),B.createElement("div",{className:"input-wrapper small"},B.createElement(hv,{className:"input-icon",size:18}),B.createElement("input",{type:"number",placeholder:"Quantity",value:R,onFocus:Jt,onChange:ht=>L(ht.target.value)}))),B.createElement("input",{type:"file",accept:"image/*",id:"fileInput",onChange:qt,style:{display:"none"},multiple:!0}),B.createElement("button",{type:"button",className:"upload-btn",onClick:()=>document.getElementById("fileInput").click(),"aria-label":"Upload product images"},B.createElement(fC,{size:60})," Upload Images"),B.createElement("div",{className:"img-input-wrapper file-upload"},E.length>0&&B.createElement("div",{className:"preview-box"},E.map((ht,N)=>B.createElement("div",{key:N,className:"imgs relative"},B.createElement("img",{src:ht,alt:`Preview ${N}`,className:"preview-img"}),B.createElement("button",{type:"button",className:"remove-image",onClick:()=>{const Z=g.filter((rt,dt)=>dt!==N),at=E.filter((rt,dt)=>dt!==N);y(Z),S(at)}},"×"))))),B.createElement("button",{className:"add-btn",type:"submit",disabled:H},H?"Adding...":"Add Product")),B.createElement("h2",null,"Existing Products"),St.length===0?B.createElement("p",null,"No products found."):["men","women","kids"].map(ht=>B.createElement("div",{key:ht},B.createElement("h3",null,ht.toUpperCase()),B.createElement("ul",{className:"product-list"},St.filter(N=>N.category===ht).map(N=>B.createElement("li",{key:N.id,className:"product-item"},B.createElement("img",{className:"exist-product-img",src:N.images&&N.images[0],alt:N.name}),B.createElement("div",{className:"product-info"},B.createElement("p",null,B.createElement(fv,{size:14})," ",B.createElement("strong",null,N.name)),B.createElement("p",null,B.createElement(ac,{size:14})," $",N.price.toFixed(2)),B.createElement("p",null,B.createElement(ac,{size:14})," $",N.newprice),B.createElement("p",null,B.createElement(hv,{size:14})," Qty: ",N.quantity)),B.createElement("button",{className:"delete-btn",onClick:()=>lt(N.id)},"Delete")))))),b&&B.createElement("div",{className:"modal-overlay"},B.createElement("div",{className:"modal-box"},B.createElement("p",null,"Are you sure you want to delete this product?"),B.createElement("div",{className:"modal-actions"},B.createElement("button",{className:"confirm-btn",onClick:pt},"Yes, Delete"),B.createElement("button",{className:"cancel-btn",onClick:()=>w(!1)},"Cancel")))))},mC=()=>{const[r,e]=q.useState(""),[i,s]=q.useState(""),[o,h]=q.useState(""),[d,p]=q.useState(null),[g,y]=q.useState(null),[E,S]=q.useState(!1),[R,L]=q.useState(""),[G,$]=q.useState(""),[H,nt]=q.useState([]),[tt,it]=q.useState(!1),[ft,ot]=q.useState(null),St="dlrxomdfh",M="Shop-preset";q.useEffect(()=>{const I=w0(vo(Cr,"heroes"),C=>{const Jt=C.docs.map(qt=>({id:qt.id,...qt.data()}));nt(Jt)});return()=>I()},[]),q.useEffect(()=>{if(R||G){const I=setTimeout(()=>{L(""),$("")},5e3);return()=>clearTimeout(I)}},[R,G]),q.useEffect(()=>()=>{g&&URL.revokeObjectURL(g)},[g]);const b=I=>{const C=I.target.files[0];if(C){if(!["image/jpeg","image/png","image/jpg"].includes(C.type)){$("Only JPEG/PNG images are allowed.");return}if(C.size>5*1024*1024){$("File size must be less than 5MB.");return}p(C),y(URL.createObjectURL(C))}},w=async I=>{if(I.preventDefault(),!r||!i||!o||!d){$("Please fill in all fields.");return}try{S(!0);const C=new FormData;C.append("file",d),C.append("upload_preset",M),C.append("cloud_name",St);const qt=await(await fetch(`https://api.cloudinary.com/v1_1/${St}/image/upload`,{method:"POST",body:C})).json();if(!qt.secure_url)throw new Error("Image upload failed");const Y=qt.secure_url;await R0(vo(Cr,"heroes"),{title:r,subtitle:i,description:o,image:Y,createdAt:new Date}),e(""),s(""),h(""),p(null),y(null),L("Hero added successfully!")}catch(C){console.error(C),$("Failed to add hero. Try again.")}finally{S(!1)}},O=I=>{ot(I),it(!0)},x=async()=>{try{await Rm(Xc(Cr,"heroes",ft)),it(!1),ot(null)}catch(I){console.error(I),alert("Failed to delete hero")}};return B.createElement("div",{className:"add-hero-container"},B.createElement("h2",null,"Add Hero Section"),B.createElement("div",{className:"message-box"},R&&B.createElement("p",{className:"success"},R),G&&B.createElement("p",{className:"error"},G)),B.createElement("form",{onSubmit:w,className:"form"},B.createElement("div",{className:"input-wrapper"},B.createElement(dv,{size:18}),B.createElement("input",{type:"text",placeholder:"Hero Title",value:r,onChange:I=>e(I.target.value)})),B.createElement("div",{className:"input-wrapper"},B.createElement(dv,{size:18}),B.createElement("input",{type:"text",placeholder:"Buttun title",value:i,onChange:I=>s(I.target.value)})),B.createElement("textarea",{placeholder:"Hero Description",value:o,onChange:I=>h(I.target.value)}),B.createElement("div",{className:"input-wrapper file-upload"},B.createElement("input",{type:"file",accept:"image/*",id:"fileInput",onChange:b,style:{display:"none"}}),B.createElement("button",{type:"button",className:"upload-btn",onClick:()=>document.getElementById("fileInput").click()},B.createElement(sC,{size:20})," Upload Image")),g&&B.createElement("div",{className:"preview-box"},B.createElement("img",{src:g,alt:"Preview",className:"preview-img"}),B.createElement("button",{type:"button",onClick:()=>{p(null),y(null)}},"Remove")),B.createElement("button",{className:"add-btn",type:"submit",disabled:E},E?"Adding...":"Add Hero")),B.createElement("h2",null,"Existing Heroes"),H.length===0?B.createElement("p",null,"No hero sections found."):B.createElement("ul",{className:"hero-list"},H.map(I=>B.createElement("li",{key:I.id,className:"hero-item"},B.createElement("img",{src:I.image,alt:I.title,className:"hero-img"}),B.createElement("div",{className:"hero-info"},B.createElement("h3",null,"Title: ",B.createElement("strong",null,I.title)," "),B.createElement("p",null,"Button: ",B.createElement("strong",null,I.subtitle)," "),B.createElement("p",null,"Description: ",B.createElement("strong",null,I.description)," ")),B.createElement("button",{className:"delete-btn",onClick:()=>O(I.id)},"Delete")))),tt&&B.createElement("div",{className:"modal-overlay"},B.createElement("div",{className:"modal-box"},B.createElement("p",null,"Are you sure you want to delete this hero?"),B.createElement("div",{className:"modal-actions"},B.createElement("button",{className:"confirm-btn",onClick:x},"Yes, Delete"),B.createElement("button",{className:"cancel-btn",onClick:()=>it(!1)},"Cancel")))))};function pC(){const r={appContainer:{display:"flex",minHeight:"100vh"},nav:{display:"flex",flexDirection:"column",width:"220px",backgroundColor:"#f4f4f4",padding:"20px",borderRight:"1px solid #ccc"},logo:{fontSize:"24px",fontWeight:"bold",color:"#333",marginBottom:"30px",textAlign:"center"},links:{display:"flex",flexDirection:"column",gap:"20px"},link:{textDecoration:"none",color:"#007bff",fontWeight:"bold",fontSize:"16px",display:"flex",alignItems:"center",gap:"10px",padding:"10px",borderRadius:"8px",transition:"background-color 0.2s, color 0.2s"},activeLink:{color:"#ff4d4f",backgroundColor:"#ffe4e6"},mainContent:{flex:1,padding:"30px",backgroundColor:"#f9fafb"}};return B.createElement(bA,null,B.createElement("div",{style:r.appContainer},B.createElement("nav",{style:r.nav},B.createElement("h2",{style:r.logo},"Small Shop"),B.createElement("div",{style:r.links},B.createElement(oc,{to:"/add-hero",style:({isActive:e})=>e?{...r.link,...r.activeLink}:r.link},B.createElement(cv,{size:18})," Add Hero"),B.createElement(oc,{to:"/add-product",style:({isActive:e})=>e?{...r.link,...r.activeLink}:r.link},B.createElement(cv,{size:18}),"  Add Product"),B.createElement(oc,{to:"/orders",style:({isActive:e})=>e?{...r.link,...r.activeLink}:r.link},"📦 Orders"))),B.createElement("main",{style:r.mainContent},B.createElement(eA,null,B.createElement(Ss,{path:"/",element:B.createElement(Ky,{to:"/add-product",replace:!0})}),B.createElement(Ss,{path:"/Ecommerce-admin",element:B.createElement(Ky,{to:"/add-product",replace:!0})}),B.createElement(Ss,{path:"/add-product",element:B.createElement(dC,null)}),B.createElement(Ss,{path:"/add-hero",element:B.createElement(mC,null)}),B.createElement(Ss,{path:"/orders",element:B.createElement(Jw,null)})))))}h1.createRoot(document.getElementById("root")).render(B.createElement(q.StrictMode,null,B.createElement(pC,null)));
